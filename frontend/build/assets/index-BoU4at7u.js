function yS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function N0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Af={exports:{}},hl={},Pf={exports:{}},be={};var Hy;function _S(){if(Hy)return be;Hy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function k(F,q,he){this.props=F,this.context=q,this.refs=C,this.updater=he||I}k.prototype.isReactComponent={},k.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=k.prototype;function $(F,q,he){this.props=F,this.context=q,this.refs=C,this.updater=he||I}var K=$.prototype=new z;K.constructor=$,P(K,k.prototype),K.isPureReactComponent=!0;var Q=Array.isArray,G=Object.prototype.hasOwnProperty,te={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function x(F,q,he){var Ee,Se={},Ce=null,je=null;if(q!=null)for(Ee in q.ref!==void 0&&(je=q.ref),q.key!==void 0&&(Ce=""+q.key),q)G.call(q,Ee)&&!R.hasOwnProperty(Ee)&&(Se[Ee]=q[Ee]);var We=arguments.length-2;if(We===1)Se.children=he;else if(1<We){for(var Qe=Array(We),St=0;St<We;St++)Qe[St]=arguments[St+2];Se.children=Qe}if(F&&F.defaultProps)for(Ee in We=F.defaultProps,We)Se[Ee]===void 0&&(Se[Ee]=We[Ee]);return{$$typeof:n,type:F,key:Ce,ref:je,props:Se,_owner:te.current}}function A(F,q){return{$$typeof:n,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function N(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return q[he]})}var L=/\/+/g;function D(F,q){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):q.toString(36)}function Ue(F,q,he,Ee,Se){var Ce=typeof F;(Ce==="undefined"||Ce==="boolean")&&(F=null);var je=!1;if(F===null)je=!0;else switch(Ce){case"string":case"number":je=!0;break;case"object":switch(F.$$typeof){case n:case e:je=!0}}if(je)return je=F,Se=Se(je),F=Ee===""?"."+D(je,0):Ee,Q(Se)?(he="",F!=null&&(he=F.replace(L,"$&/")+"/"),Ue(Se,q,he,"",function(St){return St})):Se!=null&&(O(Se)&&(Se=A(Se,he+(!Se.key||je&&je.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+F)),q.push(Se)),1;if(je=0,Ee=Ee===""?".":Ee+":",Q(F))for(var We=0;We<F.length;We++){Ce=F[We];var Qe=Ee+D(Ce,We);je+=Ue(Ce,q,he,Qe,Se)}else if(Qe=E(F),typeof Qe=="function")for(F=Qe.call(F),We=0;!(Ce=F.next()).done;)Ce=Ce.value,Qe=Ee+D(Ce,We++),je+=Ue(Ce,q,he,Qe,Se);else if(Ce==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return je}function Pe(F,q,he){if(F==null)return F;var Ee=[],Se=0;return Ue(F,Ee,"","",function(Ce){return q.call(he,Ce,Se++)}),Ee}function Ne(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var Ae={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};function oe(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Pe,forEach:function(F,q,he){Pe(F,function(){q.apply(this,arguments)},he)},count:function(F){var q=0;return Pe(F,function(){q++}),q},toArray:function(F){return Pe(F,function(q){return q})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},be.Component=k,be.Fragment=t,be.Profiler=i,be.PureComponent=$,be.StrictMode=r,be.Suspense=h,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,be.act=oe,be.cloneElement=function(F,q,he){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ee=P({},F.props),Se=F.key,Ce=F.ref,je=F._owner;if(q!=null){if(q.ref!==void 0&&(Ce=q.ref,je=te.current),q.key!==void 0&&(Se=""+q.key),F.type&&F.type.defaultProps)var We=F.type.defaultProps;for(Qe in q)G.call(q,Qe)&&!R.hasOwnProperty(Qe)&&(Ee[Qe]=q[Qe]===void 0&&We!==void 0?We[Qe]:q[Qe])}var Qe=arguments.length-2;if(Qe===1)Ee.children=he;else if(1<Qe){We=Array(Qe);for(var St=0;St<Qe;St++)We[St]=arguments[St+2];Ee.children=We}return{$$typeof:n,type:F.type,key:Se,ref:Ce,props:Ee,_owner:je}},be.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},be.createElement=x,be.createFactory=function(F){var q=x.bind(null,F);return q.type=F,q},be.createRef=function(){return{current:null}},be.forwardRef=function(F){return{$$typeof:c,render:F}},be.isValidElement=O,be.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:Ne}},be.memo=function(F,q){return{$$typeof:p,type:F,compare:q===void 0?null:q}},be.startTransition=function(F){var q=ie.transition;ie.transition={};try{F()}finally{ie.transition=q}},be.unstable_act=oe,be.useCallback=function(F,q){return Ae.current.useCallback(F,q)},be.useContext=function(F){return Ae.current.useContext(F)},be.useDebugValue=function(){},be.useDeferredValue=function(F){return Ae.current.useDeferredValue(F)},be.useEffect=function(F,q){return Ae.current.useEffect(F,q)},be.useId=function(){return Ae.current.useId()},be.useImperativeHandle=function(F,q,he){return Ae.current.useImperativeHandle(F,q,he)},be.useInsertionEffect=function(F,q){return Ae.current.useInsertionEffect(F,q)},be.useLayoutEffect=function(F,q){return Ae.current.useLayoutEffect(F,q)},be.useMemo=function(F,q){return Ae.current.useMemo(F,q)},be.useReducer=function(F,q,he){return Ae.current.useReducer(F,q,he)},be.useRef=function(F){return Ae.current.useRef(F)},be.useState=function(F){return Ae.current.useState(F)},be.useSyncExternalStore=function(F,q,he){return Ae.current.useSyncExternalStore(F,q,he)},be.useTransition=function(){return Ae.current.useTransition()},be.version="18.3.1",be}var $y;function Op(){return $y||($y=1,Pf.exports=_S()),Pf.exports}var qy;function vS(){if(qy)return hl;qy=1;var n=Op(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var m,v={},E=null,I=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(I=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:E,ref:I,props:v,_owner:i.current}}return hl.Fragment=t,hl.jsx=l,hl.jsxs=l,hl}var Ky;function wS(){return Ky||(Ky=1,Af.exports=vS()),Af.exports}var ae=wS(),re=Op();const Kr=N0(re),ES=yS({__proto__:null,default:Kr},[re]);var bc={},bf={exports:{}},ln={},Rf={exports:{}},Df={};var Gy;function TS(){return Gy||(Gy=1,(function(n){function e(ie,ge){var oe=ie.length;ie.push(ge);e:for(;0<oe;){var F=oe-1>>>1,q=ie[F];if(0<i(q,ge))ie[F]=ge,ie[oe]=q,oe=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ge=ie[0],oe=ie.pop();if(oe!==ge){ie[0]=oe;e:for(var F=0,q=ie.length,he=q>>>1;F<he;){var Ee=2*(F+1)-1,Se=ie[Ee],Ce=Ee+1,je=ie[Ce];if(0>i(Se,oe))Ce<q&&0>i(je,Se)?(ie[F]=je,ie[Ce]=oe,F=Ce):(ie[F]=Se,ie[Ee]=oe,F=Ee);else if(Ce<q&&0>i(je,oe))ie[F]=je,ie[Ce]=oe,F=Ce;else break e}}return ge}function i(ie,ge){var oe=ie.sortIndex-ge.sortIndex;return oe!==0?oe:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],m=1,v=null,E=3,I=!1,P=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var ge=t(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=ie)r(p),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=t(p)}}function Q(ie){if(C=!1,K(ie),!P)if(t(h)!==null)P=!0,Ne(G);else{var ge=t(p);ge!==null&&Ae(Q,ge.startTime-ie)}}function G(ie,ge){P=!1,C&&(C=!1,z(x),x=-1),I=!0;var oe=E;try{for(K(ge),v=t(h);v!==null&&(!(v.expirationTime>ge)||ie&&!N());){var F=v.callback;if(typeof F=="function"){v.callback=null,E=v.priorityLevel;var q=F(v.expirationTime<=ge);ge=n.unstable_now(),typeof q=="function"?v.callback=q:v===t(h)&&r(h),K(ge)}else r(h);v=t(h)}if(v!==null)var he=!0;else{var Ee=t(p);Ee!==null&&Ae(Q,Ee.startTime-ge),he=!1}return he}finally{v=null,E=oe,I=!1}}var te=!1,R=null,x=-1,A=5,O=-1;function N(){return!(n.unstable_now()-O<A)}function L(){if(R!==null){var ie=n.unstable_now();O=ie;var ge=!0;try{ge=R(!0,ie)}finally{ge?D():(te=!1,R=null)}}else te=!1}var D;if(typeof $=="function")D=function(){$(L)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Pe=Ue.port2;Ue.port1.onmessage=L,D=function(){Pe.postMessage(null)}}else D=function(){k(L,0)};function Ne(ie){R=ie,te||(te=!0,D())}function Ae(ie,ge){x=k(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,Ne(G))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var oe=E;E=ge;try{return ie()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=E;E=ie;try{return ge()}finally{E=oe}},n.unstable_scheduleCallback=function(ie,ge,oe){var F=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,ie){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,ie={id:m++,callback:ge,priorityLevel:ie,startTime:oe,expirationTime:q,sortIndex:-1},oe>F?(ie.sortIndex=oe,e(p,ie),t(h)===null&&ie===t(p)&&(C?(z(x),x=-1):C=!0,Ae(Q,oe-F))):(ie.sortIndex=q,e(h,ie),P||I||(P=!0,Ne(G))),ie},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(ie){var ge=E;return function(){var oe=E;E=ge;try{return ie.apply(this,arguments)}finally{E=oe}}}})(Df)),Df}var Qy;function IS(){return Qy||(Qy=1,Rf.exports=TS()),Rf.exports}var Yy;function SS(){if(Yy)return ln;Yy=1;var n=Op(),e=IS();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(s){return h.call(v,s)?!0:h.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function I(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,u,f){if(a===null||typeof a>"u"||I(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(s,a,u,f,g,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new C(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(z,$);k[a]=new C(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(z,$);k[a]=new C(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(z,$);k[a]=new C(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,a,u,f){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,u,g,f)&&(u=null),f||g===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),te=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,F;function q(s){if(F===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var he=!1;function Ee(s,a){if(!s||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){f=W}s.call(a.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),_=f.stack.split(`
`),T=g.length-1,b=_.length-1;1<=T&&0<=b&&g[T]!==_[b];)b--;for(;1<=T&&0<=b;T--,b--)if(g[T]!==_[b]){if(T!==1||b!==1)do if(T--,b--,0>b||g[T]!==_[b]){var M=`
`+g[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=b);break}}}finally{he=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?q(s):""}function Se(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case te:return"Portal";case A:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case Ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case L:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Pe:return a=s.displayName||null,a!==null?a:Ce(s.type)||"Memo";case Ne:a=s._payload,s=s._init;try{return Ce(s(a))}catch{}}return null}function je(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function St(s){var a=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Er(s){s._valueTracker||(s._valueTracker=St(s))}function Ks(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function ti(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Gi(s,a){var u=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Gs(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=We(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ya(s,a){a=a.checked,a!=null&&K(s,"checked",a,!1)}function _a(s,a){ya(s,a);var u=We(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Qs(s,a.type,u):a.hasOwnProperty("defaultValue")&&Qs(s,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function gu(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Qs(s,a,u){(a!=="number"||ti(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Tr=Array.isArray;function Ir(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+We(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function va(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ys(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Tr(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:We(u)}}function Xs(s,a){var u=We(a.value),f=We(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function wa(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?mt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Sr,Ea=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Sr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ni(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yi=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(s){Yi.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Qi[a]=Qi[s]})});function Ta(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Qi.hasOwnProperty(s)&&Qi[s]?(""+a).trim():a+"px"}function Ia(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Ta(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var Sa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(s,a){if(a){if(Sa[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ka(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function Js(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zs=null,vn=null,er=null;function eo(s){if(s=Ya(s)){if(typeof Zs!="function")throw Error(t(280));var a=s.stateNode;a&&(a=$u(a),Zs(s.stateNode,s.type,a))}}function tr(s){vn?er?er.push(s):er=[s]:vn=s}function Ca(){if(vn){var s=vn,a=er;if(er=vn=null,eo(s),a)for(s=0;s<a.length;s++)eo(a[s])}}function Ji(s,a){return s(a)}function Aa(){}var xr=!1;function Pa(s,a,u){if(xr)return s(a,u);xr=!0;try{return Ji(s,a,u)}finally{xr=!1,(vn!==null||er!==null)&&(Aa(),Ca())}}function ut(s,a){var u=s.stateNode;if(u===null)return null;var f=$u(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var to=!1;if(c)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){to=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{to=!1}function Zi(s,a,u,f,g,_,T,b,M){var W=Array.prototype.slice.call(arguments,3);try{a.apply(u,W)}catch(X){this.onError(X)}}var es=!1,no=null,Vn=!1,ba=null,td={onError:function(s){es=!0,no=s}};function ro(s,a,u,f,g,_,T,b,M){es=!1,no=null,Zi.apply(td,arguments)}function mu(s,a,u,f,g,_,T,b,M){if(ro.apply(this,arguments),es){if(es){var W=no;es=!1,no=null}else throw Error(t(198));Vn||(Vn=!0,ba=W)}}function Fn(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ts(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Un(s){if(Fn(s)!==s)throw Error(t(188))}function yu(s){var a=s.alternate;if(!a){if(a=Fn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Un(g),s;if(_===f)return Un(g),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=_;else{for(var T=!1,b=g.child;b;){if(b===u){T=!0,u=g,f=_;break}if(b===f){T=!0,f=g,u=_;break}b=b.sibling}if(!T){for(b=_.child;b;){if(b===u){T=!0,u=_,f=g;break}if(b===f){T=!0,f=_,u=g;break}b=b.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Ra(s){return s=yu(s),s!==null?io(s):null}function io(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=io(s);if(a!==null)return a;s=s.sibling}return null}var so=e.unstable_scheduleCallback,Da=e.unstable_cancelCallback,_u=e.unstable_shouldYield,nd=e.unstable_requestPaint,Ye=e.unstable_now,vu=e.unstable_getCurrentPriorityLevel,ns=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,wu=e.unstable_IdlePriority,rs=null,hn=null;function Eu(s){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(rs,s,void 0,(s.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Iu,Na=Math.log,Tu=Math.LN2;function Iu(s){return s>>>=0,s===0?32:31-(Na(s)/Tu|0)|0}var oo=64,ao=4194304;function ii(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function is(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var b=T&~g;b!==0?f=ii(b):(_&=T,_!==0&&(f=ii(_)))}else T=u&~g,T!==0?f=ii(T):_!==0&&(f=ii(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-Yt(a),g=1<<u,f|=s[u],a&=~g;return f}function rd(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-Yt(_),b=1<<T,M=g[T];M===-1?((b&u)===0||(b&f)!==0)&&(g[T]=rd(b,a)):M<=a&&(s.expiredLanes|=b),_&=~b}}function dn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ss(){var s=oo;return oo<<=1,(oo&4194240)===0&&(oo=64),s}function si(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function oi(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Yt(a),s[a]=u}function Ge(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-Yt(u),_=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~_}}function ai(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-Yt(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var De=0;function li(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Su,lo,xu,ku,Cu,Ma=!1,nr=[],Dt=null,zn=null,Bn=null,ui=new Map,En=new Map,rr=[],id="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(s,a){switch(s){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(a.pointerId)}}function en(s,a,u,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},a!==null&&(a=Ya(a),a!==null&&lo(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function sd(s,a,u,f,g){switch(a){case"focusin":return Dt=en(Dt,s,a,u,f,g),!0;case"dragenter":return zn=en(zn,s,a,u,f,g),!0;case"mouseover":return Bn=en(Bn,s,a,u,f,g),!0;case"pointerover":var _=g.pointerId;return ui.set(_,en(ui.get(_)||null,s,a,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,En.set(_,en(En.get(_)||null,s,a,u,f,g)),!0}return!1}function Pu(s){var a=cs(s.target);if(a!==null){var u=Fn(a);if(u!==null){if(a=u.tag,a===13){if(a=ts(u),a!==null){s.blockedOn=a,Cu(s.priority,function(){xu(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Cr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=uo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Xi=f,u.target.dispatchEvent(f),Xi=null}else return a=Ya(u),a!==null&&lo(a),s.blockedOn=u,!1;a.shift()}return!0}function os(s,a,u){Cr(s)&&u.delete(a)}function bu(){Ma=!1,Dt!==null&&Cr(Dt)&&(Dt=null),zn!==null&&Cr(zn)&&(zn=null),Bn!==null&&Cr(Bn)&&(Bn=null),ui.forEach(os),En.forEach(os)}function jn(s,a){s.blockedOn===a&&(s.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bu)))}function Wn(s){function a(g){return jn(g,s)}if(0<nr.length){jn(nr[0],s);for(var u=1;u<nr.length;u++){var f=nr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Dt!==null&&jn(Dt,s),zn!==null&&jn(zn,s),Bn!==null&&jn(Bn,s),ui.forEach(a),En.forEach(a),u=0;u<rr.length;u++)f=rr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<rr.length&&(u=rr[0],u.blockedOn===null);)Pu(u),u.blockedOn===null&&rr.shift()}var Ar=Q.ReactCurrentBatchConfig,ci=!0;function nt(s,a,u,f){var g=De,_=Ar.transition;Ar.transition=null;try{De=1,La(s,a,u,f)}finally{De=g,Ar.transition=_}}function od(s,a,u,f){var g=De,_=Ar.transition;Ar.transition=null;try{De=4,La(s,a,u,f)}finally{De=g,Ar.transition=_}}function La(s,a,u,f){if(ci){var g=uo(s,a,u,f);if(g===null)yd(s,a,f,as,u),Au(s,f);else if(sd(g,s,a,u,f))f.stopPropagation();else if(Au(s,f),a&4&&-1<id.indexOf(s)){for(;g!==null;){var _=Ya(g);if(_!==null&&Su(_),_=uo(s,a,u,f),_===null&&yd(s,a,f,as,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else yd(s,a,f,null,u)}}var as=null;function uo(s,a,u,f){if(as=null,s=Js(f),s=cs(s),s!==null)if(a=Fn(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ts(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return as=s,null}function Va(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case ns:return 1;case ri:return 4;case wn:case Oa:return 16;case wu:return 536870912;default:return 16}default:return 16}}var fn=null,co=null,tn=null;function Fa(){if(tn)return tn;var s,a=co,u=a.length,f,g="value"in fn?fn.value:fn.textContent,_=g.length;for(s=0;s<u&&a[s]===g[s];s++);var T=u-s;for(f=1;f<=T&&a[u-f]===g[_-f];f++);return tn=g.slice(s,1<f?1-f:void 0)}function ho(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ir(){return!0}function Ua(){return!1}function Ot(s){function a(u,f,g,_,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(u=s[b],this[b]=u?u(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ir:Ua,this.isPropagationStopped=Ua,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),a}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Ot(Hn),sr=oe({},Hn,{view:0,detail:0}),ad=Ot(sr),po,Pr,hi,ls=oe({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hi&&(hi&&s.type==="mousemove"?(po=s.screenX-hi.screenX,Pr=s.screenY-hi.screenY):Pr=po=0,hi=s),po)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),go=Ot(ls),za=oe({},ls,{dataTransfer:0}),Ru=Ot(za),mo=oe({},sr,{relatedTarget:0}),yo=Ot(mo),Du=oe({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),br=Ot(Du),Ou=oe({},Hn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Nu=Ot(Ou),Mu=oe({},Hn,{data:0}),Ba=Ot(Mu),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Lu[s])?!!a[s]:!1}function or(){return Vu}var d=oe({},sr,{key:function(s){if(s.key){var a=_o[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ho(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(s){return s.type==="keypress"?ho(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ho(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Ot(d),w=oe({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ot(w),U=oe({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),H=Ot(U),se=oe({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Ot(se),_t=oe({},ls,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Ot(_t),xt=[9,13,27,32],ft=c&&"CompositionEvent"in window,Tn=null;c&&"documentMode"in document&&(Tn=document.documentMode);var pn=c&&"TextEvent"in window&&!Tn,us=c&&(!ft||Tn&&8<Tn&&11>=Tn),vo=" ",Fg=!1;function Ug(s,a){switch(s){case"keyup":return xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wo=!1;function pI(s,a){switch(s){case"compositionend":return zg(a);case"keypress":return a.which!==32?null:(Fg=!0,vo);case"textInput":return s=a.data,s===vo&&Fg?null:s;default:return null}}function gI(s,a){if(wo)return s==="compositionend"||!ft&&Ug(s,a)?(s=Fa(),tn=co=fn=null,wo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return us&&a.locale!=="ko"?null:a.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!mI[s.type]:a==="textarea"}function jg(s,a,u,f){tr(f),a=ju(a,"onChange"),0<a.length&&(u=new fo("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var ja=null,Wa=null;function yI(s){om(s,0)}function Fu(s){var a=xo(s);if(Ks(a))return s}function _I(s,a){if(s==="change")return a}var Wg=!1;if(c){var ld;if(c){var ud="oninput"in document;if(!ud){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),ud=typeof Hg.oninput=="function"}ld=ud}else ld=!1;Wg=ld&&(!document.documentMode||9<document.documentMode)}function $g(){ja&&(ja.detachEvent("onpropertychange",qg),Wa=ja=null)}function qg(s){if(s.propertyName==="value"&&Fu(Wa)){var a=[];jg(a,Wa,s,Js(s)),Pa(yI,a)}}function vI(s,a,u){s==="focusin"?($g(),ja=a,Wa=u,ja.attachEvent("onpropertychange",qg)):s==="focusout"&&$g()}function wI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fu(Wa)}function EI(s,a){if(s==="click")return Fu(a)}function TI(s,a){if(s==="input"||s==="change")return Fu(a)}function II(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $n=typeof Object.is=="function"?Object.is:II;function Ha(s,a){if($n(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(a,g)||!$n(s[g],a[g]))return!1}return!0}function Kg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gg(s,a){var u=Kg(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Kg(u)}}function Qg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Qg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Yg(){for(var s=window,a=ti();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ti(s.document)}return a}function cd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function SI(s){var a=Yg(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Qg(u.ownerDocument.documentElement,u)){if(f!==null&&cd(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=Gg(u,_);var T=Gg(u,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xI=c&&"documentMode"in document&&11>=document.documentMode,Eo=null,hd=null,$a=null,dd=!1;function Xg(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dd||Eo==null||Eo!==ti(f)||(f=Eo,"selectionStart"in f&&cd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$a&&Ha($a,f)||($a=f,f=ju(hd,"onSelect"),0<f.length&&(a=new fo("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Eo)))}function Uu(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var To={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},fd={},Jg={};c&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function zu(s){if(fd[s])return fd[s];if(!To[s])return s;var a=To[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Jg)return fd[s]=a[u];return s}var Zg=zu("animationend"),em=zu("animationiteration"),tm=zu("animationstart"),nm=zu("transitionend"),rm=new Map,im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,a){rm.set(s,a),o(a,[s])}for(var pd=0;pd<im.length;pd++){var gd=im[pd],kI=gd.toLowerCase(),CI=gd[0].toUpperCase()+gd.slice(1);di(kI,"on"+CI)}di(Zg,"onAnimationEnd"),di(em,"onAnimationIteration"),di(tm,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(nm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function sm(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,mu(f,a,void 0,s),s.currentTarget=null}function om(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var b=f[T],M=b.instance,W=b.currentTarget;if(b=b.listener,M!==_&&g.isPropagationStopped())break e;sm(g,b,W),_=M}else for(T=0;T<f.length;T++){if(b=f[T],M=b.instance,W=b.currentTarget,b=b.listener,M!==_&&g.isPropagationStopped())break e;sm(g,b,W),_=M}}}if(Vn)throw s=ba,Vn=!1,ba=null,s}function Ze(s,a){var u=a[Id];u===void 0&&(u=a[Id]=new Set);var f=s+"__bubble";u.has(f)||(am(a,s,2,!1),u.add(f))}function md(s,a,u){var f=0;a&&(f|=4),am(u,s,f,a)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Ka(s){if(!s[Bu]){s[Bu]=!0,r.forEach(function(u){u!=="selectionchange"&&(AI.has(u)||md(u,!1,s),md(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Bu]||(a[Bu]=!0,md("selectionchange",!1,a))}}function am(s,a,u,f){switch(Va(a)){case 1:var g=nt;break;case 4:g=od;break;default:g=La}u=g.bind(null,a,u,s),g=void 0,!to||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function yd(s,a,u,f,g){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var b=f.stateNode.containerInfo;if(b===g||b.nodeType===8&&b.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;T=T.return}for(;b!==null;){if(T=cs(b),T===null)return;if(M=T.tag,M===5||M===6){f=_=T;continue e}b=b.parentNode}}f=f.return}Pa(function(){var W=_,X=Js(u),ee=[];e:{var Y=rm.get(s);if(Y!==void 0){var le=fo,ce=s;switch(s){case"keypress":if(ho(u)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":ce="focus",le=yo;break;case"focusout":ce="blur",le=yo;break;case"beforeblur":case"afterblur":le=yo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=H;break;case Zg:case em:case tm:le=br;break;case nm:le=$e;break;case"scroll":le=ad;break;case"wheel":le=Me;break;case"copy":case"cut":case"paste":le=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=S}var de=(a&4)!==0,ct=!de&&s==="scroll",B=de?Y!==null?Y+"Capture":null:Y;de=[];for(var V=W,j;V!==null;){j=V;var ne=j.stateNode;if(j.tag===5&&ne!==null&&(j=ne,B!==null&&(ne=ut(V,B),ne!=null&&de.push(Ga(V,ne,j)))),ct)break;V=V.return}0<de.length&&(Y=new le(Y,ce,null,u,X),ee.push({event:Y,listeners:de}))}}if((a&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Y&&u!==Xi&&(ce=u.relatedTarget||u.fromElement)&&(cs(ce)||ce[Rr]))break e;if((le||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,le?(ce=u.relatedTarget||u.toElement,le=W,ce=ce?cs(ce):null,ce!==null&&(ct=Fn(ce),ce!==ct||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(le=null,ce=W),le!==ce)){if(de=go,ne="onMouseLeave",B="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(de=S,ne="onPointerLeave",B="onPointerEnter",V="pointer"),ct=le==null?Y:xo(le),j=ce==null?Y:xo(ce),Y=new de(ne,V+"leave",le,u,X),Y.target=ct,Y.relatedTarget=j,ne=null,cs(X)===W&&(de=new de(B,V+"enter",ce,u,X),de.target=j,de.relatedTarget=ct,ne=de),ct=ne,le&&ce)t:{for(de=le,B=ce,V=0,j=de;j;j=Io(j))V++;for(j=0,ne=B;ne;ne=Io(ne))j++;for(;0<V-j;)de=Io(de),V--;for(;0<j-V;)B=Io(B),j--;for(;V--;){if(de===B||B!==null&&de===B.alternate)break t;de=Io(de),B=Io(B)}de=null}else de=null;le!==null&&lm(ee,Y,le,de,!1),ce!==null&&ct!==null&&lm(ee,ct,ce,de,!0)}}e:{if(Y=W?xo(W):window,le=Y.nodeName&&Y.nodeName.toLowerCase(),le==="select"||le==="input"&&Y.type==="file")var pe=_I;else if(Bg(Y))if(Wg)pe=TI;else{pe=wI;var ye=vI}else(le=Y.nodeName)&&le.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=EI);if(pe&&(pe=pe(s,W))){jg(ee,pe,u,X);break e}ye&&ye(s,Y,W),s==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&Qs(Y,"number",Y.value)}switch(ye=W?xo(W):window,s){case"focusin":(Bg(ye)||ye.contentEditable==="true")&&(Eo=ye,hd=W,$a=null);break;case"focusout":$a=hd=Eo=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Xg(ee,u,X);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":Xg(ee,u,X)}var _e;if(ft)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else wo?Ug(s,u)&&(Te="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(us&&u.locale!=="ko"&&(wo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&wo&&(_e=Fa()):(fn=X,co="value"in fn?fn.value:fn.textContent,wo=!0)),ye=ju(W,Te),0<ye.length&&(Te=new Ba(Te,s,null,u,X),ee.push({event:Te,listeners:ye}),_e?Te.data=_e:(_e=zg(u),_e!==null&&(Te.data=_e)))),(_e=pn?pI(s,u):gI(s,u))&&(W=ju(W,"onBeforeInput"),0<W.length&&(X=new Ba("onBeforeInput","beforeinput",null,u,X),ee.push({event:X,listeners:W}),X.data=_e))}om(ee,a)})}function Ga(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ju(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ut(s,u),_!=null&&f.unshift(Ga(s,_,g)),_=ut(s,a),_!=null&&f.push(Ga(s,_,g))),s=s.return}return f}function Io(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function lm(s,a,u,f,g){for(var _=a._reactName,T=[];u!==null&&u!==f;){var b=u,M=b.alternate,W=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&W!==null&&(b=W,g?(M=ut(u,_),M!=null&&T.unshift(Ga(u,M,b))):g||(M=ut(u,_),M!=null&&T.push(Ga(u,M,b)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var PI=/\r\n?/g,bI=/\u0000|\uFFFD/g;function um(s){return(typeof s=="string"?s:""+s).replace(PI,`
`).replace(bI,"")}function Wu(s,a,u){if(a=um(a),um(s)!==a&&u)throw Error(t(425))}function Hu(){}var _d=null,vd=null;function wd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ed=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(s){return cm.resolve(null).then(s).catch(OI)}:Ed;function OI(s){setTimeout(function(){throw s})}function Td(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),Wn(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Wn(a)}function fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function hm(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var So=Math.random().toString(36).slice(2),ar="__reactFiber$"+So,Qa="__reactProps$"+So,Rr="__reactContainer$"+So,Id="__reactEvents$"+So,NI="__reactListeners$"+So,MI="__reactHandles$"+So;function cs(s){var a=s[ar];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Rr]||u[ar]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=hm(s);s!==null;){if(u=s[ar])return u;s=hm(s)}return a}s=u,u=s.parentNode}return null}function Ya(s){return s=s[ar]||s[Rr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $u(s){return s[Qa]||null}var Sd=[],ko=-1;function pi(s){return{current:s}}function et(s){0>ko||(s.current=Sd[ko],Sd[ko]=null,ko--)}function Xe(s,a){ko++,Sd[ko]=s.current,s.current=a}var gi={},zt=pi(gi),nn=pi(!1),hs=gi;function Co(s,a){var u=s.type.contextTypes;if(!u)return gi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function rn(s){return s=s.childContextTypes,s!=null}function qu(){et(nn),et(zt)}function dm(s,a,u){if(zt.current!==gi)throw Error(t(168));Xe(zt,a),Xe(nn,u)}function fm(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,je(s)||"Unknown",g));return oe({},u,f)}function Ku(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gi,hs=zt.current,Xe(zt,s),Xe(nn,nn.current),!0}function pm(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=fm(s,a,hs),f.__reactInternalMemoizedMergedChildContext=s,et(nn),et(zt),Xe(zt,s)):et(nn),Xe(nn,u)}var Dr=null,Gu=!1,xd=!1;function gm(s){Dr===null?Dr=[s]:Dr.push(s)}function LI(s){Gu=!0,gm(s)}function mi(){if(!xd&&Dr!==null){xd=!0;var s=0,a=De;try{var u=Dr;for(De=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Dr=null,Gu=!1}catch(g){throw Dr!==null&&(Dr=Dr.slice(s+1)),so(ns,mi),g}finally{De=a,xd=!1}}return null}var Ao=[],Po=0,Qu=null,Yu=0,In=[],Sn=0,ds=null,Or=1,Nr="";function fs(s,a){Ao[Po++]=Yu,Ao[Po++]=Qu,Qu=s,Yu=a}function mm(s,a,u){In[Sn++]=Or,In[Sn++]=Nr,In[Sn++]=ds,ds=s;var f=Or;s=Nr;var g=32-Yt(f)-1;f&=~(1<<g),u+=1;var _=32-Yt(a)+g;if(30<_){var T=g-g%5;_=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Or=1<<32-Yt(a)+g|u<<g|f,Nr=_+s}else Or=1<<_|u<<g|f,Nr=s}function kd(s){s.return!==null&&(fs(s,1),mm(s,1,0))}function Cd(s){for(;s===Qu;)Qu=Ao[--Po],Ao[Po]=null,Yu=Ao[--Po],Ao[Po]=null;for(;s===ds;)ds=In[--Sn],In[Sn]=null,Nr=In[--Sn],In[Sn]=null,Or=In[--Sn],In[Sn]=null}var gn=null,mn=null,rt=!1,qn=null;function ym(s,a){var u=An(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function _m(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,gn=s,mn=fi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,gn=s,mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ds!==null?{id:Or,overflow:Nr}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=An(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,gn=s,mn=null,!0):!1;default:return!1}}function Ad(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Pd(s){if(rt){var a=mn;if(a){var u=a;if(!_m(s,a)){if(Ad(s))throw Error(t(418));a=fi(u.nextSibling);var f=gn;a&&_m(s,a)?ym(f,u):(s.flags=s.flags&-4097|2,rt=!1,gn=s)}}else{if(Ad(s))throw Error(t(418));s.flags=s.flags&-4097|2,rt=!1,gn=s}}}function vm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gn=s}function Xu(s){if(s!==gn)return!1;if(!rt)return vm(s),rt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wd(s.type,s.memoizedProps)),a&&(a=mn)){if(Ad(s))throw wm(),Error(t(418));for(;a;)ym(s,a),a=fi(a.nextSibling)}if(vm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){mn=fi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}mn=null}}else mn=gn?fi(s.stateNode.nextSibling):null;return!0}function wm(){for(var s=mn;s;)s=fi(s.nextSibling)}function bo(){mn=gn=null,rt=!1}function bd(s){qn===null?qn=[s]:qn.push(s)}var VI=Q.ReactCurrentBatchConfig;function Xa(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var b=g.refs;T===null?delete b[_]:b[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Ju(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Em(s){var a=s._init;return a(s._payload)}function Tm(s){function a(B,V){if(s){var j=B.deletions;j===null?(B.deletions=[V],B.flags|=16):j.push(V)}}function u(B,V){if(!s)return null;for(;V!==null;)a(B,V),V=V.sibling;return null}function f(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function g(B,V){return B=Si(B,V),B.index=0,B.sibling=null,B}function _(B,V,j){return B.index=j,s?(j=B.alternate,j!==null?(j=j.index,j<V?(B.flags|=2,V):j):(B.flags|=2,V)):(B.flags|=1048576,V)}function T(B){return s&&B.alternate===null&&(B.flags|=2),B}function b(B,V,j,ne){return V===null||V.tag!==6?(V=Tf(j,B.mode,ne),V.return=B,V):(V=g(V,j),V.return=B,V)}function M(B,V,j,ne){var pe=j.type;return pe===R?X(B,V,j.props.children,ne,j.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ne&&Em(pe)===V.type)?(ne=g(V,j.props),ne.ref=Xa(B,V,j),ne.return=B,ne):(ne=Tc(j.type,j.key,j.props,null,B.mode,ne),ne.ref=Xa(B,V,j),ne.return=B,ne)}function W(B,V,j,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=If(j,B.mode,ne),V.return=B,V):(V=g(V,j.children||[]),V.return=B,V)}function X(B,V,j,ne,pe){return V===null||V.tag!==7?(V=Es(j,B.mode,ne,pe),V.return=B,V):(V=g(V,j),V.return=B,V)}function ee(B,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Tf(""+V,B.mode,j),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return j=Tc(V.type,V.key,V.props,null,B.mode,j),j.ref=Xa(B,null,V),j.return=B,j;case te:return V=If(V,B.mode,j),V.return=B,V;case Ne:var ne=V._init;return ee(B,ne(V._payload),j)}if(Tr(V)||ge(V))return V=Es(V,B.mode,j,null),V.return=B,V;Ju(B,V)}return null}function Y(B,V,j,ne){var pe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return pe!==null?null:b(B,V,""+j,ne);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===pe?M(B,V,j,ne):null;case te:return j.key===pe?W(B,V,j,ne):null;case Ne:return pe=j._init,Y(B,V,pe(j._payload),ne)}if(Tr(j)||ge(j))return pe!==null?null:X(B,V,j,ne,null);Ju(B,j)}return null}function le(B,V,j,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(j)||null,b(V,B,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case G:return B=B.get(ne.key===null?j:ne.key)||null,M(V,B,ne,pe);case te:return B=B.get(ne.key===null?j:ne.key)||null,W(V,B,ne,pe);case Ne:var ye=ne._init;return le(B,V,j,ye(ne._payload),pe)}if(Tr(ne)||ge(ne))return B=B.get(j)||null,X(V,B,ne,pe,null);Ju(V,ne)}return null}function ce(B,V,j,ne){for(var pe=null,ye=null,_e=V,Te=V=0,At=null;_e!==null&&Te<j.length;Te++){_e.index>Te?(At=_e,_e=null):At=_e.sibling;var ze=Y(B,_e,j[Te],ne);if(ze===null){_e===null&&(_e=At);break}s&&_e&&ze.alternate===null&&a(B,_e),V=_(ze,V,Te),ye===null?pe=ze:ye.sibling=ze,ye=ze,_e=At}if(Te===j.length)return u(B,_e),rt&&fs(B,Te),pe;if(_e===null){for(;Te<j.length;Te++)_e=ee(B,j[Te],ne),_e!==null&&(V=_(_e,V,Te),ye===null?pe=_e:ye.sibling=_e,ye=_e);return rt&&fs(B,Te),pe}for(_e=f(B,_e);Te<j.length;Te++)At=le(_e,B,Te,j[Te],ne),At!==null&&(s&&At.alternate!==null&&_e.delete(At.key===null?Te:At.key),V=_(At,V,Te),ye===null?pe=At:ye.sibling=At,ye=At);return s&&_e.forEach(function(xi){return a(B,xi)}),rt&&fs(B,Te),pe}function de(B,V,j,ne){var pe=ge(j);if(typeof pe!="function")throw Error(t(150));if(j=pe.call(j),j==null)throw Error(t(151));for(var ye=pe=null,_e=V,Te=V=0,At=null,ze=j.next();_e!==null&&!ze.done;Te++,ze=j.next()){_e.index>Te?(At=_e,_e=null):At=_e.sibling;var xi=Y(B,_e,ze.value,ne);if(xi===null){_e===null&&(_e=At);break}s&&_e&&xi.alternate===null&&a(B,_e),V=_(xi,V,Te),ye===null?pe=xi:ye.sibling=xi,ye=xi,_e=At}if(ze.done)return u(B,_e),rt&&fs(B,Te),pe;if(_e===null){for(;!ze.done;Te++,ze=j.next())ze=ee(B,ze.value,ne),ze!==null&&(V=_(ze,V,Te),ye===null?pe=ze:ye.sibling=ze,ye=ze);return rt&&fs(B,Te),pe}for(_e=f(B,_e);!ze.done;Te++,ze=j.next())ze=le(_e,B,Te,ze.value,ne),ze!==null&&(s&&ze.alternate!==null&&_e.delete(ze.key===null?Te:ze.key),V=_(ze,V,Te),ye===null?pe=ze:ye.sibling=ze,ye=ze);return s&&_e.forEach(function(mS){return a(B,mS)}),rt&&fs(B,Te),pe}function ct(B,V,j,ne){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:e:{for(var pe=j.key,ye=V;ye!==null;){if(ye.key===pe){if(pe=j.type,pe===R){if(ye.tag===7){u(B,ye.sibling),V=g(ye,j.props.children),V.return=B,B=V;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ne&&Em(pe)===ye.type){u(B,ye.sibling),V=g(ye,j.props),V.ref=Xa(B,ye,j),V.return=B,B=V;break e}u(B,ye);break}else a(B,ye);ye=ye.sibling}j.type===R?(V=Es(j.props.children,B.mode,ne,j.key),V.return=B,B=V):(ne=Tc(j.type,j.key,j.props,null,B.mode,ne),ne.ref=Xa(B,V,j),ne.return=B,B=ne)}return T(B);case te:e:{for(ye=j.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){u(B,V.sibling),V=g(V,j.children||[]),V.return=B,B=V;break e}else{u(B,V);break}else a(B,V);V=V.sibling}V=If(j,B.mode,ne),V.return=B,B=V}return T(B);case Ne:return ye=j._init,ct(B,V,ye(j._payload),ne)}if(Tr(j))return ce(B,V,j,ne);if(ge(j))return de(B,V,j,ne);Ju(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(u(B,V.sibling),V=g(V,j),V.return=B,B=V):(u(B,V),V=Tf(j,B.mode,ne),V.return=B,B=V),T(B)):u(B,V)}return ct}var Ro=Tm(!0),Im=Tm(!1),Zu=pi(null),ec=null,Do=null,Rd=null;function Dd(){Rd=Do=ec=null}function Od(s){var a=Zu.current;et(Zu),s._currentValue=a}function Nd(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Oo(s,a){ec=s,Rd=Do=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(sn=!0),s.firstContext=null)}function xn(s){var a=s._currentValue;if(Rd!==s)if(s={context:s,memoizedValue:a,next:null},Do===null){if(ec===null)throw Error(t(308));Do=s,ec.dependencies={lanes:0,firstContext:s}}else Do=Do.next=s;return a}var ps=null;function Md(s){ps===null?ps=[s]:ps.push(s)}function Sm(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,Md(a)):(u.next=g.next,g.next=u),a.interleaved=u,Mr(s,f)}function Mr(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var yi=!1;function Ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Lr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function _i(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Mr(s,u)}return g=f.interleaved,g===null?(a.next=a,Md(f)):(a.next=g.next,g.next=a),f.interleaved=a,Mr(s,u)}function tc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ai(s,u)}}function km(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?g=_=a:_=_.next=a}else g=_=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function nc(s,a,u,f){var g=s.updateQueue;yi=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,b=g.shared.pending;if(b!==null){g.shared.pending=null;var M=b,W=M.next;M.next=null,T===null?_=W:T.next=W,T=M;var X=s.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==T&&(b===null?X.firstBaseUpdate=W:b.next=W,X.lastBaseUpdate=M))}if(_!==null){var ee=g.baseState;T=0,X=W=M=null,b=_;do{var Y=b.lane,le=b.eventTime;if((f&Y)===Y){X!==null&&(X=X.next={eventTime:le,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ce=s,de=b;switch(Y=a,le=u,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){ee=ce.call(le,ee,Y);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,Y=typeof ce=="function"?ce.call(le,ee,Y):ce,Y==null)break e;ee=oe({},ee,Y);break e;case 2:yi=!0}}b.callback!==null&&b.lane!==0&&(s.flags|=64,Y=g.effects,Y===null?g.effects=[b]:Y.push(b))}else le={eventTime:le,lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(W=X=le,M=ee):X=X.next=le,T|=Y;if(b=b.next,b===null){if(b=g.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);if(X===null&&(M=ee),g.baseState=M,g.firstBaseUpdate=W,g.lastBaseUpdate=X,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);ys|=T,s.lanes=T,s.memoizedState=ee}}function Cm(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Ja={},lr=pi(Ja),Za=pi(Ja),el=pi(Ja);function gs(s){if(s===Ja)throw Error(t(174));return s}function Vd(s,a){switch(Xe(el,a),Xe(Za,s),Xe(lr,Ja),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:yt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=yt(a,s)}et(lr),Xe(lr,a)}function No(){et(lr),et(Za),et(el)}function Am(s){gs(el.current);var a=gs(lr.current),u=yt(a,s.type);a!==u&&(Xe(Za,s),Xe(lr,u))}function Fd(s){Za.current===s&&(et(lr),et(Za))}var st=pi(0);function rc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ud=[];function zd(){for(var s=0;s<Ud.length;s++)Ud[s]._workInProgressVersionPrimary=null;Ud.length=0}var ic=Q.ReactCurrentDispatcher,Bd=Q.ReactCurrentBatchConfig,ms=0,ot=null,vt=null,kt=null,sc=!1,tl=!1,nl=0,FI=0;function Bt(){throw Error(t(321))}function jd(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!$n(s[u],a[u]))return!1;return!0}function Wd(s,a,u,f,g,_){if(ms=_,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ic.current=s===null||s.memoizedState===null?jI:WI,s=u(f,g),tl){_=0;do{if(tl=!1,nl=0,25<=_)throw Error(t(301));_+=1,kt=vt=null,a.updateQueue=null,ic.current=HI,s=u(f,g)}while(tl)}if(ic.current=lc,a=vt!==null&&vt.next!==null,ms=0,kt=vt=ot=null,sc=!1,a)throw Error(t(300));return s}function Hd(){var s=nl!==0;return nl=0,s}function ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=s:kt=kt.next=s,kt}function kn(){if(vt===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var a=kt===null?ot.memoizedState:kt.next;if(a!==null)kt=a,vt=s;else{if(s===null)throw Error(t(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?ot.memoizedState=kt=s:kt=kt.next=s}return kt}function rl(s,a){return typeof a=="function"?a(s):a}function $d(s){var a=kn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=vt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var b=T=null,M=null,W=_;do{var X=W.lane;if((ms&X)===X)M!==null&&(M=M.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var ee={lane:X,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};M===null?(b=M=ee,T=f):M=M.next=ee,ot.lanes|=X,ys|=X}W=W.next}while(W!==null&&W!==_);M===null?T=f:M.next=b,$n(f,a.memoizedState)||(sn=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=M,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do _=g.lane,ot.lanes|=_,ys|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function qd(s){var a=kn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,_=a.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);$n(_,a.memoizedState)||(sn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function Pm(){}function bm(s,a){var u=ot,f=kn(),g=a(),_=!$n(f.memoizedState,g);if(_&&(f.memoizedState=g,sn=!0),f=f.queue,Kd(Om.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,il(9,Dm.bind(null,u,f,g,a),void 0,null),Ct===null)throw Error(t(349));(ms&30)!==0||Rm(u,a,g)}return g}function Rm(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Dm(s,a,u,f){a.value=u,a.getSnapshot=f,Nm(a)&&Mm(s)}function Om(s,a,u){return u(function(){Nm(a)&&Mm(s)})}function Nm(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!$n(s,u)}catch{return!0}}function Mm(s){var a=Mr(s,1);a!==null&&Yn(a,s,1,-1)}function Lm(s){var a=ur();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:s},a.queue=s,s=s.dispatch=BI.bind(null,ot,s),[a.memoizedState,s]}function il(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function Vm(){return kn().memoizedState}function oc(s,a,u,f){var g=ur();ot.flags|=s,g.memoizedState=il(1|a,u,void 0,f===void 0?null:f)}function ac(s,a,u,f){var g=kn();f=f===void 0?null:f;var _=void 0;if(vt!==null){var T=vt.memoizedState;if(_=T.destroy,f!==null&&jd(f,T.deps)){g.memoizedState=il(a,u,_,f);return}}ot.flags|=s,g.memoizedState=il(1|a,u,_,f)}function Fm(s,a){return oc(8390656,8,s,a)}function Kd(s,a){return ac(2048,8,s,a)}function Um(s,a){return ac(4,2,s,a)}function zm(s,a){return ac(4,4,s,a)}function Bm(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function jm(s,a,u){return u=u!=null?u.concat([s]):null,ac(4,4,Bm.bind(null,a,s),u)}function Gd(){}function Wm(s,a){var u=kn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&jd(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function Hm(s,a){var u=kn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&jd(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function $m(s,a,u){return(ms&21)===0?(s.baseState&&(s.baseState=!1,sn=!0),s.memoizedState=u):($n(u,a)||(u=ss(),ot.lanes|=u,ys|=u,s.baseState=!0),a)}function UI(s,a){var u=De;De=u!==0&&4>u?u:4,s(!0);var f=Bd.transition;Bd.transition={};try{s(!1),a()}finally{De=u,Bd.transition=f}}function qm(){return kn().memoizedState}function zI(s,a,u){var f=Ti(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Km(s))Gm(a,u);else if(u=Sm(s,a,u,f),u!==null){var g=Zt();Yn(u,s,f,g),Qm(u,a,f)}}function BI(s,a,u){var f=Ti(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Km(s))Gm(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,b=_(T,u);if(g.hasEagerState=!0,g.eagerState=b,$n(b,T)){var M=a.interleaved;M===null?(g.next=g,Md(a)):(g.next=M.next,M.next=g),a.interleaved=g;return}}catch{}u=Sm(s,a,g,f),u!==null&&(g=Zt(),Yn(u,s,f,g),Qm(u,a,f))}}function Km(s){var a=s.alternate;return s===ot||a!==null&&a===ot}function Gm(s,a){tl=sc=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Qm(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ai(s,u)}}var lc={readContext:xn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},jI={readContext:xn,useCallback:function(s,a){return ur().memoizedState=[s,a===void 0?null:a],s},useContext:xn,useEffect:Fm,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,oc(4194308,4,Bm.bind(null,a,s),u)},useLayoutEffect:function(s,a){return oc(4194308,4,s,a)},useInsertionEffect:function(s,a){return oc(4,2,s,a)},useMemo:function(s,a){var u=ur();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=ur();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=zI.bind(null,ot,s),[f.memoizedState,s]},useRef:function(s){var a=ur();return s={current:s},a.memoizedState=s},useState:Lm,useDebugValue:Gd,useDeferredValue:function(s){return ur().memoizedState=s},useTransition:function(){var s=Lm(!1),a=s[0];return s=UI.bind(null,s[1]),ur().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=ot,g=ur();if(rt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ct===null)throw Error(t(349));(ms&30)!==0||Rm(f,a,u)}g.memoizedState=u;var _={value:u,getSnapshot:a};return g.queue=_,Fm(Om.bind(null,f,_,s),[s]),f.flags|=2048,il(9,Dm.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=ur(),a=Ct.identifierPrefix;if(rt){var u=Nr,f=Or;u=(f&~(1<<32-Yt(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=nl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=FI++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},WI={readContext:xn,useCallback:Wm,useContext:xn,useEffect:Kd,useImperativeHandle:jm,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:Hm,useReducer:$d,useRef:Vm,useState:function(){return $d(rl)},useDebugValue:Gd,useDeferredValue:function(s){var a=kn();return $m(a,vt.memoizedState,s)},useTransition:function(){var s=$d(rl)[0],a=kn().memoizedState;return[s,a]},useMutableSource:Pm,useSyncExternalStore:bm,useId:qm,unstable_isNewReconciler:!1},HI={readContext:xn,useCallback:Wm,useContext:xn,useEffect:Kd,useImperativeHandle:jm,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:Hm,useReducer:qd,useRef:Vm,useState:function(){return qd(rl)},useDebugValue:Gd,useDeferredValue:function(s){var a=kn();return vt===null?a.memoizedState=s:$m(a,vt.memoizedState,s)},useTransition:function(){var s=qd(rl)[0],a=kn().memoizedState;return[s,a]},useMutableSource:Pm,useSyncExternalStore:bm,useId:qm,unstable_isNewReconciler:!1};function Kn(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Qd(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:oe({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var uc={isMounted:function(s){return(s=s._reactInternals)?Fn(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Zt(),g=Ti(s),_=Lr(f,g);_.payload=a,u!=null&&(_.callback=u),a=_i(s,_,g),a!==null&&(Yn(a,s,g,f),tc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Zt(),g=Ti(s),_=Lr(f,g);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=_i(s,_,g),a!==null&&(Yn(a,s,g,f),tc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Zt(),f=Ti(s),g=Lr(u,f);g.tag=2,a!=null&&(g.callback=a),a=_i(s,g,f),a!==null&&(Yn(a,s,f,u),tc(a,s,f))}};function Ym(s,a,u,f,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!Ha(u,f)||!Ha(g,_):!0}function Xm(s,a,u){var f=!1,g=gi,_=a.contextType;return typeof _=="object"&&_!==null?_=xn(_):(g=rn(a)?hs:zt.current,f=a.contextTypes,_=(f=f!=null)?Co(s,g):gi),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function Jm(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&uc.enqueueReplaceState(a,a.state,null)}function Yd(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Ld(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=xn(_):(_=rn(a)?hs:zt.current,g.context=Co(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qd(s,a,_,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&uc.enqueueReplaceState(g,g.state,null),nc(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Mo(s,a){try{var u="",f=a;do u+=Se(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Xd(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Jd(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var $I=typeof WeakMap=="function"?WeakMap:Map;function Zm(s,a,u){u=Lr(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){mc||(mc=!0,pf=f),Jd(s,a)},u}function ey(s,a,u){u=Lr(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Jd(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Jd(s,a),typeof f!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function ty(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new $I;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=sS.bind(null,s,a,u),a.then(s,s))}function ny(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function ry(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Lr(-1,1),a.tag=2,_i(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var qI=Q.ReactCurrentOwner,sn=!1;function Jt(s,a,u,f){a.child=s===null?Im(a,null,u,f):Ro(a,s.child,u,f)}function iy(s,a,u,f,g){u=u.render;var _=a.ref;return Oo(a,g),f=Wd(s,a,u,f,_,g),u=Hd(),s!==null&&!sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(rt&&u&&kd(a),a.flags|=1,Jt(s,a,f,g),a.child)}function sy(s,a,u,f,g){if(s===null){var _=u.type;return typeof _=="function"&&!Ef(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,oy(s,a,_,f,g)):(s=Tc(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:Ha,u(T,f)&&s.ref===a.ref)return Vr(s,a,g)}return a.flags|=1,s=Si(_,f),s.ref=a.ref,s.return=a,a.child=s}function oy(s,a,u,f,g){if(s!==null){var _=s.memoizedProps;if(Ha(_,f)&&s.ref===a.ref)if(sn=!1,a.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(sn=!0);else return a.lanes=s.lanes,Vr(s,a,g)}return Zd(s,a,u,f,g)}function ay(s,a,u){var f=a.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Vo,yn),yn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Xe(Vo,yn),yn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Xe(Vo,yn),yn|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,Xe(Vo,yn),yn|=f;return Jt(s,a,g,u),a.child}function ly(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Zd(s,a,u,f,g){var _=rn(u)?hs:zt.current;return _=Co(a,_),Oo(a,g),u=Wd(s,a,u,f,_,g),f=Hd(),s!==null&&!sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(rt&&f&&kd(a),a.flags|=1,Jt(s,a,u,g),a.child)}function uy(s,a,u,f,g){if(rn(u)){var _=!0;Ku(a)}else _=!1;if(Oo(a,g),a.stateNode===null)hc(s,a),Xm(a,u,f),Yd(a,u,f,g),f=!0;else if(s===null){var T=a.stateNode,b=a.memoizedProps;T.props=b;var M=T.context,W=u.contextType;typeof W=="object"&&W!==null?W=xn(W):(W=rn(u)?hs:zt.current,W=Co(a,W));var X=u.getDerivedStateFromProps,ee=typeof X=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(b!==f||M!==W)&&Jm(a,T,f,W),yi=!1;var Y=a.memoizedState;T.state=Y,nc(a,f,T,g),M=a.memoizedState,b!==f||Y!==M||nn.current||yi?(typeof X=="function"&&(Qd(a,u,X,f),M=a.memoizedState),(b=yi||Ym(a,u,b,f,Y,M,W))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=M),T.props=f,T.state=M,T.context=W,f=b):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,xm(s,a),b=a.memoizedProps,W=a.type===a.elementType?b:Kn(a.type,b),T.props=W,ee=a.pendingProps,Y=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=xn(M):(M=rn(u)?hs:zt.current,M=Co(a,M));var le=u.getDerivedStateFromProps;(X=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(b!==ee||Y!==M)&&Jm(a,T,f,M),yi=!1,Y=a.memoizedState,T.state=Y,nc(a,f,T,g);var ce=a.memoizedState;b!==ee||Y!==ce||nn.current||yi?(typeof le=="function"&&(Qd(a,u,le,f),ce=a.memoizedState),(W=yi||Ym(a,u,W,f,Y,ce,M)||!1)?(X||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,ce,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,ce,M)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ce),T.props=f,T.state=ce,T.context=M,f=W):(typeof T.componentDidUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),f=!1)}return ef(s,a,u,f,_,g)}function ef(s,a,u,f,g,_){ly(s,a);var T=(a.flags&128)!==0;if(!f&&!T)return g&&pm(a,u,!1),Vr(s,a,_);f=a.stateNode,qI.current=a;var b=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&T?(a.child=Ro(a,s.child,null,_),a.child=Ro(a,null,b,_)):Jt(s,a,b,_),a.memoizedState=f.state,g&&pm(a,u,!0),a.child}function cy(s){var a=s.stateNode;a.pendingContext?dm(s,a.pendingContext,a.pendingContext!==a.context):a.context&&dm(s,a.context,!1),Vd(s,a.containerInfo)}function hy(s,a,u,f,g){return bo(),bd(g),a.flags|=256,Jt(s,a,u,f),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function dy(s,a,u){var f=a.pendingProps,g=st.current,_=!1,T=(a.flags&128)!==0,b;if((b=T)||(b=s!==null&&s.memoizedState===null?!1:(g&2)!==0),b?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Xe(st,g&1),s===null)return Pd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Ic(T,f,0,null),s=Es(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=nf(u),a.memoizedState=tf,s):rf(a,T));if(g=s.memoizedState,g!==null&&(b=g.dehydrated,b!==null))return KI(s,a,T,f,b,g,u);if(_){_=f.fallback,T=a.mode,g=s.child,b=g.sibling;var M={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=M,a.deletions=null):(f=Si(g,M),f.subtreeFlags=g.subtreeFlags&14680064),b!==null?_=Si(b,_):(_=Es(_,T,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=s.child.memoizedState,T=T===null?nf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,a.memoizedState=tf,f}return _=s.child,s=_.sibling,f=Si(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function rf(s,a){return a=Ic({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function cc(s,a,u,f){return f!==null&&bd(f),Ro(a,s.child,null,u),s=rf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function KI(s,a,u,f,g,_,T){if(u)return a.flags&256?(a.flags&=-257,f=Xd(Error(t(422))),cc(s,a,T,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,g=a.mode,f=Ic({mode:"visible",children:f.children},g,0,null),_=Es(_,g,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&Ro(a,s.child,null,T),a.child.memoizedState=nf(T),a.memoizedState=tf,_);if((a.mode&1)===0)return cc(s,a,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var b=f.dgst;return f=b,_=Error(t(419)),f=Xd(_,f,void 0),cc(s,a,T,f)}if(b=(T&s.childLanes)!==0,sn||b){if(f=Ct,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Mr(s,g),Yn(f,s,g,-1))}return wf(),f=Xd(Error(t(421))),cc(s,a,T,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=oS.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,mn=fi(g.nextSibling),gn=a,rt=!0,qn=null,s!==null&&(In[Sn++]=Or,In[Sn++]=Nr,In[Sn++]=ds,Or=s.id,Nr=s.overflow,ds=a),a=rf(a,f.children),a.flags|=4096,a)}function fy(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Nd(s.return,a,u)}function sf(s,a,u,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function py(s,a,u){var f=a.pendingProps,g=f.revealOrder,_=f.tail;if(Jt(s,a,f.children,u),f=st.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fy(s,u,a);else if(s.tag===19)fy(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Xe(st,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&rc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),sf(a,!1,g,u,_);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&rc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}sf(a,!0,u,null,_);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Vr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ys|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Si(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Si(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function GI(s,a,u){switch(a.tag){case 3:cy(a),bo();break;case 5:Am(a);break;case 1:rn(a.type)&&Ku(a);break;case 4:Vd(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;Xe(Zu,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Xe(st,st.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?dy(s,a,u):(Xe(st,st.current&1),s=Vr(s,a,u),s!==null?s.sibling:null);Xe(st,st.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return py(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Xe(st,st.current),f)break;return null;case 22:case 23:return a.lanes=0,ay(s,a,u)}return Vr(s,a,u)}var gy,of,my,yy;gy=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},of=function(){},my=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,gs(lr.current);var _=null;switch(u){case"input":g=Gi(s,g),f=Gi(s,f),_=[];break;case"select":g=oe({},g,{value:void 0}),f=oe({},f,{value:void 0}),_=[];break;case"textarea":g=va(s,g),f=va(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Hu)}xa(u,f);var T;u=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var b=g[W];for(T in b)b.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?_||(_=[]):(_=_||[]).push(W,null));for(W in f){var M=f[W];if(b=g?.[W],f.hasOwnProperty(W)&&M!==b&&(M!=null||b!=null))if(W==="style")if(b){for(T in b)!b.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&b[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(_||(_=[]),_.push(W,u)),u=M;else W==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(_=_||[]).push(W,M)):W==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(W,""+M):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(M!=null&&W==="onScroll"&&Ze("scroll",s),_||b===M||(_=[])):(_=_||[]).push(W,M))}u&&(_=_||[]).push("style",u);var W=_;(a.updateQueue=W)&&(a.flags|=4)}},yy=function(s,a,u,f){u!==f&&(a.flags|=4)};function sl(s,a){if(!rt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function jt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function QI(s,a,u){var f=a.pendingProps;switch(Cd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(a),null;case 1:return rn(a.type)&&qu(),jt(a),null;case 3:return f=a.stateNode,No(),et(nn),et(zt),zd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Xu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qn!==null&&(yf(qn),qn=null))),of(s,a),jt(a),null;case 5:Fd(a);var g=gs(el.current);if(u=a.type,s!==null&&a.stateNode!=null)my(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return jt(a),null}if(s=gs(lr.current),Xu(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[ar]=a,f[Qa]=_,s=(a.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(g=0;g<qa.length;g++)Ze(qa[g],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":Gs(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":Ys(f,_),Ze("invalid",f)}xa(u,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var b=_[T];T==="children"?typeof b=="string"?f.textContent!==b&&(_.suppressHydrationWarning!==!0&&Wu(f.textContent,b,s),g=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(_.suppressHydrationWarning!==!0&&Wu(f.textContent,b,s),g=["children",""+b]):i.hasOwnProperty(T)&&b!=null&&T==="onScroll"&&Ze("scroll",f)}switch(u){case"input":Er(f),gu(f,_,!0);break;case"textarea":Er(f),wa(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Hu)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=mt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[ar]=a,s[Qa]=f,gy(s,a,!1,!1),a.stateNode=s;e:{switch(T=ka(u,f),u){case"dialog":Ze("cancel",s),Ze("close",s),g=f;break;case"iframe":case"object":case"embed":Ze("load",s),g=f;break;case"video":case"audio":for(g=0;g<qa.length;g++)Ze(qa[g],s);g=f;break;case"source":Ze("error",s),g=f;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),g=f;break;case"details":Ze("toggle",s),g=f;break;case"input":Gs(s,f),g=Gi(s,f),Ze("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=oe({},f,{value:void 0}),Ze("invalid",s);break;case"textarea":Ys(s,f),g=va(s,f),Ze("invalid",s);break;default:g=f}xa(u,g),b=g;for(_ in b)if(b.hasOwnProperty(_)){var M=b[_];_==="style"?Ia(s,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ea(s,M)):_==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&ni(s,M):typeof M=="number"&&ni(s,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?M!=null&&_==="onScroll"&&Ze("scroll",s):M!=null&&K(s,_,M,T))}switch(u){case"input":Er(s),gu(s,f,!1);break;case"textarea":Er(s),wa(s);break;case"option":f.value!=null&&s.setAttribute("value",""+We(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?Ir(s,!!f.multiple,_,!1):f.defaultValue!=null&&Ir(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Hu)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return jt(a),null;case 6:if(s&&a.stateNode!=null)yy(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=gs(el.current),gs(lr.current),Xu(a)){if(f=a.stateNode,u=a.memoizedProps,f[ar]=a,(_=f.nodeValue!==u)&&(s=gn,s!==null))switch(s.tag){case 3:Wu(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Wu(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[ar]=a,a.stateNode=f}return jt(a),null;case 13:if(et(st),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rt&&mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)wm(),bo(),a.flags|=98560,_=!1;else if(_=Xu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[ar]=a}else bo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;jt(a),_=!1}else qn!==null&&(yf(qn),qn=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(st.current&1)!==0?wt===0&&(wt=3):wf())),a.updateQueue!==null&&(a.flags|=4),jt(a),null);case 4:return No(),of(s,a),s===null&&Ka(a.stateNode.containerInfo),jt(a),null;case 10:return Od(a.type._context),jt(a),null;case 17:return rn(a.type)&&qu(),jt(a),null;case 19:if(et(st),_=a.memoizedState,_===null)return jt(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)sl(_,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=rc(s),T!==null){for(a.flags|=128,sl(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Xe(st,st.current&1|2),a.child}s=s.sibling}_.tail!==null&&Ye()>Fo&&(a.flags|=128,f=!0,sl(_,!1),a.lanes=4194304)}else{if(!f)if(s=rc(T),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),sl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!rt)return jt(a),null}else 2*Ye()-_.renderingStartTime>Fo&&u!==1073741824&&(a.flags|=128,f=!0,sl(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(u=_.last,u!==null?u.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Ye(),a.sibling=null,u=st.current,Xe(st,f?u&1|2:u&1),a):(jt(a),null);case 22:case 23:return vf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(yn&1073741824)!==0&&(jt(a),a.subtreeFlags&6&&(a.flags|=8192)):jt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function YI(s,a){switch(Cd(a),a.tag){case 1:return rn(a.type)&&qu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return No(),et(nn),et(zt),zd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Fd(a),null;case 13:if(et(st),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));bo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(st),null;case 4:return No(),null;case 10:return Od(a.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var dc=!1,Wt=!1,XI=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Lo(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){lt(s,a,f)}else u.current=null}function af(s,a,u){try{u()}catch(f){lt(s,a,f)}}var _y=!1;function JI(s,a){if(_d=ci,s=Yg(),cd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,b=-1,M=-1,W=0,X=0,ee=s,Y=null;t:for(;;){for(var le;ee!==u||g!==0&&ee.nodeType!==3||(b=T+g),ee!==_||f!==0&&ee.nodeType!==3||(M=T+f),ee.nodeType===3&&(T+=ee.nodeValue.length),(le=ee.firstChild)!==null;)Y=ee,ee=le;for(;;){if(ee===s)break t;if(Y===u&&++W===g&&(b=T),Y===_&&++X===f&&(M=T),(le=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=le}u=b===-1||M===-1?null:{start:b,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(vd={focusedElem:s,selectionRange:u},ci=!1,ue=a;ue!==null;)if(a=ue,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ue=s;else for(;ue!==null;){a=ue;try{var ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,ct=ce.memoizedState,B=a.stateNode,V=B.getSnapshotBeforeUpdate(a.elementType===a.type?de:Kn(a.type,de),ct);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=a.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){lt(a,a.return,ne)}if(s=a.sibling,s!==null){s.return=a.return,ue=s;break}ue=a.return}return ce=_y,_y=!1,ce}function ol(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&af(a,u,_)}g=g.next}while(g!==f)}}function fc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function lf(s){var a=s.ref;if(a!==null){var u=s.stateNode;s.tag,s=u,typeof a=="function"?a(s):a.current=s}}function vy(s){var a=s.alternate;a!==null&&(s.alternate=null,vy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ar],delete a[Qa],delete a[Id],delete a[NI],delete a[MI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function wy(s){return s.tag===5||s.tag===3||s.tag===4}function Ey(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Hu));else if(f!==4&&(s=s.child,s!==null))for(uf(s,a,u),s=s.sibling;s!==null;)uf(s,a,u),s=s.sibling}function cf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(cf(s,a,u),s=s.sibling;s!==null;)cf(s,a,u),s=s.sibling}var Nt=null,Gn=!1;function vi(s,a,u){for(u=u.child;u!==null;)Ty(s,a,u),u=u.sibling}function Ty(s,a,u){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(rs,u)}catch{}switch(u.tag){case 5:Wt||Lo(u,a);case 6:var f=Nt,g=Gn;Nt=null,vi(s,a,u),Nt=f,Gn=g,Nt!==null&&(Gn?(s=Nt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(Gn?(s=Nt,u=u.stateNode,s.nodeType===8?Td(s.parentNode,u):s.nodeType===1&&Td(s,u),Wn(s)):Td(Nt,u.stateNode));break;case 4:f=Nt,g=Gn,Nt=u.stateNode.containerInfo,Gn=!0,vi(s,a,u),Nt=f,Gn=g;break;case 0:case 11:case 14:case 15:if(!Wt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&af(u,a,T),g=g.next}while(g!==f)}vi(s,a,u);break;case 1:if(!Wt&&(Lo(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(b){lt(u,a,b)}vi(s,a,u);break;case 21:vi(s,a,u);break;case 22:u.mode&1?(Wt=(f=Wt)||u.memoizedState!==null,vi(s,a,u),Wt=f):vi(s,a,u);break;default:vi(s,a,u)}}function Iy(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new XI),a.forEach(function(f){var g=aS.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Qn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=s,T=a,b=T;e:for(;b!==null;){switch(b.tag){case 5:Nt=b.stateNode,Gn=!1;break e;case 3:Nt=b.stateNode.containerInfo,Gn=!0;break e;case 4:Nt=b.stateNode.containerInfo,Gn=!0;break e}b=b.return}if(Nt===null)throw Error(t(160));Ty(_,T,g),Nt=null,Gn=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(W){lt(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Sy(a,s),a=a.sibling}function Sy(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Qn(a,s),cr(s),f&4){try{ol(3,s,s.return),fc(3,s)}catch(de){lt(s,s.return,de)}try{ol(5,s,s.return)}catch(de){lt(s,s.return,de)}}break;case 1:Qn(a,s),cr(s),f&512&&u!==null&&Lo(u,u.return);break;case 5:if(Qn(a,s),cr(s),f&512&&u!==null&&Lo(u,u.return),s.flags&32){var g=s.stateNode;try{ni(g,"")}catch(de){lt(s,s.return,de)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,b=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{b==="input"&&_.type==="radio"&&_.name!=null&&ya(g,_),ka(b,T);var W=ka(b,_);for(T=0;T<M.length;T+=2){var X=M[T],ee=M[T+1];X==="style"?Ia(g,ee):X==="dangerouslySetInnerHTML"?Ea(g,ee):X==="children"?ni(g,ee):K(g,X,ee,W)}switch(b){case"input":_a(g,_);break;case"textarea":Xs(g,_);break;case"select":var Y=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var le=_.value;le!=null?Ir(g,!!_.multiple,le,!1):Y!==!!_.multiple&&(_.defaultValue!=null?Ir(g,!!_.multiple,_.defaultValue,!0):Ir(g,!!_.multiple,_.multiple?[]:"",!1))}g[Qa]=_}catch(de){lt(s,s.return,de)}}break;case 6:if(Qn(a,s),cr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(de){lt(s,s.return,de)}}break;case 3:if(Qn(a,s),cr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Wn(a.containerInfo)}catch(de){lt(s,s.return,de)}break;case 4:Qn(a,s),cr(s);break;case 13:Qn(a,s),cr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(ff=Ye())),f&4&&Iy(s);break;case 22:if(X=u!==null&&u.memoizedState!==null,s.mode&1?(Wt=(W=Wt)||X,Qn(a,s),Wt=W):Qn(a,s),cr(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!X&&(s.mode&1)!==0)for(ue=s,X=s.child;X!==null;){for(ee=ue=X;ue!==null;){switch(Y=ue,le=Y.child,Y.tag){case 0:case 11:case 14:case 15:ol(4,Y,Y.return);break;case 1:Lo(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){f=Y,u=Y.return;try{a=f,ce.props=a.memoizedProps,ce.state=a.memoizedState,ce.componentWillUnmount()}catch(de){lt(f,u,de)}}break;case 5:Lo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Cy(ee);continue}}le!==null?(le.return=Y,ue=le):Cy(ee)}X=X.sibling}e:for(X=null,ee=s;;){if(ee.tag===5){if(X===null){X=ee;try{g=ee.stateNode,W?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(b=ee.stateNode,M=ee.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=Ta("display",T))}catch(de){lt(s,s.return,de)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(de){lt(s,s.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===s)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===s)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===s)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Qn(a,s),cr(s),f&4&&Iy(s);break;case 21:break;default:Qn(a,s),cr(s)}}function cr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(wy(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ni(g,""),f.flags&=-33);var _=Ey(s);cf(s,_,g);break;case 3:case 4:var T=f.stateNode.containerInfo,b=Ey(s);uf(s,b,T);break;default:throw Error(t(161))}}catch(M){lt(s,s.return,M)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ZI(s,a,u){ue=s,xy(s)}function xy(s,a,u){for(var f=(s.mode&1)!==0;ue!==null;){var g=ue,_=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||dc;if(!T){var b=g.alternate,M=b!==null&&b.memoizedState!==null||Wt;b=dc;var W=Wt;if(dc=T,(Wt=M)&&!W)for(ue=g;ue!==null;)T=ue,M=T.child,T.tag===22&&T.memoizedState!==null?Ay(g):M!==null?(M.return=T,ue=M):Ay(g);for(;_!==null;)ue=_,xy(_),_=_.sibling;ue=g,dc=b,Wt=W}ky(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ue=_):ky(s)}}function ky(s){for(;ue!==null;){var a=ue;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wt||fc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Wt)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:Kn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Cm(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Cm(a,T,u)}break;case 5:var b=a.stateNode;if(u===null&&a.flags&4){u=b;var M=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var X=W.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&Wn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||a.flags&512&&lf(a)}catch(Y){lt(a,a.return,Y)}}if(a===s){ue=null;break}if(u=a.sibling,u!==null){u.return=a.return,ue=u;break}ue=a.return}}function Cy(s){for(;ue!==null;){var a=ue;if(a===s){ue=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ue=u;break}ue=a.return}}function Ay(s){for(;ue!==null;){var a=ue;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{fc(4,a)}catch(M){lt(a,u,M)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(M){lt(a,g,M)}}var _=a.return;try{lf(a)}catch(M){lt(a,_,M)}break;case 5:var T=a.return;try{lf(a)}catch(M){lt(a,T,M)}}}catch(M){lt(a,a.return,M)}if(a===s){ue=null;break}var b=a.sibling;if(b!==null){b.return=a.return,ue=b;break}ue=a.return}}var eS=Math.ceil,pc=Q.ReactCurrentDispatcher,hf=Q.ReactCurrentOwner,Cn=Q.ReactCurrentBatchConfig,Fe=0,Ct=null,pt=null,Mt=0,yn=0,Vo=pi(0),wt=0,al=null,ys=0,gc=0,df=0,ll=null,on=null,ff=0,Fo=1/0,Fr=null,mc=!1,pf=null,wi=null,yc=!1,Ei=null,_c=0,ul=0,gf=null,vc=-1,wc=0;function Zt(){return(Fe&6)!==0?Ye():vc!==-1?vc:vc=Ye()}function Ti(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Mt!==0?Mt&-Mt:VI.transition!==null?(wc===0&&(wc=ss()),wc):(s=De,s!==0||(s=window.event,s=s===void 0?16:Va(s.type)),s)}function Yn(s,a,u,f){if(50<ul)throw ul=0,gf=null,Error(t(185));oi(s,u,f),((Fe&2)===0||s!==Ct)&&(s===Ct&&((Fe&2)===0&&(gc|=u),wt===4&&Ii(s,Mt)),an(s,f),u===1&&Fe===0&&(a.mode&1)===0&&(Fo=Ye()+500,Gu&&mi()))}function an(s,a){var u=s.callbackNode;kr(s,a);var f=is(s,s===Ct?Mt:0);if(f===0)u!==null&&Da(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Da(u),a===1)s.tag===0?LI(by.bind(null,s)):gm(by.bind(null,s)),DI(function(){(Fe&6)===0&&mi()}),u=null;else{switch(li(f)){case 1:u=ns;break;case 4:u=ri;break;case 16:u=wn;break;case 536870912:u=wu;break;default:u=wn}u=Fy(u,Py.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Py(s,a){if(vc=-1,wc=0,(Fe&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Uo()&&s.callbackNode!==u)return null;var f=is(s,s===Ct?Mt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Ec(s,f);else{a=f;var g=Fe;Fe|=2;var _=Dy();(Ct!==s||Mt!==a)&&(Fr=null,Fo=Ye()+500,vs(s,a));do try{rS();break}catch(b){Ry(s,b)}while(!0);Dd(),pc.current=_,Fe=g,pt!==null?a=0:(Ct=null,Mt=0,a=wt)}if(a!==0){if(a===2&&(g=dn(s),g!==0&&(f=g,a=mf(s,g))),a===1)throw u=al,vs(s,0),Ii(s,f),an(s,Ye()),u;if(a===6)Ii(s,f);else{if(g=s.current.alternate,(f&30)===0&&!tS(g)&&(a=Ec(s,f),a===2&&(_=dn(s),_!==0&&(f=_,a=mf(s,_))),a===1))throw u=al,vs(s,0),Ii(s,f),an(s,Ye()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:ws(s,on,Fr);break;case 3:if(Ii(s,f),(f&130023424)===f&&(a=ff+500-Ye(),10<a)){if(is(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Zt(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ed(ws.bind(null,s,on,Fr),a);break}ws(s,on,Fr);break;case 4:if(Ii(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var T=31-Yt(f);_=1<<T,T=a[T],T>g&&(g=T),f&=~_}if(f=g,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*eS(f/1960))-f,10<f){s.timeoutHandle=Ed(ws.bind(null,s,on,Fr),f);break}ws(s,on,Fr);break;case 5:ws(s,on,Fr);break;default:throw Error(t(329))}}}return an(s,Ye()),s.callbackNode===u?Py.bind(null,s):null}function mf(s,a){var u=ll;return s.current.memoizedState.isDehydrated&&(vs(s,a).flags|=256),s=Ec(s,a),s!==2&&(a=on,on=u,a!==null&&yf(a)),s}function yf(s){on===null?on=s:on.push.apply(on,s)}function tS(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!$n(_(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ii(s,a){for(a&=~df,a&=~gc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Yt(a),f=1<<u;s[u]=-1,a&=~f}}function by(s){if((Fe&6)!==0)throw Error(t(327));Uo();var a=is(s,0);if((a&1)===0)return an(s,Ye()),null;var u=Ec(s,a);if(s.tag!==0&&u===2){var f=dn(s);f!==0&&(a=f,u=mf(s,f))}if(u===1)throw u=al,vs(s,0),Ii(s,a),an(s,Ye()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ws(s,on,Fr),an(s,Ye()),null}function _f(s,a){var u=Fe;Fe|=1;try{return s(a)}finally{Fe=u,Fe===0&&(Fo=Ye()+500,Gu&&mi())}}function _s(s){Ei!==null&&Ei.tag===0&&(Fe&6)===0&&Uo();var a=Fe;Fe|=1;var u=Cn.transition,f=De;try{if(Cn.transition=null,De=1,s)return s()}finally{De=f,Cn.transition=u,Fe=a,(Fe&6)===0&&mi()}}function vf(){yn=Vo.current,et(Vo)}function vs(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,RI(u)),pt!==null)for(u=pt.return;u!==null;){var f=u;switch(Cd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qu();break;case 3:No(),et(nn),et(zt),zd();break;case 5:Fd(f);break;case 4:No();break;case 13:et(st);break;case 19:et(st);break;case 10:Od(f.type._context);break;case 22:case 23:vf()}u=u.return}if(Ct=s,pt=s=Si(s.current,null),Mt=yn=a,wt=0,al=null,df=gc=ys=0,on=ll=null,ps!==null){for(a=0;a<ps.length;a++)if(u=ps[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=g,f.next=T}u.pending=f}ps=null}return s}function Ry(s,a){do{var u=pt;try{if(Dd(),ic.current=lc,sc){for(var f=ot.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}sc=!1}if(ms=0,kt=vt=ot=null,tl=!1,nl=0,hf.current=null,u===null||u.return===null){wt=1,al=a,pt=null;break}e:{var _=s,T=u.return,b=u,M=a;if(a=Mt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=M,X=b,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var le=ny(T);if(le!==null){le.flags&=-257,ry(le,T,b,_,a),le.mode&1&&ty(_,W,a),a=le,M=W;var ce=a.updateQueue;if(ce===null){var de=new Set;de.add(M),a.updateQueue=de}else ce.add(M);break e}else{if((a&1)===0){ty(_,W,a),wf();break e}M=Error(t(426))}}else if(rt&&b.mode&1){var ct=ny(T);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),ry(ct,T,b,_,a),bd(Mo(M,b));break e}}_=M=Mo(M,b),wt!==4&&(wt=2),ll===null?ll=[_]:ll.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var B=Zm(_,M,a);km(_,B);break e;case 1:b=M;var V=_.type,j=_.stateNode;if((_.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(wi===null||!wi.has(j)))){_.flags|=65536,a&=-a,_.lanes|=a;var ne=ey(_,b,a);km(_,ne);break e}}_=_.return}while(_!==null)}Ny(u)}catch(pe){a=pe,pt===u&&u!==null&&(pt=u=u.return);continue}break}while(!0)}function Dy(){var s=pc.current;return pc.current=lc,s===null?lc:s}function wf(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||(ys&268435455)===0&&(gc&268435455)===0||Ii(Ct,Mt)}function Ec(s,a){var u=Fe;Fe|=2;var f=Dy();(Ct!==s||Mt!==a)&&(Fr=null,vs(s,a));do try{nS();break}catch(g){Ry(s,g)}while(!0);if(Dd(),Fe=u,pc.current=f,pt!==null)throw Error(t(261));return Ct=null,Mt=0,wt}function nS(){for(;pt!==null;)Oy(pt)}function rS(){for(;pt!==null&&!_u();)Oy(pt)}function Oy(s){var a=Vy(s.alternate,s,yn);s.memoizedProps=s.pendingProps,a===null?Ny(s):pt=a,hf.current=null}function Ny(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=QI(u,a,yn),u!==null){pt=u;return}}else{if(u=YI(u,a),u!==null){u.flags&=32767,pt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wt=6,pt=null;return}}if(a=a.sibling,a!==null){pt=a;return}pt=a=s}while(a!==null);wt===0&&(wt=5)}function ws(s,a,u){var f=De,g=Cn.transition;try{Cn.transition=null,De=1,iS(s,a,u,f)}finally{Cn.transition=g,De=f}return null}function iS(s,a,u,f){do Uo();while(Ei!==null);if((Fe&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ge(s,_),s===Ct&&(pt=Ct=null,Mt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||yc||(yc=!0,Fy(wn,function(){return Uo(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Cn.transition,Cn.transition=null;var T=De;De=1;var b=Fe;Fe|=4,hf.current=null,JI(s,u),Sy(u,s),SI(vd),ci=!!_d,vd=_d=null,s.current=u,ZI(u),nd(),Fe=b,De=T,Cn.transition=_}else s.current=u;if(yc&&(yc=!1,Ei=s,_c=g),_=s.pendingLanes,_===0&&(wi=null),Eu(u.stateNode),an(s,Ye()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(mc)throw mc=!1,s=pf,pf=null,s;return(_c&1)!==0&&s.tag!==0&&Uo(),_=s.pendingLanes,(_&1)!==0?s===gf?ul++:(ul=0,gf=s):ul=0,mi(),null}function Uo(){if(Ei!==null){var s=li(_c),a=Cn.transition,u=De;try{if(Cn.transition=null,De=16>s?16:s,Ei===null)var f=!1;else{if(s=Ei,Ei=null,_c=0,(Fe&6)!==0)throw Error(t(331));var g=Fe;for(Fe|=4,ue=s.current;ue!==null;){var _=ue,T=_.child;if((ue.flags&16)!==0){var b=_.deletions;if(b!==null){for(var M=0;M<b.length;M++){var W=b[M];for(ue=W;ue!==null;){var X=ue;switch(X.tag){case 0:case 11:case 15:ol(8,X,_)}var ee=X.child;if(ee!==null)ee.return=X,ue=ee;else for(;ue!==null;){X=ue;var Y=X.sibling,le=X.return;if(vy(X),X===W){ue=null;break}if(Y!==null){Y.return=le,ue=Y;break}ue=le}}}var ce=_.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}ue=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ue=T;else e:for(;ue!==null;){if(_=ue,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ol(9,_,_.return)}var B=_.sibling;if(B!==null){B.return=_.return,ue=B;break e}ue=_.return}}var V=s.current;for(ue=V;ue!==null;){T=ue;var j=T.child;if((T.subtreeFlags&2064)!==0&&j!==null)j.return=T,ue=j;else e:for(T=V;ue!==null;){if(b=ue,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:fc(9,b)}}catch(pe){lt(b,b.return,pe)}if(b===T){ue=null;break e}var ne=b.sibling;if(ne!==null){ne.return=b.return,ue=ne;break e}ue=b.return}}if(Fe=g,mi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(rs,s)}catch{}f=!0}return f}finally{De=u,Cn.transition=a}}return!1}function My(s,a,u){a=Mo(u,a),a=Zm(s,a,1),s=_i(s,a,1),a=Zt(),s!==null&&(oi(s,1,a),an(s,a))}function lt(s,a,u){if(s.tag===3)My(s,s,u);else for(;a!==null;){if(a.tag===3){My(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))){s=Mo(u,s),s=ey(a,s,1),a=_i(a,s,1),s=Zt(),a!==null&&(oi(a,1,s),an(a,s));break}}a=a.return}}function sS(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=Zt(),s.pingedLanes|=s.suspendedLanes&u,Ct===s&&(Mt&u)===u&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>Ye()-ff?vs(s,0):df|=u),an(s,a)}function Ly(s,a){a===0&&((s.mode&1)===0?a=1:(a=ao,ao<<=1,(ao&130023424)===0&&(ao=4194304)));var u=Zt();s=Mr(s,a),s!==null&&(oi(s,a,u),an(s,u))}function oS(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Ly(s,u)}function aS(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Ly(s,u)}var Vy;Vy=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||nn.current)sn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return sn=!1,GI(s,a,u);sn=(s.flags&131072)!==0}else sn=!1,rt&&(a.flags&1048576)!==0&&mm(a,Yu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;hc(s,a),s=a.pendingProps;var g=Co(a,zt.current);Oo(a,u),g=Wd(null,a,f,s,g,u);var _=Hd();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,rn(f)?(_=!0,Ku(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ld(a),g.updater=uc,a.stateNode=g,g._reactInternals=a,Yd(a,f,s,u),a=ef(null,a,f,!0,_,u)):(a.tag=0,rt&&_&&kd(a),Jt(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(hc(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=uS(f),s=Kn(f,s),g){case 0:a=Zd(null,a,f,s,u);break e;case 1:a=uy(null,a,f,s,u);break e;case 11:a=iy(null,a,f,s,u);break e;case 14:a=sy(null,a,f,Kn(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Kn(f,g),Zd(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Kn(f,g),uy(s,a,f,g,u);case 3:e:{if(cy(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,g=_.element,xm(s,a),nc(a,f,null,u);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=Mo(Error(t(423)),a),a=hy(s,a,f,u,g);break e}else if(f!==g){g=Mo(Error(t(424)),a),a=hy(s,a,f,u,g);break e}else for(mn=fi(a.stateNode.containerInfo.firstChild),gn=a,rt=!0,qn=null,u=Im(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(bo(),f===g){a=Vr(s,a,u);break e}Jt(s,a,f,u)}a=a.child}return a;case 5:return Am(a),s===null&&Pd(a),f=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,T=g.children,wd(f,g)?T=null:_!==null&&wd(f,_)&&(a.flags|=32),ly(s,a),Jt(s,a,T,u),a.child;case 6:return s===null&&Pd(a),null;case 13:return dy(s,a,u);case 4:return Vd(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ro(a,null,f,u):Jt(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Kn(f,g),iy(s,a,f,g,u);case 7:return Jt(s,a,a.pendingProps,u),a.child;case 8:return Jt(s,a,a.pendingProps.children,u),a.child;case 12:return Jt(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,_=a.memoizedProps,T=g.value,Xe(Zu,f._currentValue),f._currentValue=T,_!==null)if($n(_.value,T)){if(_.children===g.children&&!nn.current){a=Vr(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var b=_.dependencies;if(b!==null){T=_.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(_.tag===1){M=Lr(-1,u&-u),M.tag=2;var W=_.updateQueue;if(W!==null){W=W.shared;var X=W.pending;X===null?M.next=M:(M.next=X.next,X.next=M),W.pending=M}}_.lanes|=u,M=_.alternate,M!==null&&(M.lanes|=u),Nd(_.return,u,a),b.lanes|=u;break}M=M.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),Nd(T,u,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Jt(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Oo(a,u),g=xn(g),f=f(g),a.flags|=1,Jt(s,a,f,u),a.child;case 14:return f=a.type,g=Kn(f,a.pendingProps),g=Kn(f.type,g),sy(s,a,f,g,u);case 15:return oy(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Kn(f,g),hc(s,a),a.tag=1,rn(f)?(s=!0,Ku(a)):s=!1,Oo(a,u),Xm(a,f,g),Yd(a,f,g,u),ef(null,a,f,!0,s,u);case 19:return py(s,a,u);case 22:return ay(s,a,u)}throw Error(t(156,a.tag))};function Fy(s,a){return so(s,a)}function lS(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(s,a,u,f){return new lS(s,a,u,f)}function Ef(s){return s=s.prototype,!(!s||!s.isReactComponent)}function uS(s){if(typeof s=="function")return Ef(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===Pe)return 14}return 2}function Si(s,a){var u=s.alternate;return u===null?(u=An(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Tc(s,a,u,f,g,_){var T=2;if(f=s,typeof s=="function")Ef(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case R:return Es(u.children,g,_,a);case x:T=8,g|=8;break;case A:return s=An(12,u,a,g|2),s.elementType=A,s.lanes=_,s;case D:return s=An(13,u,a,g),s.elementType=D,s.lanes=_,s;case Ue:return s=An(19,u,a,g),s.elementType=Ue,s.lanes=_,s;case Ae:return Ic(u,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:T=10;break e;case N:T=9;break e;case L:T=11;break e;case Pe:T=14;break e;case Ne:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=An(T,u,a,g),a.elementType=s,a.type=f,a.lanes=_,a}function Es(s,a,u,f){return s=An(7,s,f,a),s.lanes=u,s}function Ic(s,a,u,f){return s=An(22,s,f,a),s.elementType=Ae,s.lanes=u,s.stateNode={isHidden:!1},s}function Tf(s,a,u){return s=An(6,s,null,a),s.lanes=u,s}function If(s,a,u){return a=An(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function cS(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Sf(s,a,u,f,g,_,T,b,M){return s=new cS(s,a,u,b,M),a===1?(a=1,_===!0&&(a|=8)):a=0,_=An(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(_),s}function hS(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function Uy(s){if(!s)return gi;s=s._reactInternals;e:{if(Fn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(rn(u))return fm(s,u,a)}return a}function zy(s,a,u,f,g,_,T,b,M){return s=Sf(u,f,!0,s,g,_,T,b,M),s.context=Uy(null),u=s.current,f=Zt(),g=Ti(u),_=Lr(f,g),_.callback=a??null,_i(u,_,g),s.current.lanes=g,oi(s,g,f),an(s,f),s}function Sc(s,a,u,f){var g=a.current,_=Zt(),T=Ti(g);return u=Uy(u),a.context===null?a.context=u:a.pendingContext=u,a=Lr(_,T),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=_i(g,a,T),s!==null&&(Yn(s,g,T,_),tc(s,g,T)),T}function xc(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function By(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function xf(s,a){By(s,a),(s=s.alternate)&&By(s,a)}function dS(){return null}var jy=typeof reportError=="function"?reportError:function(s){console.error(s)};function kf(s){this._internalRoot=s}kc.prototype.render=kf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Sc(s,a,null,null)},kc.prototype.unmount=kf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;_s(function(){Sc(null,s,null,null)}),a[Rr]=null}};function kc(s){this._internalRoot=s}kc.prototype.unstable_scheduleHydration=function(s){if(s){var a=ku();s={blockedOn:null,target:s,priority:a};for(var u=0;u<rr.length&&a!==0&&a<rr[u].priority;u++);rr.splice(u,0,s),u===0&&Pu(s)}};function Cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function fS(s,a,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var W=xc(T);_.call(W)}}var T=zy(a,f,s,0,null,!1,!1,"",Wy);return s._reactRootContainer=T,s[Rr]=T.current,Ka(s.nodeType===8?s.parentNode:s),_s(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var b=f;f=function(){var W=xc(M);b.call(W)}}var M=Sf(s,0,!1,null,null,!1,!1,"",Wy);return s._reactRootContainer=M,s[Rr]=M.current,Ka(s.nodeType===8?s.parentNode:s),_s(function(){Sc(a,M,u,f)}),M}function Ac(s,a,u,f,g){var _=u._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var b=g;g=function(){var M=xc(T);b.call(M)}}Sc(a,T,s,g)}else T=fS(u,a,s,g,f);return xc(T)}Su=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ii(a.pendingLanes);u!==0&&(ai(a,u|1),an(a,Ye()),(Fe&6)===0&&(Fo=Ye()+500,mi()))}break;case 13:_s(function(){var f=Mr(s,1);if(f!==null){var g=Zt();Yn(f,s,1,g)}}),xf(s,1)}},lo=function(s){if(s.tag===13){var a=Mr(s,134217728);if(a!==null){var u=Zt();Yn(a,s,134217728,u)}xf(s,134217728)}},xu=function(s){if(s.tag===13){var a=Ti(s),u=Mr(s,a);if(u!==null){var f=Zt();Yn(u,s,a,f)}xf(s,a)}},ku=function(){return De},Cu=function(s,a){var u=De;try{return De=s,a()}finally{De=u}},Zs=function(s,a,u){switch(a){case"input":if(_a(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=$u(f);if(!g)throw Error(t(90));Ks(f),_a(f,g)}}}break;case"textarea":Xs(s,u);break;case"select":a=u.value,a!=null&&Ir(s,!!u.multiple,a,!1)}},Ji=_f,Aa=_s;var pS={usingClientEntryPoint:!1,Events:[Ya,xo,$u,tr,Ca,_f]},cl={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gS={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ra(s),s===null?null:s.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||dS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{rs=Pc.inject(gS),hn=Pc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pS,ln.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(a))throw Error(t(200));return hS(s,a,null,u)},ln.createRoot=function(s,a){if(!Cf(s))throw Error(t(299));var u=!1,f="",g=jy;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Sf(s,1,!1,null,null,u,!1,f,g),s[Rr]=a.current,Ka(s.nodeType===8?s.parentNode:s),new kf(a)},ln.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ra(a),s=s===null?null:s.stateNode,s},ln.flushSync=function(s){return _s(s)},ln.hydrate=function(s,a,u){if(!Cc(a))throw Error(t(200));return Ac(null,s,a,!0,u)},ln.hydrateRoot=function(s,a,u){if(!Cf(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",T=jy;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=zy(a,null,s,1,u??null,g,!1,_,T),s[Rr]=a.current,Ka(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new kc(a)},ln.render=function(s,a,u){if(!Cc(a))throw Error(t(200));return Ac(null,s,a,!1,u)},ln.unmountComponentAtNode=function(s){if(!Cc(s))throw Error(t(40));return s._reactRootContainer?(_s(function(){Ac(null,null,s,!1,function(){s._reactRootContainer=null,s[Rr]=null})}),!0):!1},ln.unstable_batchedUpdates=_f,ln.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Cc(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ac(s,a,u,!1,f)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Xy;function M0(){if(Xy)return bf.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bf.exports=SS(),bf.exports}var Jy;function xS(){if(Jy)return bc;Jy=1;var n=M0();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var kS=xS();const CS=N0(kS);M0();function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ul.apply(this,arguments)}var Di;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Di||(Di={}));const Zy="popstate";function AS(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return tp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:L0(i)}return bS(e,t,null,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Np(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PS(){return Math.random().toString(36).substr(2,8)}function e_(n,e){return{usr:n.state,key:n.key,idx:e}}function tp(n,e,t,r){return t===void 0&&(t=null),Ul({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?la(e):e,{state:t,key:e&&e.key||r||PS()})}function L0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function la(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function bS(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=Di.Pop,h=null,p=m();p==null&&(p=0,l.replaceState(Ul({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){c=Di.Pop;let k=m(),z=k==null?null:k-p;p=k,h&&h({action:c,location:C.location,delta:z})}function E(k,z){c=Di.Push;let $=tp(C.location,k,z);p=m()+1;let K=e_($,p),Q=C.createHref($);try{l.pushState(K,"",Q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(Q)}o&&h&&h({action:c,location:C.location,delta:1})}function I(k,z){c=Di.Replace;let $=tp(C.location,k,z);p=m();let K=e_($,p),Q=C.createHref($);l.replaceState(K,"",Q),o&&h&&h({action:c,location:C.location,delta:0})}function P(k){let z=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof k=="string"?k:L0(k);return $=$.replace(/ $/,"%20"),Tt(z,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,z)}let C={get action(){return c},get location(){return n(i,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Zy,v),h=k,()=>{i.removeEventListener(Zy,v),h=null}},createHref(k){return e(i,k)},createURL:P,encodeLocation(k){let z=P(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:I,go(k){return l.go(k)}};return C}var t_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(t_||(t_={}));function RS(n,e,t){return t===void 0&&(t="/"),DS(n,e,t)}function DS(n,e,t,r){let i=typeof e=="string"?la(e):e,o=U0(i.pathname||"/",t);if(o==null)return null;let l=V0(n);OS(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=$S(o);c=jS(l[h],p)}return c}function V0(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Tt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Rs([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),V0(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:zS(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of F0(o.path))i(o,l,h)}),e}function F0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=F0(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function OS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const NS=/^:[\w-]+$/,MS=3,LS=2,VS=1,FS=10,US=-2,n_=n=>n==="*";function zS(n,e){let t=n.split("/"),r=t.length;return t.some(n_)&&(r+=US),e&&(r+=LS),t.filter(i=>!n_(i)).reduce((i,o)=>i+(NS.test(o)?MS:o===""?VS:FS),r)}function BS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function jS(n,e,t){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=WS({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),E=h.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Rs([o,v.pathname]),pathnameBase:JS(Rs([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Rs([o,v.pathnameBase]))}return l}function WS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=HS(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,m,v)=>{let{paramName:E,isOptional:I}=m;if(E==="*"){let C=c[v]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const P=c[v];return I&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function HS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Np(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $S(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Np(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function U0(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KS=n=>qS.test(n);function GS(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?la(n):n,o;if(t)if(KS(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Np(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?o=r_(t.substring(1),"/"):o=r_(t,e)}else o=e;return{pathname:o,search:ZS(r),hash:ex(i)}}function r_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Of(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function YS(n,e){let t=QS(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function XS(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=la(n):(i=Ul({},n),Tt(!i.pathname||!i.pathname.includes("?"),Of("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Of("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Of("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let h=GS(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const Rs=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ex=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const z0=["post","put","patch","delete"];new Set(z0);const nx=["get",...z0];new Set(nx);function zl(){return zl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zl.apply(this,arguments)}const Mp=re.createContext(null),rx=re.createContext(null),bh=re.createContext(null),Rh=re.createContext(null),Bs=re.createContext({outlet:null,matches:[],isDataRoute:!1}),B0=re.createContext(null);function Dh(){return re.useContext(Rh)!=null}function j0(){return Dh()||Tt(!1),re.useContext(Rh).location}function W0(n){re.useContext(bh).static||re.useLayoutEffect(n)}function ix(){let{isDataRoute:n}=re.useContext(Bs);return n?_x():sx()}function sx(){Dh()||Tt(!1);let n=re.useContext(Mp),{basename:e,future:t,navigator:r}=re.useContext(bh),{matches:i}=re.useContext(Bs),{pathname:o}=j0(),l=JSON.stringify(YS(i,t.v7_relativeSplatPath)),c=re.useRef(!1);return W0(()=>{c.current=!0}),re.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=XS(p,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Rs([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,o,n])}function ox(){let{matches:n}=re.useContext(Bs),e=n[n.length-1];return e?e.params:{}}function ax(n,e){return lx(n,e)}function lx(n,e,t,r){Dh()||Tt(!1);let{navigator:i}=re.useContext(bh),{matches:o}=re.useContext(Bs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=j0(),m;if(e){var v;let k=typeof e=="string"?la(e):e;h==="/"||(v=k.pathname)!=null&&v.startsWith(h)||Tt(!1),m=k}else m=p;let E=m.pathname||"/",I=E;if(h!=="/"){let k=h.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=RS(n,{pathname:I}),C=fx(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Rs([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Rs([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,r);return e&&C?re.createElement(Rh.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Di.Pop}},C):C}function ux(){let n=yx(),e=tx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:i},t):null,null)}const cx=re.createElement(ux,null);class hx extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?re.createElement(Bs.Provider,{value:this.props.routeContext},re.createElement(B0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dx(n){let{routeContext:e,match:t,children:r}=n,i=re.useContext(Mp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),re.createElement(Bs.Provider,{value:e},r)}function fx(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);m>=0||Tt(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:E,errors:I}=t,P=v.route.loader&&E[v.route.id]===void 0&&(!I||I[v.route.id]===void 0);if(v.route.lazy||P){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,E)=>{let I,P=!1,C=null,k=null;t&&(I=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||cx,h&&(p<0&&E===0?(vx("route-fallback"),P=!0,k=null):p===E&&(P=!0,k=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,E+1)),$=()=>{let K;return I?K=C:P?K=k:v.route.Component?K=re.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=m,re.createElement(dx,{match:v,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:K})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?re.createElement(hx,{location:t.location,revalidation:t.revalidation,component:C,error:I,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):$()},null)}var H0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(H0||{}),$0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})($0||{});function px(n){let e=re.useContext(Mp);return e||Tt(!1),e}function gx(n){let e=re.useContext(rx);return e||Tt(!1),e}function mx(n){let e=re.useContext(Bs);return e||Tt(!1),e}function q0(n){let e=mx(),t=e.matches[e.matches.length-1];return t.route.id||Tt(!1),t.route.id}function yx(){var n;let e=re.useContext(B0),t=gx(),r=q0();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _x(){let{router:n}=px(H0.UseNavigateStable),e=q0($0.UseNavigateStable),t=re.useRef(!1);return W0(()=>{t.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,zl({fromRouteId:e},o)))},[n,e])}const i_={};function vx(n,e,t){i_[n]||(i_[n]=!0)}function wx(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function _l(n){Tt(!1)}function Ex(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Di.Pop,navigator:o,static:l=!1,future:c}=n;Dh()&&Tt(!1);let h=e.replace(/^\/*/,"/"),p=re.useMemo(()=>({basename:h,navigator:o,static:l,future:zl({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);typeof r=="string"&&(r=la(r));let{pathname:m="/",search:v="",hash:E="",state:I=null,key:P="default"}=r,C=re.useMemo(()=>{let k=U0(m,h);return k==null?null:{location:{pathname:k,search:v,hash:E,state:I,key:P},navigationType:i}},[h,m,v,E,I,P,i]);return C==null?null:re.createElement(bh.Provider,{value:p},re.createElement(Rh.Provider,{children:t,value:C}))}function Tx(n){let{children:e,location:t}=n;return ax(np(e),t)}new Promise(()=>{});function np(n,e){e===void 0&&(e=[]);let t=[];return re.Children.forEach(n,(r,i)=>{if(!re.isValidElement(r))return;let o=[...e,i];if(r.type===re.Fragment){t.push.apply(t,np(r.props.children,o));return}r.type!==_l&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=np(r.props.children,o)),t.push(l)}),t}const Ix="6";try{window.__reactRouterVersion=Ix}catch{}const Sx="startTransition",s_=ES[Sx];function xx(n){let{basename:e,children:t,future:r,window:i}=n,o=re.useRef();o.current==null&&(o.current=AS({window:i,v5Compat:!0}));let l=o.current,[c,h]=re.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=re.useCallback(v=>{p&&s_?s_(()=>h(v)):h(v)},[h,p]);return re.useLayoutEffect(()=>l.listen(m),[l,m]),re.useEffect(()=>wx(r),[r]),re.createElement(Ex,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}var o_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(o_||(o_={}));var a_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(a_||(a_={}));var l_={};const K0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|p>>6,I=p&63;h||(I=64,l||(E=64)),r.push(t[m],t[v],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(K0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||v==null)throw new Cx;const E=o<<2|c>>4;if(r.push(E),p!==64){const I=c<<4&240|p>>2;if(r.push(I),v!==64){const P=p<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ax=function(n){const e=K0(n);return G0.encodeByteArray(e,!0)},oh=function(n){return Ax(n).replace(/\./g,"")},Q0=function(n){try{return G0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bx=()=>Px().__FIREBASE_DEFAULTS__,Rx=()=>{if(typeof process>"u"||typeof l_>"u")return;const n=l_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Dx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q0(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return bx()||Rx()||Dx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y0=n=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ox=n=>{const e=Y0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},X0=()=>{var n;return(n=Oh())===null||n===void 0?void 0:n.config},J0=n=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${n}`]};class Nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Mx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oh(JSON.stringify(t)),oh(JSON.stringify(l)),""].join(".")}function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Vx(){var n;const e=(n=Oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ux(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jx(){return!Vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wx(){try{return typeof indexedDB=="object"}catch{return!1}}function Hx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}const $x="FirebaseError";class ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$x,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?qx(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ei(i,c,r)}}function qx(n,e){return n.replace(Kx,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kx=/\{\$([^}]+)}/g;function Gx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ah(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(u_(o)&&u_(l)){if(!ah(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function u_(n){return n!==null&&typeof n=="object"}function ru(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Qx(n,e){const t=new Yx(n,e);return t.subscribe.bind(t)}class Yx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Xx(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Nf),i.error===void 0&&(i.error=Nf),i.complete===void 0&&(i.complete=Nf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Nf(){}function On(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xs="[DEFAULT]";class Jx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Nx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ek(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zx(n){return n===xs?void 0:n}function ek(n){return n.instantiationMode==="EAGER"}class tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const nk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},rk=Oe.INFO,ik={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},sk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=ik[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=rk,this._logHandler=sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const ok=(n,e)=>e.some(t=>n instanceof t);let c_,h_;function ak(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lk(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,rp=new WeakMap,ew=new WeakMap,Mf=new WeakMap,Vp=new WeakMap;function uk(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Li(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Z0.set(t,n)}).catch(()=>{}),Vp.set(e,n),e}function ck(n){if(rp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});rp.set(n,e)}let ip={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ew.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hk(n){ip=n(ip)}function dk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Lf(this),e,...t);return ew.set(r,e.sort?e.sort():[e]),Li(r)}:lk().includes(n)?function(...e){return n.apply(Lf(this),e),Li(Z0.get(this))}:function(...e){return Li(n.apply(Lf(this),e))}}function fk(n){return typeof n=="function"?dk(n):(n instanceof IDBTransaction&&ck(n),ok(n,ak())?new Proxy(n,ip):n)}function Li(n){if(n instanceof IDBRequest)return uk(n);if(Mf.has(n))return Mf.get(n);const e=fk(n);return e!==n&&(Mf.set(n,e),Vp.set(e,n)),e}const Lf=n=>Vp.get(n);function pk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Li(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Li(l.result),h.oldVersion,h.newVersion,Li(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const gk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],Vf=new Map;function d_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gk.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return Vf.set(e,o),o}hk(n=>({...n,get:(e,t,r)=>d_(e,t)||n.get(e,t,r),has:(e,t)=>!!d_(e,t)||n.has(e,t)}));class yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_k(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _k(n){const e=n.getComponent();return e?.type==="VERSION"}const sp="@firebase/app",f_="0.10.13";const Yr=new Lp("@firebase/app"),vk="@firebase/app-compat",wk="@firebase/analytics-compat",Ek="@firebase/analytics",Tk="@firebase/app-check-compat",Ik="@firebase/app-check",Sk="@firebase/auth",xk="@firebase/auth-compat",kk="@firebase/database",Ck="@firebase/data-connect",Ak="@firebase/database-compat",Pk="@firebase/functions",bk="@firebase/functions-compat",Rk="@firebase/installations",Dk="@firebase/installations-compat",Ok="@firebase/messaging",Nk="@firebase/messaging-compat",Mk="@firebase/performance",Lk="@firebase/performance-compat",Vk="@firebase/remote-config",Fk="@firebase/remote-config-compat",Uk="@firebase/storage",zk="@firebase/storage-compat",Bk="@firebase/firestore",jk="@firebase/vertexai-preview",Wk="@firebase/firestore-compat",Hk="firebase",$k="10.14.1";const op="[DEFAULT]",qk={[sp]:"fire-core",[vk]:"fire-core-compat",[Ek]:"fire-analytics",[wk]:"fire-analytics-compat",[Ik]:"fire-app-check",[Tk]:"fire-app-check-compat",[Sk]:"fire-auth",[xk]:"fire-auth-compat",[kk]:"fire-rtdb",[Ck]:"fire-data-connect",[Ak]:"fire-rtdb-compat",[Pk]:"fire-fn",[bk]:"fire-fn-compat",[Rk]:"fire-iid",[Dk]:"fire-iid-compat",[Ok]:"fire-fcm",[Nk]:"fire-fcm-compat",[Mk]:"fire-perf",[Lk]:"fire-perf-compat",[Vk]:"fire-rc",[Fk]:"fire-rc-compat",[Uk]:"fire-gcs",[zk]:"fire-gcs-compat",[Bk]:"fire-fst",[Wk]:"fire-fst-compat",[jk]:"fire-vertex","fire-js":"fire-js",[Hk]:"fire-js-all"};const lh=new Map,Kk=new Map,ap=new Map;function p_(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(ap.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,n);for(const t of lh.values())p_(t,n);for(const t of Kk.values())p_(t,n);return!0}function Fp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wr(n){return n.settings!==void 0}const Gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new nu("app","Firebase",Gk);class Qk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const ua=$k;function tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=X0()),!t)throw Vi.create("no-options");const o=lh.get(i);if(o){if(ah(t,o.options)&&ah(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}const l=new tk(i);for(const h of ap.values())l.addComponent(h);const c=new Qk(t,r,l);return lh.set(i,c),c}function nw(n=op){const e=lh.get(n);if(!e&&n===op&&X0())return tw();if(!e)throw Vi.create("no-app",{appName:n});return e}function Fi(n,e,t){var r;let i=(r=qk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(c.join(" "));return}Yo(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Yk="firebase-heartbeat-database",Xk=1,Bl="firebase-heartbeat-store";let Ff=null;function rw(){return Ff||(Ff=pk(Yk,Xk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),Ff}async function Jk(n){try{const t=(await rw()).transaction(Bl),r=await t.objectStore(Bl).get(iw(n));return await t.done,r}catch(e){if(e instanceof ei)Yr.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}}async function g_(n,e){try{const r=(await rw()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,iw(n)),await r.done}catch(t){if(t instanceof ei)Yr.warn(t.message);else{const r=Vi.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}}function iw(n){return`${n.name}!${n.options.appId}`}const Zk=1024,eC=720*60*60*1e3;class tC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=m_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=eC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=m_(),{heartbeatsToSend:r,unsentEntries:i}=nC(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yr.warn(t),""}}}function m_(){return new Date().toISOString().substring(0,10)}function nC(n,e=Zk){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),y_(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),y_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wx()?Hx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Jk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y_(n){return oh(JSON.stringify({version:2,heartbeats:n})).length}function iC(n){Yo(new Ns("platform-logger",e=>new yk(e),"PRIVATE")),Yo(new Ns("heartbeat",e=>new tC(e),"PRIVATE")),Fi(sp,f_,n),Fi(sp,f_,"esm2017"),Fi("fire-js","")}iC("");var sC="firebase",oC="10.14.1";Fi(sC,oC,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ds,sw;(function(){var n;function e(R,x){function A(){}A.prototype=x.prototype,R.D=x.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(O,N,L){for(var D=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)D[Ue-2]=arguments[Ue];return x.prototype[N].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,x,A){A||(A=0);var O=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)O[N]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(N=0;16>N;++N)O[N]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=R.g[0],A=R.g[1],N=R.g[2];var L=R.g[3],D=x+(L^A&(N^L))+O[0]+3614090360&4294967295;x=A+(D<<7&4294967295|D>>>25),D=L+(N^x&(A^N))+O[1]+3905402710&4294967295,L=x+(D<<12&4294967295|D>>>20),D=N+(A^L&(x^A))+O[2]+606105819&4294967295,N=L+(D<<17&4294967295|D>>>15),D=A+(x^N&(L^x))+O[3]+3250441966&4294967295,A=N+(D<<22&4294967295|D>>>10),D=x+(L^A&(N^L))+O[4]+4118548399&4294967295,x=A+(D<<7&4294967295|D>>>25),D=L+(N^x&(A^N))+O[5]+1200080426&4294967295,L=x+(D<<12&4294967295|D>>>20),D=N+(A^L&(x^A))+O[6]+2821735955&4294967295,N=L+(D<<17&4294967295|D>>>15),D=A+(x^N&(L^x))+O[7]+4249261313&4294967295,A=N+(D<<22&4294967295|D>>>10),D=x+(L^A&(N^L))+O[8]+1770035416&4294967295,x=A+(D<<7&4294967295|D>>>25),D=L+(N^x&(A^N))+O[9]+2336552879&4294967295,L=x+(D<<12&4294967295|D>>>20),D=N+(A^L&(x^A))+O[10]+4294925233&4294967295,N=L+(D<<17&4294967295|D>>>15),D=A+(x^N&(L^x))+O[11]+2304563134&4294967295,A=N+(D<<22&4294967295|D>>>10),D=x+(L^A&(N^L))+O[12]+1804603682&4294967295,x=A+(D<<7&4294967295|D>>>25),D=L+(N^x&(A^N))+O[13]+4254626195&4294967295,L=x+(D<<12&4294967295|D>>>20),D=N+(A^L&(x^A))+O[14]+2792965006&4294967295,N=L+(D<<17&4294967295|D>>>15),D=A+(x^N&(L^x))+O[15]+1236535329&4294967295,A=N+(D<<22&4294967295|D>>>10),D=x+(N^L&(A^N))+O[1]+4129170786&4294967295,x=A+(D<<5&4294967295|D>>>27),D=L+(A^N&(x^A))+O[6]+3225465664&4294967295,L=x+(D<<9&4294967295|D>>>23),D=N+(x^A&(L^x))+O[11]+643717713&4294967295,N=L+(D<<14&4294967295|D>>>18),D=A+(L^x&(N^L))+O[0]+3921069994&4294967295,A=N+(D<<20&4294967295|D>>>12),D=x+(N^L&(A^N))+O[5]+3593408605&4294967295,x=A+(D<<5&4294967295|D>>>27),D=L+(A^N&(x^A))+O[10]+38016083&4294967295,L=x+(D<<9&4294967295|D>>>23),D=N+(x^A&(L^x))+O[15]+3634488961&4294967295,N=L+(D<<14&4294967295|D>>>18),D=A+(L^x&(N^L))+O[4]+3889429448&4294967295,A=N+(D<<20&4294967295|D>>>12),D=x+(N^L&(A^N))+O[9]+568446438&4294967295,x=A+(D<<5&4294967295|D>>>27),D=L+(A^N&(x^A))+O[14]+3275163606&4294967295,L=x+(D<<9&4294967295|D>>>23),D=N+(x^A&(L^x))+O[3]+4107603335&4294967295,N=L+(D<<14&4294967295|D>>>18),D=A+(L^x&(N^L))+O[8]+1163531501&4294967295,A=N+(D<<20&4294967295|D>>>12),D=x+(N^L&(A^N))+O[13]+2850285829&4294967295,x=A+(D<<5&4294967295|D>>>27),D=L+(A^N&(x^A))+O[2]+4243563512&4294967295,L=x+(D<<9&4294967295|D>>>23),D=N+(x^A&(L^x))+O[7]+1735328473&4294967295,N=L+(D<<14&4294967295|D>>>18),D=A+(L^x&(N^L))+O[12]+2368359562&4294967295,A=N+(D<<20&4294967295|D>>>12),D=x+(A^N^L)+O[5]+4294588738&4294967295,x=A+(D<<4&4294967295|D>>>28),D=L+(x^A^N)+O[8]+2272392833&4294967295,L=x+(D<<11&4294967295|D>>>21),D=N+(L^x^A)+O[11]+1839030562&4294967295,N=L+(D<<16&4294967295|D>>>16),D=A+(N^L^x)+O[14]+4259657740&4294967295,A=N+(D<<23&4294967295|D>>>9),D=x+(A^N^L)+O[1]+2763975236&4294967295,x=A+(D<<4&4294967295|D>>>28),D=L+(x^A^N)+O[4]+1272893353&4294967295,L=x+(D<<11&4294967295|D>>>21),D=N+(L^x^A)+O[7]+4139469664&4294967295,N=L+(D<<16&4294967295|D>>>16),D=A+(N^L^x)+O[10]+3200236656&4294967295,A=N+(D<<23&4294967295|D>>>9),D=x+(A^N^L)+O[13]+681279174&4294967295,x=A+(D<<4&4294967295|D>>>28),D=L+(x^A^N)+O[0]+3936430074&4294967295,L=x+(D<<11&4294967295|D>>>21),D=N+(L^x^A)+O[3]+3572445317&4294967295,N=L+(D<<16&4294967295|D>>>16),D=A+(N^L^x)+O[6]+76029189&4294967295,A=N+(D<<23&4294967295|D>>>9),D=x+(A^N^L)+O[9]+3654602809&4294967295,x=A+(D<<4&4294967295|D>>>28),D=L+(x^A^N)+O[12]+3873151461&4294967295,L=x+(D<<11&4294967295|D>>>21),D=N+(L^x^A)+O[15]+530742520&4294967295,N=L+(D<<16&4294967295|D>>>16),D=A+(N^L^x)+O[2]+3299628645&4294967295,A=N+(D<<23&4294967295|D>>>9),D=x+(N^(A|~L))+O[0]+4096336452&4294967295,x=A+(D<<6&4294967295|D>>>26),D=L+(A^(x|~N))+O[7]+1126891415&4294967295,L=x+(D<<10&4294967295|D>>>22),D=N+(x^(L|~A))+O[14]+2878612391&4294967295,N=L+(D<<15&4294967295|D>>>17),D=A+(L^(N|~x))+O[5]+4237533241&4294967295,A=N+(D<<21&4294967295|D>>>11),D=x+(N^(A|~L))+O[12]+1700485571&4294967295,x=A+(D<<6&4294967295|D>>>26),D=L+(A^(x|~N))+O[3]+2399980690&4294967295,L=x+(D<<10&4294967295|D>>>22),D=N+(x^(L|~A))+O[10]+4293915773&4294967295,N=L+(D<<15&4294967295|D>>>17),D=A+(L^(N|~x))+O[1]+2240044497&4294967295,A=N+(D<<21&4294967295|D>>>11),D=x+(N^(A|~L))+O[8]+1873313359&4294967295,x=A+(D<<6&4294967295|D>>>26),D=L+(A^(x|~N))+O[15]+4264355552&4294967295,L=x+(D<<10&4294967295|D>>>22),D=N+(x^(L|~A))+O[6]+2734768916&4294967295,N=L+(D<<15&4294967295|D>>>17),D=A+(L^(N|~x))+O[13]+1309151649&4294967295,A=N+(D<<21&4294967295|D>>>11),D=x+(N^(A|~L))+O[4]+4149444226&4294967295,x=A+(D<<6&4294967295|D>>>26),D=L+(A^(x|~N))+O[11]+3174756917&4294967295,L=x+(D<<10&4294967295|D>>>22),D=N+(x^(L|~A))+O[2]+718787259&4294967295,N=L+(D<<15&4294967295|D>>>17),D=A+(L^(N|~x))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var A=x-this.blockSize,O=this.B,N=this.h,L=0;L<x;){if(N==0)for(;L<=A;)i(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<x;)if(O[N++]=R.charCodeAt(L++),N==this.blockSize){i(this,O),N=0;break}}else for(;L<x;)if(O[N++]=R[L++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var A=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.u(R),R=Array(16),x=A=0;4>x;++x)for(var O=0;32>O;O+=8)R[A++]=this.g[x]>>>O&255;return R};function o(R,x){var A=c;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=x(R)}function l(R,x){this.h=x;for(var A=[],O=!0,N=R.length-1;0<=N;N--){var L=R[N]|0;O&&L==x||(A[N]=L,O=!1)}this.g=A}var c={};function h(R){return-128<=R&&128>R?o(R,function(x){return new l([x|0],0>x?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return k(p(-R));for(var x=[],A=1,O=0;R>=A;O++)x[O]=R/A|0,A*=4294967296;return new l(x,0)}function m(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return k(m(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(x,8)),O=v,N=0;N<R.length;N+=8){var L=Math.min(8,R.length-N),D=parseInt(R.substring(N,N+L),x);8>L?(L=p(Math.pow(x,L)),O=O.j(L).add(p(D))):(O=O.j(A),O=O.add(p(D)))}return O}var v=h(0),E=h(1),I=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-k(this).m();for(var R=0,x=1,A=0;A<this.g.length;A++){var O=this.i(A);R+=(0<=O?O:4294967296+O)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(C(this))return"-"+k(this).toString(R);for(var x=p(Math.pow(R,6)),A=this,O="";;){var N=Q(A,x).g;A=z(A,N.j(x));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=N,P(A))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function C(R){return R.h==-1}n.l=function(R){return R=z(this,R),C(R)?-1:P(R)?0:1};function k(R){for(var x=R.g.length,A=[],O=0;O<x;O++)A[O]=~R.g[O];return new l(A,~R.h).add(E)}n.abs=function(){return C(this)?k(this):this},n.add=function(R){for(var x=Math.max(this.g.length,R.g.length),A=[],O=0,N=0;N<=x;N++){var L=O+(this.i(N)&65535)+(R.i(N)&65535),D=(L>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);O=D>>>16,L&=65535,D&=65535,A[N]=D<<16|L}return new l(A,A[A.length-1]&-2147483648?-1:0)};function z(R,x){return R.add(k(x))}n.j=function(R){if(P(this)||P(R))return v;if(C(this))return C(R)?k(this).j(k(R)):k(k(this).j(R));if(C(R))return k(this.j(k(R)));if(0>this.l(I)&&0>R.l(I))return p(this.m()*R.m());for(var x=this.g.length+R.g.length,A=[],O=0;O<2*x;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<R.g.length;N++){var L=this.i(O)>>>16,D=this.i(O)&65535,Ue=R.i(N)>>>16,Pe=R.i(N)&65535;A[2*O+2*N]+=D*Pe,$(A,2*O+2*N),A[2*O+2*N+1]+=L*Pe,$(A,2*O+2*N+1),A[2*O+2*N+1]+=D*Ue,$(A,2*O+2*N+1),A[2*O+2*N+2]+=L*Ue,$(A,2*O+2*N+2)}for(O=0;O<x;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=x;O<2*x;O++)A[O]=0;return new l(A,0)};function $(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function K(R,x){this.g=R,this.h=x}function Q(R,x){if(P(x))throw Error("division by zero");if(P(R))return new K(v,v);if(C(R))return x=Q(k(R),x),new K(k(x.g),k(x.h));if(C(x))return x=Q(R,k(x)),new K(k(x.g),x.h);if(30<R.g.length){if(C(R)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var A=E,O=x;0>=O.l(R);)A=G(A),O=G(O);var N=te(A,1),L=te(O,1);for(O=te(O,2),A=te(A,2);!P(O);){var D=L.add(O);0>=D.l(R)&&(N=N.add(A),L=D),O=te(O,1),A=te(A,1)}return x=z(R,N.j(x)),new K(N,x)}for(N=v;0<=R.l(x);){for(A=Math.max(1,Math.floor(R.m()/x.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=p(A),D=L.j(x);C(D)||0<D.l(R);)A-=O,L=p(A),D=L.j(x);P(L)&&(L=E),N=N.add(L),R=z(R,D)}return new K(N,R)}n.A=function(R){return Q(this,R).h},n.and=function(R){for(var x=Math.max(this.g.length,R.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)&R.i(O);return new l(A,this.h&R.h)},n.or=function(R){for(var x=Math.max(this.g.length,R.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)|R.i(O);return new l(A,this.h|R.h)},n.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)^R.i(O);return new l(A,this.h^R.h)};function G(R){for(var x=R.g.length+1,A=[],O=0;O<x;O++)A[O]=R.i(O)<<1|R.i(O-1)>>>31;return new l(A,R.h)}function te(R,x){var A=x>>5;x%=32;for(var O=R.g.length-A,N=[],L=0;L<O;L++)N[L]=0<x?R.i(L+A)>>>x|R.i(L+A+1)<<32-x:R.i(L+A);return new l(N,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sw=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ds=l}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ow,El,aw,Qc,lp,lw,uw,cw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var w=r;d=d.split(".");for(var S=0;S<d.length-1;S++){var U=d[S];if(!(U in w))break e;w=w[U]}d=d[d.length-1],S=w[d],y=y(S),y!=S&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var w=0,S=!1,U={next:function(){if(!S&&w<d.length){var H=w++;return{value:y(H,d[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,w){return w})}});var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,w){return d.call.apply(d.bind,arguments)}function v(d,y,w){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),d.apply(y,U)}}return function(){return d.apply(y,arguments)}}function E(d,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function I(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function P(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(S,U,H){for(var se=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)se[$e-2]=arguments[$e];return y.prototype[U].apply(S,se)}}function C(d){const y=d.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=d[S];return w}return[]}function k(d,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(h(S)){const U=d.length||0,H=S.length||0;d.length=U+H;for(let se=0;se<H;se++)d[U+se]=S[se]}else d.push(S)}}class z{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var G=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function te(d,y,w){for(const S in d)y.call(w,d[S],S,d)}function R(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function x(d){const y={};for(const w in d)y[w]=d[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let w,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(w in S)d[w]=S[w];for(let H=0;H<A.length;H++)w=A[H],Object.prototype.hasOwnProperty.call(S,w)&&(d[w]=S[w])}}function N(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function L(d){c.setTimeout(()=>{throw d},0)}function D(){var d=ge;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ue{constructor(){this.h=this.g=null}add(y,w){const S=Pe.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Pe=new z(()=>new Ne,d=>d.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ie=!1,ge=new Ue,oe=()=>{const d=c.Promise.resolve(void 0);Ae=()=>{d.then(F)}};var F=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(w){L(w)}var y=Pe;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ie=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d})();function Se(d,y){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(G){e:{try{Q(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}P(Se,he);var Ce={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),We=0;function Qe(d,y,w,S,U){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=U,this.key=++We,this.da=this.fa=!1}function St(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Er(d){this.src=d,this.g={},this.h=0}Er.prototype.add=function(d,y,w,S,U){var H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);var se=ti(d,y,S,U);return-1<se?(y=d[se],w||(y.fa=!1)):(y=new Qe(y,this.src,H,!!S,U),y.fa=w,d.push(y)),y};function Ks(d,y){var w=y.type;if(w in d.g){var S=d.g[w],U=Array.prototype.indexOf.call(S,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(St(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function ti(d,y,w,S){for(var U=0;U<d.length;++U){var H=d[U];if(!H.da&&H.listener==y&&H.capture==!!w&&H.ha==S)return U}return-1}var Gi="closure_lm_"+(1e6*Math.random()|0),Gs={};function ya(d,y,w,S,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)ya(d,y[H],w,S,U);return null}return w=wa(w),d&&d[je]?d.K(y,w,p(S)?!!S.capture:!1,U):_a(d,y,w,!1,S,U)}function _a(d,y,w,S,U,H){if(!y)throw Error("Invalid event type");var se=p(U)?!!U.capture:!!U,$e=Ys(d);if($e||(d[Gi]=$e=new Er(d)),w=$e.add(y,w,S,se,H),w.proxy)return w;if(S=gu(),w.proxy=S,S.src=d,S.listener=w,d.addEventListener)Ee||(U=se),U===void 0&&(U=!1),d.addEventListener(y.toString(),S,U);else if(d.attachEvent)d.attachEvent(Ir(y.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function gu(){function d(w){return y.call(d.src,d.listener,w)}const y=va;return d}function Qs(d,y,w,S,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)Qs(d,y[H],w,S,U);else S=p(S)?!!S.capture:!!S,w=wa(w),d&&d[je]?(d=d.i,y=String(y).toString(),y in d.g&&(H=d.g[y],w=ti(H,w,S,U),-1<w&&(St(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete d.g[y],d.h--)))):d&&(d=Ys(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ti(y,w,S,U)),(w=-1<d?y[d]:null)&&Tr(w))}function Tr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[je])Ks(y.i,d);else{var w=d.type,S=d.proxy;y.removeEventListener?y.removeEventListener(w,S,d.capture):y.detachEvent?y.detachEvent(Ir(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=Ys(y))?(Ks(w,d),w.h==0&&(w.src=null,y[Gi]=null)):St(d)}}}function Ir(d){return d in Gs?Gs[d]:Gs[d]="on"+d}function va(d,y){if(d.da)d=!0;else{y=new Se(y,this);var w=d.listener,S=d.ha||d.src;d.fa&&Tr(d),d=w.call(S,y)}return d}function Ys(d){return d=d[Gi],d instanceof Er?d:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function wa(d){return typeof d=="function"?d:(d[Xs]||(d[Xs]=function(y){return d.handleEvent(y)}),d[Xs])}function mt(){q.call(this),this.i=new Er(this),this.M=this,this.F=null}P(mt,q),mt.prototype[je]=!0,mt.prototype.removeEventListener=function(d,y,w,S){Qs(this,d,y,w,S)};function yt(d,y){var w,S=d.F;if(S)for(w=[];S;S=S.F)w.push(S);if(d=d.M,S=y.type||y,typeof y=="string")y=new he(y,d);else if(y instanceof he)y.target=y.target||d;else{var U=y;y=new he(S,d),O(y,U)}if(U=!0,w)for(var H=w.length-1;0<=H;H--){var se=y.g=w[H];U=Sr(se,S,!0,y)&&U}if(se=y.g=d,U=Sr(se,S,!0,y)&&U,U=Sr(se,S,!1,y)&&U,w)for(H=0;H<w.length;H++)se=y.g=w[H],U=Sr(se,S,!1,y)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],S=0;S<w.length;S++)St(w[S]);delete d.g[y],d.h--}}this.F=null},mt.prototype.K=function(d,y,w,S){return this.i.add(String(d),y,!1,w,S)},mt.prototype.L=function(d,y,w,S){return this.i.add(String(d),y,!0,w,S)};function Sr(d,y,w,S){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var se=y[H];if(se&&!se.da&&se.capture==w){var $e=se.listener,_t=se.ha||se.src;se.fa&&Ks(d.i,se),U=$e.call(_t,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ea(d,y,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function ni(d){d.g=Ea(()=>{d.g=null,d.i&&(d.i=!1,ni(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Qi extends q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(d){q.call(this),this.h=d,this.g={}}P(Yi,q);var Ta=[];function Ia(d){te(d.g,function(y,w){this.g.hasOwnProperty(w)&&Tr(y)},d),d.g={}}Yi.prototype.N=function(){Yi.aa.N.call(this),Ia(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sa=c.JSON.stringify,xa=c.JSON.parse,ka=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Xi(){}Xi.prototype.h=null;function Js(d){return d.h||(d.h=d.i())}function Zs(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){he.call(this,"d")}P(er,he);function eo(){he.call(this,"c")}P(eo,he);var tr={},Ca=null;function Ji(){return Ca=Ca||new mt}tr.La="serverreachability";function Aa(d){he.call(this,tr.La,d)}P(Aa,he);function xr(d){const y=Ji();yt(y,new Aa(y))}tr.STAT_EVENT="statevent";function Pa(d,y){he.call(this,tr.STAT_EVENT,d),this.stat=y}P(Pa,he);function ut(d){const y=Ji();yt(y,new Pa(y,d))}tr.Ma="timingevent";function to(d,y){he.call(this,tr.Ma,d),this.size=y}P(to,he);function Ln(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function es(d,y,w,S,U,H){d.info(function(){if(d.g)if(H)for(var se="",$e=H.split("&"),_t=0;_t<$e.length;_t++){var Me=$e[_t].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var ft=xt.split("_");se=2<=ft.length&&ft[1]=="type"?se+(xt+"="+Me+"&"):se+(xt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+w+`
`+se})}function no(d,y,w,S,U,H,se){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+w+`
`+H+" "+se})}function Vn(d,y,w,S){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+td(d,w)+(S?" "+S:"")})}function ba(d,y){d.info(function(){return"TIMEOUT: "+y})}Zi.prototype.info=function(){};function td(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var S=w[d];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Sa(w)}catch{return y}}var ro={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function ts(){}P(ts,Xi),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},Fn=new ts;function Un(d,y,w,S){this.j=d,this.i=y,this.l=w,this.R=S||1,this.U=new Yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var Ra={},io={};function so(d,y,w){d.L=1,d.v=ai(dn(y)),d.m=w,d.P=!0,Da(d,null)}function Da(d,y){d.F=Date.now(),Ye(d),d.A=dn(d.v);var w=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),ui(w.i,"t",S),d.C=0,w=d.j.J,d.h=new yu,d.g=Mu(d.j,w?y:null,!d.m),0<d.O&&(d.M=new Qi(E(d.Y,d,d.g),d.O)),y=d.U,w=d.g,S=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ta[0]=U.toString()),U=Ta);for(var H=0;H<U.length;H++){var se=ya(w,U[H],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),xr(),es(d.i,d.u,d.A,d.l,d.R,d.m)}Un.prototype.ca=function(d){d=d.target;const y=this.M;y&&tn(d)==3?y.j():this.Y(d)},Un.prototype.Y=function(d){try{if(d==this.g)e:{const ft=tn(this.g);var y=this.g.Ba();const Tn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||ft!=4||y==7||(y==8||0>=Tn?xr(3):xr(2)),ns(this);var w=this.g.Z();this.X=w;t:if(_u(this)){var S=Fa(this.g);d="";var U=S.length,H=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),ri(this);var se="";break t}this.h.i=new c.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,d+=this.h.i.decode(S[y],{stream:!(H&&y==U-1)});S.length=0,this.h.g+=d,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=w==200,no(this.i,this.u,this.A,this.l,this.R,ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,_t=this.g;if(($e=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$($e)){var Me=$e;break t}}Me=null}if(w=Me)Vn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,w);else{this.o=!1,this.s=3,ut(12),wn(this),ri(this);break e}}if(this.P){w=!0;let pn;for(;!this.J&&this.C<se.length;)if(pn=nd(this,se),pn==io){ft==4&&(this.s=4,ut(14),w=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Ra){this.s=4,ut(15),Vn(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else Vn(this.i,this.l,pn,null),Oa(this,pn);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||se.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)Vn(this.i,this.l,se,"[Invalid Chunked Response]"),wn(this),ri(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),za(xt),xt.M=!0,ut(11))}}else Vn(this.i,this.l,se,null),Oa(this,se);ft==4&&wn(this),this.o&&!this.J&&(ft==4?yo(this.j,this):(this.o=!1,Ye(this)))}else ho(this.g),w==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),wn(this),ri(this)}}}catch{}};function _u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function nd(d,y){var w=d.C,S=y.indexOf(`
`,w);return S==-1?io:(w=Number(y.substring(w,S)),isNaN(w)?Ra:(S+=1,S+w>y.length?io:(y=y.slice(S,S+w),d.C=S+w,y)))}Un.prototype.cancel=function(){this.J=!0,wn(this)};function Ye(d){d.S=Date.now()+d.I,vu(d,d.I)}function vu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ln(E(d.ba,d),y)}function ns(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Un.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ba(this.i,this.A),this.L!=2&&(xr(),ut(17)),wn(this),this.s=2,ri(this)):vu(this,this.S-d)};function ri(d){d.j.G==0||d.J||yo(d.j,d)}function wn(d){ns(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Ia(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Oa(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||Yt(w.h,d))){if(!d.K&&Yt(w.h,d)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)mo(w),Hn(w);else break e;go(w),ut(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ln(E(w.Za,w),6e3));if(1>=Eu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else br(w,11)}else if((d.K||w.g==d)&&mo(w),!$(y))for(U=w.Da.g.parse(y),y=0;y<U.length;y++){let Me=U[y];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const xt=Me[3];xt!=null&&(w.la=xt,w.j.info("VER="+w.la));const ft=Me[4];ft!=null&&(w.Aa=ft,w.j.info("SVER="+w.Aa));const Tn=Me[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(S=1.5*Tn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const pn=d.g;if(pn){const us=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var H=S.h;H.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Na(H,H.h),H.h=null))}if(S.D){const vo=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(S.ya=vo,Ge(S.I,S.D,vo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var se=d;if(S.qa=Nu(S,S.J?S.ia:null,S.W),se.K){Tu(S.h,se);var $e=se,_t=S.L;_t&&($e.I=_t),$e.B&&(ns($e),Ye($e)),S.g=se}else ls(S);0<w.i.length&&sr(w)}else Me[0]!="stop"&&Me[0]!="close"||br(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?br(w,7):Ot(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}xr(4)}catch{}}var wu=class{constructor(d,y){this.g=d,this.map=y}};function rs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Eu(d){return d.h?1:d.g?d.g.size:0}function Yt(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Na(d,y){d.g?d.g.add(y):d.h=y}function Tu(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}rs.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Iu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return C(d.i)}function oo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],w=d.length,S=0;S<w;S++)y.push(d[S]);return y}y=[],w=0;for(S in d)y[w++]=d[S];return y}function ao(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const S in d)y[w++]=S;return y}}}function ii(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=ao(d),S=oo(d),U=S.length,H=0;H<U;H++)y.call(void 0,S[H],w&&w[H],d)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rd(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var S=d[w].indexOf("="),U=null;if(0<=S){var H=d[w].substring(0,S);U=d[w].substring(S+1)}else H=d[w];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kr){this.h=d.h,ss(this,d.j),this.o=d.o,this.g=d.g,si(this,d.s),this.l=d.l;var y=d.i,w=new nr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),oi(this,w),this.m=d.m}else d&&(y=String(d).match(is))?(this.h=!1,ss(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),si(this,y[4]),this.l=De(y[5]||"",!0),oi(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}kr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(li(y,lo,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(li(y,lo,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(li(w,w.charAt(0)=="/"?ku:xu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",li(w,Ma)),d.join("")};function dn(d){return new kr(d)}function ss(d,y,w){d.j=w?De(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function si(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function oi(d,y,w){y instanceof nr?(d.i=y,rr(d.i,d.h)):(w||(y=li(y,Cu)),d.i=new nr(y,d.h))}function Ge(d,y,w){d.i.set(y,w)}function ai(d){return Ge(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function De(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function li(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,Su),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Su(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lo=/[#\/\?@]/g,xu=/[#\?:]/g,ku=/[#\?]/g,Cu=/[#\?@]/g,Ma=/#/g;function nr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Dt(d){d.g||(d.g=new Map,d.h=0,d.i&&rd(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=nr.prototype,n.add=function(d,y){Dt(this),this.i=null,d=En(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function zn(d,y){Dt(d),y=En(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Bn(d,y){return Dt(d),y=En(d,y),d.g.has(y)}n.forEach=function(d,y){Dt(this),this.g.forEach(function(w,S){w.forEach(function(U){d.call(y,U,S,this)},this)},this)},n.na=function(){Dt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const U=d[S];for(let H=0;H<U.length;H++)w.push(y[S])}return w},n.V=function(d){Dt(this);let y=[];if(typeof d=="string")Bn(this,d)&&(y=y.concat(this.g.get(En(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},n.set=function(d,y){return Dt(this),this.i=null,d=En(this,d),Bn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ui(d,y,w){zn(d,y),0<w.length&&(d.i=null,d.g.set(En(d,y),C(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const H=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var U=H;se[S]!==""&&(U+="="+encodeURIComponent(String(se[S]))),d.push(U)}}return this.i=d.join("&")};function En(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function rr(d,y){y&&!d.j&&(Dt(d),d.i=null,d.g.forEach(function(w,S){var U=S.toLowerCase();S!=U&&(zn(this,S),ui(this,U,w))},d)),d.j=y}function id(d,y){const w=new Zi;if(c.Image){const S=new Image;S.onload=I(en,w,"TestLoadImage: loaded",!0,y,S),S.onerror=I(en,w,"TestLoadImage: error",!1,y,S),S.onabort=I(en,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(en,w,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else y(!1)}function Au(d,y){const w=new Zi,S=new AbortController,U=setTimeout(()=>{S.abort(),en(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?en(w,"TestPingServer: ok",!0,y):en(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),en(w,"TestPingServer: error",!1,y)})}function en(d,y,w,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(w)}catch{}}function sd(){this.g=new ka}function Pu(d,y,w){const S=w||"";try{ii(d,function(U,H){let se=U;p(U)&&(se=Sa(U)),y.push(S+H+"="+encodeURIComponent(se))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function Cr(d){this.l=d.Ub||null,this.j=d.eb||!1}P(Cr,Xi),Cr.prototype.g=function(){return new os(this.l,this.j)},Cr.prototype.i=(function(d){return function(){return d}})({});function os(d,y){mt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(os,mt),n=os.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Wn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?jn(this):Wn(this),this.readyState==3&&bu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,jn(this))},n.Qa=function(d){this.g&&(this.response=d,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Wn(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Wn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ar(d){let y="";return te(d,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function ci(d,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Ar(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Ge(d,y,w))}function nt(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(nt,mt);var od=/^https?$/i,La=["POST","PUT"];n=nt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Js(this.o):Js(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(H){as(this,H);return}if(d=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)w.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())w.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(La,y,void 0))||S||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of w)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(d),this.u=!1}catch(H){as(this,H)}};function as(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,uo(d),fn(d)}function uo(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(d){if(d.h&&typeof l<"u"&&(!d.v[1]||tn(d)!=4||d.Z()!=2)){if(d.u&&tn(d)==4)Ea(d.Ea,0,d);else if(yt(d,"readystatechange"),tn(d)==4){d.h=!1;try{const se=d.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=se===0){var U=String(d.D).match(is)[1]||null;!U&&c.self&&c.self.location&&(U=c.self.location.protocol.slice(0,-1)),S=!od.test(U?U.toLowerCase():"")}w=S}if(w)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var H=2<tn(d)?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.Z()+"]",uo(d)}}finally{fn(d)}}}}function fn(d,y){if(d.g){co(d);const w=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||yt(d,"ready");try{w.onreadystatechange=S}catch{}}}function co(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function tn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),xa(y)}};function Fa(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(d){const y={};d=(d.g&&2<=tn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if($(d[S]))continue;var w=N(d[S]);const U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=y[U]||[];y[U]=H,H.push(w)}R(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Ua(d){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,d),this.cb=ir("retryDelaySeedMs",1e4,d),this.Wa=ir("forwardChannelMaxRetries",2,d),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(d&&d.concurrentRequestLimit),this.Da=new sd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ua.prototype,n.la=8,n.G=1,n.connect=function(d,y,w,S){ut(0),this.W=d,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Nu(this,null,this.W),sr(this)};function Ot(d){if(fo(d),d.G==3){var y=d.U++,w=dn(d.I);if(Ge(w,"SID",d.K),Ge(w,"RID",y),Ge(w,"TYPE","terminate"),Pr(d,w),y=new Un(d,d.j,y),y.L=2,y.v=ai(dn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ye(y)}Ou(d)}function Hn(d){d.g&&(za(d),d.g.cancel(),d.g=null)}function fo(d){Hn(d),d.u&&(c.clearTimeout(d.u),d.u=null),mo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function sr(d){if(!hn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ae||oe(),ie||(Ae(),ie=!0),ge.add(y,d),d.B=0}}function ad(d,y){return Eu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ln(E(d.Ga,d,y),Du(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new Un(this,this.j,d);let H=this.o;if(this.S&&(H?(H=x(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=hi(this,U,y),w=dn(this.I),Ge(w,"RID",d),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),Pr(this,w),H&&(this.O?y="headers="+encodeURIComponent(String(Ar(H)))+"&"+y:this.m&&ci(w,this.m,H)),Na(this.h,U),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",y),Ge(w,"SID","null"),U.T=!0,so(U,w,null)):so(U,w,y),this.G=2}}else this.G==3&&(d?po(this,d):this.i.length==0||hn(this.h)||po(this))};function po(d,y){var w;y?w=y.l:w=d.U++;const S=dn(d.I);Ge(S,"SID",d.K),Ge(S,"RID",w),Ge(S,"AID",d.T),Pr(d,S),d.m&&d.o&&ci(S,d.m,d.o),w=new Un(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=hi(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Na(d.h,w),so(w,S,y)}function Pr(d,y){d.H&&te(d.H,function(w,S){Ge(y,S,w)}),d.l&&ii({},function(w,S){Ge(y,S,w)})}function hi(d,y,w){w=Math.min(d.i.length,w);var S=d.l?E(d.l.Na,d.l,d):null;e:{var U=d.i;let H=-1;for(;;){const se=["count="+w];H==-1?0<w?(H=U[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let $e=!0;for(let _t=0;_t<w;_t++){let Me=U[_t].g;const xt=U[_t].map;if(Me-=H,0>Me)H=Math.max(0,U[_t].g-100),$e=!1;else try{Pu(xt,se,"req"+Me+"_")}catch{S&&S(xt)}}if($e){S=se.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,S}function ls(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ae||oe(),ie||(Ae(),ie=!0),ge.add(y,d),d.v=0}}function go(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ln(E(d.Fa,d),Du(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ln(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Hn(this),Ru(this))};function za(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Ru(d){d.g=new Un(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=dn(d.qa);Ge(y,"RID","rpc"),Ge(y,"SID",d.K),Ge(y,"AID",d.T),Ge(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ge(y,"TO",d.ja),Ge(y,"TYPE","xmlhttp"),Pr(d,y),d.m&&d.o&&ci(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ai(dn(y)),w.m=null,w.P=!0,Da(w,d)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),go(this),ut(19))};function mo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function yo(d,y){var w=null;if(d.g==y){mo(d),za(d),d.g=null;var S=2}else if(Yt(d.h,y))w=y.D,Tu(d.h,y),S=1;else return;if(d.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var U=d.B;S=Ji(),yt(S,new to(S,w)),sr(d)}else ls(d);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&ad(d,y)||S==2&&go(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),U){case 1:br(d,5);break;case 4:br(d,10);break;case 3:br(d,6);break;default:br(d,2)}}}function Du(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function br(d,y){if(d.j.info("Error code "+y),y==2){var w=E(d.fb,d),S=d.Xa;const U=!S;S=new kr(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ss(S,"https"),ai(S),U?id(S.toString(),w):Au(S.toString(),w)}else ut(2);d.G=0,d.l&&d.l.sa(y),Ou(d),fo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ou(d){if(d.G=0,d.ka=[],d.l){const y=Iu(d.h);(y.length!=0||d.i.length!=0)&&(k(d.ka,y),k(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Nu(d,y,w){var S=w instanceof kr?dn(w):new kr(w);if(S.g!="")y&&(S.g=y+"."+S.g),si(S,S.s);else{var U=c.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new kr(null);S&&ss(H,S),y&&(H.g=y),U&&si(H,U),w&&(H.l=w),S=H}return w=d.D,y=d.ya,w&&y&&Ge(S,w,y),Ge(S,"VER",d.la),Pr(d,S),S}function Mu(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new nt(new Cr({eb:w})):new nt(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}n=Ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(d,y){return new Xt(d,y)};function Xt(d,y){mt.call(this),this.g=new Ua(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!$(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new or(this)}P(Xt,mt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Ot(this.g)},Xt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Sa(d),d=w);y.i.push(new wu(y.Ya++,d)),y.G==3&&sr(y)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Xt.aa.N.call(this)};function Lu(d){er.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}P(Lu,er);function Vu(){eo.call(this),this.status=1}P(Vu,eo);function or(d){this.g=d}P(or,Ba),or.prototype.ua=function(){yt(this.g,"a")},or.prototype.ta=function(d){yt(this.g,new Lu(d))},or.prototype.sa=function(d){yt(this.g,new Vu)},or.prototype.ra=function(){yt(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,cw=function(){return new _o},uw=function(){return Ji()},lw=tr,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ro.NO_ERROR=0,ro.TIMEOUT=8,ro.HTTP_ERROR=6,Qc=ro,mu.COMPLETE="complete",aw=mu,Zs.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,El=Zs,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,ow=nt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const v_="@firebase/firestore";class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");let ca="10.14.0";const Ms=new Lp("@firebase/firestore");function dl(){return Ms.logLevel}function fe(n,...e){if(Ms.logLevel<=Oe.DEBUG){const t=e.map(Up);Ms.debug(`Firestore (${ca}): ${n}`,...t)}}function Xr(n,...e){if(Ms.logLevel<=Oe.ERROR){const t=e.map(Up);Ms.error(`Firestore (${ca}): ${n}`,...t)}}function Xo(n,...e){if(Ms.logLevel<=Oe.WARN){const t=e.map(Up);Ms.warn(`Firestore (${ca}): ${n}`,...t)}}function Up(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ie(n="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function Ke(n,e){n||Ie()}function ke(n,e){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new hw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new qt(e)}}class cC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hC{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new cC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new dC(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pC(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Be(n,e){return n<e?-1:n>e?1:0}function Jo(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}class It{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new It(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new It(0,0))}static max(){return new xe(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(),r===void 0?r=e.length-t:r>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends jl{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const gC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends jl{construct(e,t,r){return new Vt(e,t,r)}static isValidIdentifier(e){return gC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function mC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Wi(i,ve.empty(),e)}function yC(n){return new Wi(n.readTime,n.key,-1)}class Wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Wi(xe.min(),ve.empty(),-1)}static max(){return new Wi(xe.max(),ve.empty(),-1)}}function _C(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function iu(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==vC)throw n;fe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&t()}),(h=>r(h)))})),l=!0,o===i&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((i=>i?Z.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next((m=>{l[p]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new Z(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function EC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}class zp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zp.oe=-1;function Nh(n){return n==null}function uh(n){return n===0&&1/n==-1/0}function TC(n){return typeof n=="number"&&Number.isInteger(n)&&!uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function w_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class at{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=o??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Lt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Ft(Vt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pw("Invalid base64 string: "+o):o}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const IC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=IC.exec(n);if(Ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}function Bp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jp(n){const e=n.mapValue.fields.__previous_value__;return Bp(e)?jp(e):e}function Wl(n){const e=Hi(n.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}class SC{constructor(e,t,r,i,o,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class Hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const Oc={mapValue:{}};function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bp(n)?4:kC(n)?9007199254740991:xC(n)?10:11:Ie()}function vr(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wl(n).isEqual(Wl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Hi(i.timestampValue),c=Hi(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=ht(i.doubleValue),c=ht(o.doubleValue);return l===c?uh(l)===uh(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return Jo(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(w_(l)!==w_(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!vr(l[h],c[h])))return!1;return!0})(n,e);default:return Ie()}}function $l(n,e){return(n.values||[]).find((t=>vr(t,e)))!==void 0}function Zo(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=ht(o.integerValue||o.doubleValue),h=ht(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return T_(n.timestampValue,e.timestampValue);case 4:return T_(Wl(n),Wl(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return(function(o,l){const c=Ls(o),h=Ls(l);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const m=Be(c[p],h[p]);if(m!==0)return m}return Be(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Be(ht(o.latitude),ht(l.latitude));return c!==0?c:Be(ht(o.longitude),ht(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return I_(n.arrayValue,e.arrayValue);case 10:return(function(o,l){var c,h,p,m;const v=o.fields||{},E=l.fields||{},I=(c=v.value)===null||c===void 0?void 0:c.arrayValue,P=(h=E.value)===null||h===void 0?void 0:h.arrayValue,C=Be(((p=I?.values)===null||p===void 0?void 0:p.length)||0,((m=P?.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:I_(I,P)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Oc.mapValue&&l===Oc.mapValue)return 0;if(o===Oc.mapValue)return 1;if(l===Oc.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const E=Be(h[v],m[v]);if(E!==0)return E;const I=Zo(c[h[v]],p[m[v]]);if(I!==0)return I}return Be(h.length,m.length)})(n.mapValue,e.mapValue);default:throw Ie()}}function T_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Hi(n),r=Hi(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function I_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Zo(t[i],r[i]);if(o)return o}return Be(t.length,r.length)}function ea(n){return up(n)}function up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Hi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ls(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=up(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${up(t.fields[l])}`;return i+"}"})(n.mapValue):Ie()}function cp(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function S_(n){return!!n&&"nullValue"in n}function x_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yc(n){return!!n&&"mapValue"in n}function xC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ha(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Pl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Vt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Pl(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ha(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new bn(Pl(this.value))}}function gw(n){const e=[];return ha(n.fields,((t,r)=>{const i=new Vt([t]);if(Yc(r)){const o=gw(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Xn(e)}class Kt{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Kt(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,t,r,i){return new Kt(e,1,t,xe.min(),r,i,0)}static newNoDocument(e,t){return new Kt(e,2,t,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,t){this.position=e,this.inclusive=t}}function k_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Zo(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function C_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}class hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function CC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class mw{}class Et extends mw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new PC(e,t,r):t==="array-contains"?new DC(e,r):t==="in"?new OC(e,r):t==="not-in"?new NC(e,r):t==="array-contains-any"?new MC(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bC(e,r):new RC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends mw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new wr(e,t)}matches(e){return yw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yw(n){return n.op==="and"}function _w(n){return AC(n)&&yw(n)}function AC(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function hp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(_w(n))return n.filters.map((e=>hp(e))).join(",");{const e=n.filters.map((t=>hp(t))).join(",");return`${n.op}(${e})`}}function vw(n,e){return n instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)})(n,e):n instanceof wr?(function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&vw(l,i.filters[c])),!0):!1})(n,e):void Ie()}function ww(n){return n instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`})(n):n instanceof wr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ww).join(" ,")+"}"})(n):"Filter"}class PC extends Et{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class bC extends Et{constructor(e,t){super(e,"in",t),this.keys=Ew("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RC extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Ew("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ew(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class DC extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&$l(t.arrayValue,this.value)}}class OC extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$l(this.value.arrayValue,t)}}class NC extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!$l(this.value.arrayValue,t)}}class MC extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}class LC{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function A_(n,e=null,t=[],r=[],i=null,o=null,l=null){return new LC(n,e,t,r,i,o,l)}function Hp(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>hp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ea(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ea(r))).join(",")),e.ue=t}return e.ue}function $p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C_(n.startAt,e.startAt)&&C_(n.endAt,e.endAt)}function dp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Mh{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VC(n,e,t,r,i,o,l,c){return new Mh(n,e,t,r,i,o,l,c)}function qp(n){return new Mh(n)}function P_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FC(n){return n.collectionGroup!==null}function bl(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ft(Vt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new hh(o,r))})),t.has(Vt.keyField().canonicalString())||e.ce.push(new hh(Vt.keyField(),r))}return e.ce}function pr(n){const e=ke(n);return e.le||(e.le=UC(e,bl(n))),e.le}function UC(n,e){if(n.limitType==="F")return A_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new hh(i.field,o)}));const t=n.endAt?new ch(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ch(n.startAt.position,n.startAt.inclusive):null;return A_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fp(n,e,t){return new Mh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lh(n,e){return $p(pr(n),pr(e))&&n.limitType===e.limitType}function Tw(n){return`${Hp(pr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>ww(i))).join(", ")}]`),Nh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>ea(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>ea(i))).join(",")),`Target(${r})`})(pr(n))}; limitType=${n.limitType})`}function Vh(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const p=k_(l,c,h);return l.inclusive?p<=0:p<0})(r.startAt,bl(r),i)||r.endAt&&!(function(l,c,h){const p=k_(l,c,h);return l.inclusive?p>=0:p>0})(r.endAt,bl(r),i))})(n,e)}function zC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Iw(n){return(e,t)=>{let r=!1;for(const i of bl(n)){const o=BC(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BC(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?Zo(h,p):Ie()})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return fw(this.inner)}size(){return this.innerSize}}const jC=new at(ve.comparator);function Jr(){return jC}const Sw=new at(ve.comparator);function Tl(...n){let e=Sw;for(const t of n)e=e.insert(t.key,t);return e}function xw(n){let e=Sw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function As(){return Rl()}function kw(){return Rl()}function Rl(){return new da((n=>n.toString()),((n,e)=>n.isEqual(e)))}const WC=new at(ve.comparator),HC=new Ft(ve.comparator);function Re(...n){let e=HC;for(const t of n)e=e.add(t);return e}const $C=new Ft(Be);function qC(){return $C}function Kp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Cw(n){return{integerValue:""+n}}function KC(n,e){return TC(e)?Cw(e):Kp(n,e)}class Fh{constructor(){this._=void 0}}function GC(n,e,t){return n instanceof dh?(function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bp(o)&&(o=jp(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}})(t,e):n instanceof ql?Pw(n,e):n instanceof Kl?bw(n,e):(function(i,o){const l=Aw(i,o),c=b_(l)+b_(i.Pe);return cp(l)&&cp(i.Pe)?Cw(c):Kp(i.serializer,c)})(n,e)}function QC(n,e,t){return n instanceof ql?Pw(n,e):n instanceof Kl?bw(n,e):t}function Aw(n,e){return n instanceof fh?(function(r){return cp(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class dh extends Fh{}class ql extends Fh{constructor(e){super(),this.elements=e}}function Pw(n,e){const t=Rw(e);for(const r of n.elements)t.some((i=>vr(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Fh{constructor(e){super(),this.elements=e}}function bw(n,e){let t=Rw(e);for(const r of n.elements)t=t.filter((i=>!vr(i,r)));return{arrayValue:{values:t}}}class fh extends Fh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function b_(n){return ht(n.integerValue||n.doubleValue)}function Rw(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function YC(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Kl&&i instanceof Kl?Jo(r.elements,i.elements,vr):r instanceof fh&&i instanceof fh?vr(r.Pe,i.Pe):r instanceof dh&&i instanceof dh})(n.transform,e.transform)}class XC{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uh{}function Dw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nw(n.key,Qr.none()):new ou(n.key,n.data,Qr.none());{const t=n.data,r=bn.empty();let i=new Ft(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new js(n.key,r,new Xn(i.toArray()),Qr.none())}}function JC(n,e,t){n instanceof ou?(function(i,o,l){const c=i.value.clone(),h=D_(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof js?(function(i,o,l){if(!Xc(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=D_(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Ow(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Dl(n,e,t,r){return n instanceof ou?(function(o,l,c,h){if(!Xc(o.precondition,l))return c;const p=o.value.clone(),m=O_(o.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof js?(function(o,l,c,h){if(!Xc(o.precondition,l))return c;const p=O_(o.fieldTransforms,h,l),m=l.data;return m.setAll(Ow(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,l,c){return Xc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function ZC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Aw(r.transform,i||null);o!=null&&(t===null&&(t=bn.empty()),t.set(r.field,o))}return t||null}function R_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,((o,l)=>YC(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends Uh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Uh{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function D_(n,e,t){const r=new Map;Ke(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,QC(l,c,t[i]))}return r}function O_(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,GC(o,l,e))}return r}class Nw extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eA extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&JC(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kw();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=Dw(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((t,r)=>R_(t,r)))&&Jo(this.baseMutations,e.baseMutations,((t,r)=>R_(t,r)))}}class Gp{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ke(e.mutations.length===r.length);let i=(function(){return WC})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Gp(e,t,r,i)}}class nA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rA{constructor(e,t){this.count=e,this.unchangedNames=t}}var gt,Le;function iA(n){switch(n){default:return Ie();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Mw(n){if(n===void 0)return Xr("GRPC error has no .code"),J.UNKNOWN;switch(n){case gt.OK:return J.OK;case gt.CANCELLED:return J.CANCELLED;case gt.UNKNOWN:return J.UNKNOWN;case gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case gt.INTERNAL:return J.INTERNAL;case gt.UNAVAILABLE:return J.UNAVAILABLE;case gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case gt.NOT_FOUND:return J.NOT_FOUND;case gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case gt.ABORTED:return J.ABORTED;case gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case gt.DATA_LOSS:return J.DATA_LOSS;default:return Ie()}}(Le=gt||(gt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function sA(){return new TextEncoder}const oA=new Ds([4294967295,4294967295],0);function N_(n){const e=sA().encode(n),t=new sw;return t.update(e),new Uint8Array(t.digest())}function M_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ds([t,r],0),new Ds([i,o],0)]}class Qp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ds.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ds.fromNumber(r)));return i.compare(oA)===1&&(i=new Ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=N_(e),[r,i]=M_(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);if(!this.de(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Qp(o,i,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.Ie===0)return;const t=N_(e),[r,i]=M_(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(xe.min(),i,new at(Be),Jr(),Re())}}class au{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,Re(),Re(),Re())}}class Jc{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class Lw{constructor(e,t){this.targetId=e,this.me=t}}class Vw{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class L_{constructor(){this.fe=0,this.ge=F_(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),t=Re(),r=Re();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie()}})),new au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=F_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jr(),this.qe=V_(),this.Qe=new at(Be)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ie()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((r,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(dp(o))if(r===0){const l=new ve(o.path);this.Ue(t,l,Kt.newNoDocument(l,xe.min()))}else Ke(r===1);else{const l=this.Ye(t);if(l!==r){const c=this.Ze(e),h=c?this.Xe(c,e,l):1;if(h!==0){this.je(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,p)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ls(r).toUint8Array()}catch(h){if(h instanceof pw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Qp(l,i,o)}catch(h){return Xo(h instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((o,l)=>{const c=this.Je(l);if(c){if(o.current&&dp(c.target)){const h=new ve(c.target.path);this.ke.get(h)!==null||this.it(l,h)||this.Ue(l,h,Kt.newNoDocument(h,e))}o.be&&(t.set(l,o.ve()),o.Ce())}}));let r=Re();this.qe.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.ke.forEach(((o,l)=>l.setReadTime(e)));const i=new zh(e,t,this.Qe,this.ke,r);return this.ke=Jr(),this.qe=V_(),this.Qe=new at(Be),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new L_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(Be),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function V_(){return new at(ve.comparator)}function F_(){return new at(ve.comparator)}const lA={asc:"ASCENDING",desc:"DESCENDING"},uA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cA={and:"AND",or:"OR"};class hA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pp(n,e){return n.useProto3Json||Nh(e)?e:{value:e}}function ph(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dA(n,e){return ph(n,e.toTimestamp())}function gr(n){return Ke(!!n),xe.fromTimestamp((function(t){const r=Hi(t);return new It(r.seconds,r.nanos)})(n))}function Yp(n,e){return gp(n,e).canonicalString()}function gp(n,e){const t=(function(i){return new it(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Uw(n){const e=it.fromString(n);return Ke(Hw(e)),e}function mp(n,e){return Yp(n.databaseId,e.path)}function Uf(n,e){const t=Uw(e);if(t.get(1)!==n.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Bw(t))}function zw(n,e){return Yp(n.databaseId,e)}function fA(n){const e=Uw(n);return e.length===4?it.emptyPath():Bw(e)}function yp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bw(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function U_(n,e,t){return{name:mp(n,e),fields:t.value.mapValue.fields}}function pA(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string"),Ut.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ut.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const m=p.code===void 0?J.UNKNOWN:Mw(p.code);return new me(m,p.message||"")})(l);t=new Vw(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uf(n,r.document.name),o=gr(r.document.updateTime),l=r.document.createTime?gr(r.document.createTime):xe.min(),c=new bn({mapValue:{fields:r.document.fields}}),h=Kt.newFoundDocument(i,o,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Jc(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uf(n,r.document),o=r.readTime?gr(r.readTime):xe.min(),l=Kt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Jc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uf(n,r.document),o=r.removedTargetIds||[];t=new Jc([],o,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new rA(i,o),c=r.targetId;t=new Lw(c,l)}}return t}function gA(n,e){let t;if(e instanceof ou)t={update:U_(n,e.key,e.value)};else if(e instanceof Nw)t={delete:mp(n,e.key)};else if(e instanceof js)t={update:U_(n,e.key,e.data),updateMask:SA(e.fieldMask)};else{if(!(e instanceof eA))return Ie();t={verify:mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof dh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fh)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ie()})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:dA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()})(n,e.precondition)),t}function mA(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map((t=>(function(i,o){let l=i.updateTime?gr(i.updateTime):gr(o);return l.isEqual(xe.min())&&(l=gr(o)),new XC(l,i.transformResults||[])})(t,e)))):[]}function yA(n,e){return{documents:[zw(n,e.path)]}}function _A(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zw(n,i);const o=(function(p){if(p.length!==0)return Ww(wr.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((m=>(function(E){return{field:jo(E.field),direction:EA(E.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=pp(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:t,parent:i}}function vA(n){let e=fA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ke(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(v){const E=jw(v);return E instanceof wr&&_w(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((E=>(function(P){return new hh(Wo(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(v){let E;return E=typeof v=="object"?v.value:v,Nh(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(v){const E=!!v.before,I=v.values||[];return new ch(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new ch(I,E)})(t.endAt)),VC(e,i,l,o,c,"F",h,p)}function wA(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wo(t.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wo(t.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wo(t.unaryFilter.field);return Et.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}})(n):n.fieldFilter!==void 0?(function(t){return Et.create(Wo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return wr.create(t.compositeFilter.filters.map((r=>jw(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}})(t.compositeFilter.op))})(n):Ie()}function EA(n){return lA[n]}function TA(n){return uA[n]}function IA(n){return cA[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Vt.fromServerFormat(n.fieldPath)}function Ww(n){return n instanceof Et?(function(t){if(t.op==="=="){if(x_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(S_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(x_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(S_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:TA(t.op),value:t.value}}})(n):n instanceof wr?(function(t){const r=t.getFilters().map((i=>Ww(i)));return r.length===1?r[0]:{compositeFilter:{op:IA(t.op),filters:r}}})(n):Ie()}function SA(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Hw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Oi{constructor(e,t,r,i,o=xe.min(),l=xe.min(),c=Ut.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xA{constructor(e){this.ct=e}}function kA(n){const e=vA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fp(e,e.limit,"L"):e}class CA{constructor(){this.un=new AA}addToCollectionParentIndex(e,t){return this.un.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Wi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class AA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ft(it.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(it.comparator)).toArray()}}class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}class PA{constructor(){this.changes=new da((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Dl(r.mutation,i,Xn.empty(),It.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Re()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Re()){const i=As();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let l=Tl();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=As();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Re())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,i){let o=Jr();const l=Rl(),c=(function(){return Rl()})();return t.forEach(((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof js)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Dl(m.mutation,p,m.mutation.getFieldMask(),It.now())):l.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>{var v;return c.set(p,new bA(m,(v=l.get(p))!==null&&v!==void 0?v:null))})),c)))}recalculateAndSaveOverlays(e,t){const r=Rl();let i=new at(((l,c)=>l-c)),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let m=r.get(h)||Xn.empty();m=c.applyToLocalView(p,m),r.set(h,m);const v=(i.get(c.batchId)||Re()).add(h);i=i.insert(c.batchId,v)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,v=kw();m.forEach((E=>{if(!o.has(E)){const I=Dw(t.get(E),r.get(E));I!==null&&v.set(E,I),o=o.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(As());let c=-1,h=o;return l.next((p=>Z.forEach(p,((m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{h=h.insert(m,E)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,Re()))).next((m=>({batchId:c,changes:xw(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Tl();return this.indexManager.getCollectionParents(e,o).next((c=>Z.forEach(c,(h=>{const p=(function(v,E){return new Mh(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((m=>{m.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((l=>{o.forEach(((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Kt.newInvalidDocument(m)))}));let c=Tl();return l.forEach(((h,p)=>{const m=o.get(h);m!==void 0&&Dl(m.mutation,p,Xn.empty(),It.now()),Vh(t,p)&&(c=c.insert(h,p))})),c}))}}class DA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:kA(i.bundledQuery),readTime:gr(i.readTime)}})(t)),Z.resolve()}}class OA{constructor(){this.overlays=new at(ve.comparator),this.Ir=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=As();return Z.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.ht(e,t,o)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=As(),o=t.length+1,l=new ve(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new at(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=As(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=As(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>c.set(p,m))),!(c.size()>=i)););return Z.resolve(c)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new nA(t,r));let o=this.Ir.get(t);o===void 0&&(o=Re(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class NA{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}class Xp{constructor(){this.Tr=new Ft(Pt.Er),this.dr=new Ft(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Pt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((r=>this.removeReference(r,t)))}gr(e){const t=new ve(new it([])),r=new Pt(t,e),i=new Pt(t,e+1),o=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),o.push(l.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ve(new it([])),r=new Pt(t,e),i=new Pt(t,e+1);let o=Re();return this.dr.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new Pt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ve.comparator(e.key,t.key)||Be(e.wr,t.wr)}static Ar(e,t){return Be(e.wr,t.wr)||ve.comparator(e.key,t.key)}}class MA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ft(Pt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new tA(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new Pt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pt(t,0),i=new Pt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(l=>{const c=this.Dr(l.wr);o.push(c)})),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Be);return t.forEach((i=>{const o=new Pt(i,0),l=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,l],(c=>{r=r.add(c.wr)}))})),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const l=new Pt(new ve(o),0);let c=new Ft(Be);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.wr)),!0)}),l),Z.resolve(this.Cr(c))}Cr(e){const t=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ke(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(t.mutations,(i=>{const o=new Pt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,t){const r=new Pt(t,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LA{constructor(e){this.Mr=e,this.docs=(function(){return new at(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kt.newInvalidDocument(i))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jr();const l=t.path,c=new ve(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||_C(yC(m),r)<=0||(i.has(m.key)||Vh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ie()}Or(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new VA(this)}getSize(e){return Z.resolve(this.size)}}class VA extends PA{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class FA{constructor(e){this.persistence=e,this.Nr=new da((t=>Hp(t)),$p),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xp,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,t){return this.Nr.forEach(((r,i)=>t(i))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Kn(t),Z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Z.waitFor(o).next((()=>i))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Br.containsKey(t))}}class UA{constructor(e,t){this.qr={},this.overlays={},this.Qr=new zp(0),this.Kr=!1,this.Kr=!0,this.$r=new NA,this.referenceDelegate=e(this),this.Ur=new FA(this),this.indexManager=new CA,this.remoteDocumentCache=(function(i){return new LA(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new xA(t),this.Gr=new DA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new MA(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const i=new zA(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,t){return Z.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,t))))}}class zA extends wC{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Jr=new Xp,this.Yr=null}static Zr(e){return new Jp(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(r=>{const i=ve.fromPath(r);return this.ei(e,i).next((o=>{o||t.removeEntry(i,xe.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Z.or([()=>Z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Zp{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Re(),i=Re();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Zp(e,t.fromCache,r,i)}}class BA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return jx()?8:EC(Qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.Zi(e,t,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new BA;return this.Xi(e,t,l).next((c=>{if(o.result=c,this.zi)return this.es(e,t,l,c.size)}))})).next((()=>o.result))}es(e,t,r,i){return r.documentReadCount<this.ji?(dl()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(dl()<=Oe.DEBUG&&fe("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dl()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):Z.resolve())}Yi(e,t){if(P_(t))return Z.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=fp(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Re(...o);return this.Ji.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(t,c);return this.ns(t,p,l,h.readTime)?this.Yi(e,fp(t,null,"F")):this.rs(e,p,t,h)}))))})))))}Zi(e,t,r,i){return P_(t)||i.isEqual(xe.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const l=this.ts(t,o);return this.ns(t,l,r,i)?Z.resolve(null):(dl()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(t)),this.rs(e,l,t,mC(i,-1)).next((c=>c)))}))}ts(e,t){let r=new Ft(Iw(e));return t.forEach(((i,o)=>{Vh(e,o)&&(r=r.add(o))})),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return dl()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Wi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}class WA{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new at(Be),this._s=new da((o=>Hp(o)),$p),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function HA(n,e,t,r){return new WA(n,e,t,r)}async function $w(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=Re();for(const p of i){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function $A(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return(function(c,h,p,m){const v=p.batch,E=v.keys();let I=Z.resolve();return E.forEach((P=>{I=I.next((()=>m.getEntry(h,P))).next((C=>{const k=p.docVersions.get(P);Ke(k!==null),C.version.compareTo(k)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(h,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Re();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function qw(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function qA(n,e){const t=ke(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const c=[];e.targetChanges.forEach(((m,v)=>{const E=i.get(v);if(!E)return;c.push(t.Ur.removeMatchingKeys(o,m.removedDocuments,v).next((()=>t.Ur.addMatchingKeys(o,m.addedDocuments,v))));let I=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Ut.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(v,I),(function(C,k,z){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,I,m)&&c.push(t.Ur.updateTargetData(o,I))}));let h=Jr(),p=Re();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(KA(o,l,e.documentUpdates).next((m=>{h=m.Ps,p=m.Is}))),!r.isEqual(xe.min())){const m=t.Ur.getLastRemoteSnapshotVersion(o).next((v=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Z.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(t.os=i,o)))}function KA(n,e,t){let r=Re(),i=Re();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Jr();return t.forEach(((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(xe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)})),{Ps:l,Is:i}}))}function GA(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function QA(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Ur.getTargetData(r,e).next((o=>o?(i=o,Z.resolve(i)):t.Ur.allocateTargetId(r).next((l=>(i=new Oi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r}))}async function _p(n,e,t){const r=ke(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!su(l))throw l;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function z_(n,e,t){const r=ke(n);let i=xe.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,m){const v=ke(h),E=v._s.get(m);return E!==void 0?Z.resolve(v.os.get(E)):v.Ur.getTargetData(p,m)})(r,l,pr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,t?i:xe.min(),t?o:Re()))).next((c=>(YA(r,zC(e),c),{documents:c,Ts:o})))))}function YA(n,e,t){let r=n.us.get(e)||xe.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.us.set(e,r)}class B_{constructor(){this.activeTargetIds=qC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XA{constructor(){this.so=new B_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new B_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JA{_o(e){}shutdown(){}}class j_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function zf(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const ZA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ht="WebChannelConnection";class tP extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,l){const c=zf(),h=this.xo(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,o,l),this.No(t,h,p,i).then((m=>(fe("RestConnection",`Received RPC '${t}' ${c}: `,m),m)),(m=>{throw Xo("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",h,"request:",i),m}))}Lo(t,r,i,o,l,c){return this.Mo(t,r,i,o,l)}Oo(t,r,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ca})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,l)=>t[l]=o)),i&&i.headers.forEach(((o,l)=>t[l]=o))}xo(t,r){const i=ZA[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=zf();return new Promise(((l,c)=>{const h=new ow;h.setWithCredentials(!0),h.listenOnce(aw.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Qc.NO_ERROR:const m=h.getResponseJson();fe(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Qc.TIMEOUT:fe(Ht,`RPC '${e}' ${o} timed out`),c(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const v=h.getStatus();if(fe(Ht,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const P=(function(k){const z=k.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(I.status);c(new me(P,I.message))}else c(new me(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(J.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{fe(Ht,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);fe(Ht,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",p,r,15)}))}Bo(e,t,r){const i=zf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cw(),c=uw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");fe(Ht,`Creating RPC '${e}' stream ${i}: ${m}`,h);const v=l.createWebChannel(m,h);let E=!1,I=!1;const P=new eP({Io:k=>{I?fe(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(E||(fe(Ht,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),fe(Ht,`RPC '${e}' stream ${i} sending:`,k),v.send(k))},To:()=>v.close()}),C=(k,z,$)=>{k.listen(z,(K=>{try{$(K)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return C(v,El.EventType.OPEN,(()=>{I||(fe(Ht,`RPC '${e}' stream ${i} transport opened.`),P.yo())})),C(v,El.EventType.CLOSE,(()=>{I||(I=!0,fe(Ht,`RPC '${e}' stream ${i} transport closed`),P.So())})),C(v,El.EventType.ERROR,(k=>{I||(I=!0,Xo(Ht,`RPC '${e}' stream ${i} transport errored:`,k),P.So(new me(J.UNAVAILABLE,"The operation could not be completed")))})),C(v,El.EventType.MESSAGE,(k=>{var z;if(!I){const $=k.data[0];Ke(!!$);const K=$,Q=K.error||((z=K[0])===null||z===void 0?void 0:z.error);if(Q){fe(Ht,`RPC '${e}' stream ${i} received error:`,Q);const G=Q.status;let te=(function(A){const O=gt[A];if(O!==void 0)return Mw(O)})(G),R=Q.message;te===void 0&&(te=J.INTERNAL,R="Unknown error status: "+G+" with message "+Q.message),I=!0,P.So(new me(te,R)),v.close()}else fe(Ht,`RPC '${e}' stream ${i} received:`,$),P.bo($)}})),C(c,lw.STAT_EVENT,(k=>{k.stat===lp.PROXY?fe(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===lp.NOPROXY&&fe(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.wo()}),0),P}}function Bf(){return typeof document<"u"?document:null}function Bh(n){return new hA(n,!0)}class Kw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Gw{constructor(e,t,r,i,o,l,c,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kw(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===t&&this.P_(r,i)}),(r=>{e((()=>{const i=new me(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nP extends Gw{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=pA(this.serializer,e),r=(function(o){if(!("targetChange"in o))return xe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?xe.min():l.readTime?gr(l.readTime):xe.min()})(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=yp(this.serializer),t.addTarget=(function(o,l){let c;const h=l.target;if(c=dp(h)?{documents:yA(o,h)}:{query:_A(o,h)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Fw(o,l.resumeToken);const p=pp(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(xe.min())>0){c.readTime=ph(o,l.snapshotVersion.toTimestamp());const p=pp(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=wA(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=yp(this.serializer),t.removeTarget=e,this.a_(t)}}class rP extends Gw{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=mA(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=yp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>gA(this.serializer,r)))};this.a_(t)}}class iP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Mo(e,gp(t,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(J.UNKNOWN,o.toString())}))}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Lo(e,gp(t,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(J.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class sP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class oP{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((l=>{r.enqueueAndForget((async()=>{Ws(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=ke(h);p.L_.add(4),await lu(p),p.q_.set("Unknown"),p.L_.delete(4),await jh(p)})(this))}))})),this.q_=new sP(r,i)}}async function jh(n){if(Ws(n))for(const e of n.B_)await e(!0)}async function lu(n){for(const e of n.B_)await e(!1)}function Qw(n,e){const t=ke(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),rg(t)?ng(t):fa(t).r_()&&tg(t,e))}function eg(n,e){const t=ke(n),r=fa(t);t.N_.delete(e),r.r_()&&Yw(t,e),t.N_.size===0&&(r.r_()?r.o_():Ws(t)&&t.q_.set("Unknown"))}function tg(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).A_(e)}function Yw(n,e){n.Q_.xe(e),fa(n).R_(e)}function ng(n){n.Q_=new aA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.q_.v_()}function rg(n){return Ws(n)&&!fa(n).n_()&&n.N_.size>0}function Ws(n){return ke(n).L_.size===0}function Xw(n){n.Q_=void 0}async function aP(n){n.q_.set("Online")}async function lP(n){n.N_.forEach(((e,t)=>{tg(n,e)}))}async function uP(n,e){Xw(n),rg(n)?(n.q_.M_(e),ng(n)):n.q_.set("Unknown")}async function cP(n,e,t){if(n.q_.set("Online"),e instanceof Vw&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))})(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(n,r)}else if(e instanceof Jc?n.Q_.Ke(e):e instanceof Lw?n.Q_.He(e):n.Q_.We(e),!t.isEqual(xe.min()))try{const r=await qw(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const c=o.Q_.rt(l);return c.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.N_.get(p);m&&o.N_.set(p,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,p)=>{const m=o.N_.get(h);if(!m)return;o.N_.set(h,m.withResumeToken(Ut.EMPTY_BYTE_STRING,m.snapshotVersion)),Yw(o,h);const v=new Oi(m.target,h,p,m.sequenceNumber);tg(o,v)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await gh(n,r)}}async function gh(n,e,t){if(!su(e))throw e;n.L_.add(1),await lu(n),n.q_.set("Offline"),t||(t=()=>qw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await jh(n)}))}function Jw(n,e){return e().catch((t=>gh(n,t,e)))}async function Wh(n){const e=ke(n),t=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hP(e);)try{const i=await GA(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,dP(e,i)}catch(i){await gh(e,i)}Zw(e)&&eE(e)}function hP(n){return Ws(n)&&n.O_.length<10}function dP(n,e){n.O_.push(e);const t=$i(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Zw(n){return Ws(n)&&!$i(n).n_()&&n.O_.length>0}function eE(n){$i(n).start()}async function fP(n){$i(n).p_()}async function pP(n){const e=$i(n);for(const t of n.O_)e.m_(t.mutations)}async function gP(n,e,t){const r=n.O_.shift(),i=Gp.from(r,e,t);await Jw(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Wh(n)}async function mP(n,e){e&&$i(n).V_&&await(async function(r,i){if((function(l){return iA(l)&&l!==J.ABORTED})(i.code)){const o=r.O_.shift();$i(r).s_(),await Jw(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Wh(r)}})(n,e),Zw(n)&&eE(n)}async function W_(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Ws(t);t.L_.add(3),await lu(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await jh(t)}async function yP(n,e){const t=ke(n);e?(t.L_.delete(2),await jh(t)):e||(t.L_.add(2),await lu(t),t.q_.set("Unknown"))}function fa(n){return n.K_||(n.K_=(function(t,r,i){const o=ke(t);return o.w_(),new nP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Eo:aP.bind(null,n),Ro:lP.bind(null,n),mo:uP.bind(null,n),d_:cP.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),rg(n)?ng(n):n.q_.set("Unknown")):(await n.K_.stop(),Xw(n))}))),n.K_}function $i(n){return n.U_||(n.U_=(function(t,r,i){const o=ke(t);return o.w_(),new rP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fP.bind(null,n),mo:mP.bind(null,n),f_:pP.bind(null,n),g_:gP.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await Wh(n)):(await n.U_.stop(),n.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}class ig{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new ig(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),su(n))return new me(J.UNAVAILABLE,`${e}: ${n}`);throw n}class $o{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Tl(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class H_{constructor(){this.W_=new at(ve.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class na{constructor(e,t,r,i,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new na(e,t,$o.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _P{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class vP{constructor(){this.queries=$_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=ke(t),o=i.queries;i.queries=$_(),o.forEach(((l,c)=>{for(const h of c.j_)h.onError(r)}))})(this,new me(J.ABORTED,"Firestore shutting down"))}}function $_(){return new da((n=>Tw(n)),Lh)}async function tE(n,e){const t=ke(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new _P,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await t.onListen(i,!0);break;case 1:o.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=sg(l,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&og(t)}async function nE(n,e){const t=ke(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.j_.indexOf(e);l>=0&&(o.j_.splice(l,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wP(n,e){const t=ke(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.j_)c.X_(i)&&(r=!0);l.z_=i}}r&&og(t)}function EP(n,e,t){const r=ke(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function og(n){n.Y_.forEach((e=>{e.next()}))}var vp,q_;(q_=vp||(vp={})).ea="default",q_.Cache="cache";class rE{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vp.Cache}}class iE{constructor(e){this.key=e}}class sE{constructor(e){this.key=e}}class TP{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=Iw(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new H_,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const E=i.get(m),I=Vh(this.query,v)?v:null,P=!!E&&this.mutatedKeys.has(E.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;E&&I?E.data.isEqual(I.data)?P!==C&&(r.track({type:3,doc:I}),k=!0):this.ga(E,I)||(r.track({type:2,doc:I}),k=!0,(h&&this.Aa(I,h)>0||p&&this.Aa(I,p)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),k=!0):E&&!I&&(r.track({type:1,doc:E}),k=!0,(h||p)&&(c=!0)),k&&(I?(l=l.add(I),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ra:l,fa:r,ns:c,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((m,v)=>(function(I,P){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return C(I)-C(P)})(m.type,v.type)||this.Aa(m.doc,v.doc))),this.pa(r),i=i!=null&&i;const c=t&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,p=h!==this.Ea;return this.Ea=h,l.length!==0||p?{snapshot:new na(this.query,e.Ra,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new H_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const t=[];return e.forEach((r=>{this.da.has(r)||t.push(new sE(r))})),this.da.forEach((r=>{e.has(r)||t.push(new iE(r))})),t}ba(e){this.Ta=e.Ts,this.da=Re();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SP{constructor(e){this.key=e,this.va=!1}}class xP{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new da((c=>Tw(c)),Lh),this.Ma=new Map,this.xa=new Set,this.Oa=new at(ve.comparator),this.Na=new Map,this.La=new Xp,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kP(n,e,t=!0){const r=hE(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await oE(r,e,t,!0),i}async function CP(n,e){const t=hE(n);await oE(t,e,!0,!1)}async function oE(n,e,t,r){const i=await QA(n.localStore,pr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await AP(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Qw(n.remoteStore,i),c}async function AP(n,e,t,r,i){n.Ka=(v,E,I)=>(async function(C,k,z,$){let K=k.view.ma(z);K.ns&&(K=await z_(C.localStore,k.query,!1).then((({documents:R})=>k.view.ma(R,K))));const Q=$&&$.targetChanges.get(k.targetId),G=$&&$.targetMismatches.get(k.targetId)!=null,te=k.view.applyChanges(K,C.isPrimaryClient,Q,G);return G_(C,k.targetId,te.wa),te.snapshot})(n,v,E,I);const o=await z_(n.localStore,e,!0),l=new TP(e,o.Ts),c=l.ma(o.documents),h=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);G_(n,t,p.wa);const m=new IP(e,t,l);return n.Fa.set(e,m),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),p.snapshot}async function PP(n,e,t){const r=ke(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((l=>!Lh(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _p(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&eg(r.remoteStore,i.targetId),wp(r,i.targetId)})).catch(iu)):(wp(r,i.targetId),await _p(r.localStore,i.targetId,!0))}async function bP(n,e){const t=ke(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),eg(t.remoteStore,r.targetId))}async function RP(n,e,t){const r=FP(n);try{const i=await(function(l,c){const h=ke(l),p=It.now(),m=c.reduce(((I,P)=>I.add(P.key)),Re());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=Jr(),C=Re();return h.cs.getEntries(I,m).next((k=>{P=k,P.forEach(((z,$)=>{$.isValidDocument()||(C=C.add(z))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,P))).next((k=>{v=k;const z=[];for(const $ of c){const K=ZC($,v.get($.key).overlayedDocument);K!=null&&z.push(new js($.key,K,gw(K.value.mapValue),Qr.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,z,c)})).next((k=>{E=k;const z=k.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(I,k.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:xw(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let p=l.Ba[l.currentUser.toKey()];p||(p=new at(Be)),p=p.insert(c,h),l.Ba[l.currentUser.toKey()]=p})(r,i.batchId,t),await uu(r,i.changes),await Wh(r.remoteStore)}catch(i){const o=sg(i,"Failed to persist write");t.reject(o)}}async function aE(n,e){const t=ke(n);try{const r=await qA(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Na.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Ke(l.va):i.removedDocuments.size>0&&(Ke(l.va),l.va=!1))})),await uu(t,r,e)}catch(r){await iu(r)}}function K_(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach(((o,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=ke(l);h.onlineState=c;let p=!1;h.queries.forEach(((m,v)=>{for(const E of v.j_)E.Z_(c)&&(p=!0)})),p&&og(h)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DP(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let l=new at(ve.comparator);l=l.insert(o,Kt.newNoDocument(o,xe.min()));const c=Re().add(o),h=new zh(xe.min(),new Map,new at(Be),l,c);await aE(r,h),r.Oa=r.Oa.remove(o),r.Na.delete(e),ag(r)}else await _p(r.localStore,e,!1).then((()=>wp(r,e,t))).catch(iu)}async function OP(n,e){const t=ke(n),r=e.batch.batchId;try{const i=await $A(t.localStore,e);uE(t,r,null),lE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,i)}catch(i){await iu(i)}}async function NP(n,e,t){const r=ke(n);try{const i=await(function(l,c){const h=ke(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,c).next((v=>(Ke(v!==null),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);uE(r,e,t),lE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,i)}catch(i){await iu(i)}}function lE(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function uE(n,e,t){const r=ke(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((r=>{n.La.containsKey(r)||cE(n,r)}))}function cE(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(eg(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),ag(n))}function G_(n,e,t){for(const r of t)r instanceof iE?(n.La.addReference(r.key,e),MP(n,r)):r instanceof sE?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||cE(n,r.key)):Ie()}function MP(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.xa.add(r),ag(n))}function ag(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ve(it.fromString(e)),r=n.qa.next();n.Na.set(r,new SP(t)),n.Oa=n.Oa.insert(t,r),Qw(n.remoteStore,new Oi(pr(qp(t.path)),r,"TargetPurposeLimboResolution",zp.oe))}}async function uu(n,e,t){const r=ke(n),i=[],o=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((c,h)=>{l.push(r.Ka(h,e,t).then((p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Zp.Wi(h.targetId,p);o.push(v)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(h,p){const m=ke(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Z.forEach(p,(E=>Z.forEach(E.$i,(I=>m.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>Z.forEach(E.Ui,(I=>m.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!su(v))throw v;fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=m.os.get(E),P=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(P);m.os=m.os.insert(E,C)}}})(r.localStore,o))}async function LP(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await $w(t.localStore,e);t.currentUser=e,(function(o,l){o.ka.forEach((c=>{c.forEach((h=>{h.reject(new me(J.CANCELLED,l))}))})),o.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.hs)}}function VP(n,e){const t=ke(n),r=t.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const o=t.Ma.get(e);if(!o)return i;for(const l of o){const c=t.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function hE(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DP.bind(null,e),e.Ca.d_=wP.bind(null,e.eventManager),e.Ca.$a=EP.bind(null,e.eventManager),e}function FP(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return HA(this.persistence,new jA,e.initialUser,this.serializer)}Ga(e){return new UA(Jp.Zr,this.serializer)}Wa(e){return new XA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LP.bind(null,this.syncEngine),await yP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vP})()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),r=(function(o){return new tP(o)})(e.databaseInfo);return(function(o,l,c,h){return new iP(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,l,c){return new oP(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>K_(this.syncEngine,t,0)),(function(){return j_.D()?new j_:new JA})())}createSyncEngine(e,t){return(function(i,o,l,c,h,p,m){const v=new xP(i,o,l,c,h,p);return m&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=ke(i);fe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await lu(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ep.provider={build:()=>new Ep};class dE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class UP{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{fe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jf(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $w(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Q_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zP(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>W_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>W_(e.remoteStore,i))),n._onlineComponents=e}async function zP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await jf(n,new mh)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await jf(n,new mh);return n._offlineComponents}async function fE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await Q_(n,new Ep))),n._onlineComponents}function BP(n){return fE(n).then((e=>e.syncEngine))}async function pE(n){const e=await fE(n),t=e.eventManager;return t.onListen=kP.bind(null,e.syncEngine),t.onUnlisten=PP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bP.bind(null,e.syncEngine),t}function jP(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const m=new dE({next:E=>{m.Za(),l.enqueueAndForget((()=>nE(o,v)));const I=E.docs.has(c);!I&&E.fromCache?p.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&h&&h.source==="server"?p.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new rE(qp(c.path),m,{includeMetadataChanges:!0,_a:!0});return tE(o,v)})(await pE(n),n.asyncQueue,e,t,r))),r.promise}function WP(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const m=new dE({next:E=>{m.Za(),l.enqueueAndForget((()=>nE(o,v))),E.fromCache&&h.source==="server"?p.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new rE(c,m,{includeMetadataChanges:!0,_a:!0});return tE(o,v)})(await pE(n),n.asyncQueue,e,t,r))),r.promise}function gE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Y_=new Map;function mE(n,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HP(n,e,t,r){if(e===!0&&r===!0)throw new me(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X_(n){if(!ve.isDocumentKey(n))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J_(n){if(ve.isDocumentKey(n))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function Fs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lg(n);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Z_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aC;switch(r.type){case"firstParty":return new hC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Y_.get(t);r&&(fe("ComponentProvider","Removing Datastore"),Y_.delete(t),r.terminate())})(this),Promise.resolve()}}function $P(n,e,t,r={}){var i;const o=(n=Fs(n,Hh))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=qt.MOCK_USER;else{c=Mx(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qt(p)}n._authCredentials=new lC(new hw(c,h))}}class $h{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $h(this.firestore,e,this._query)}}class _n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Ui extends $h{constructor(e,t,r){super(e,t,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ve(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function yE(n,e,...t){if(n=On(n),mE("collection","path",e),n instanceof Hh){const r=it.fromString(e,...t);return J_(r),new Ui(n,null,r)}{if(!(n instanceof _n||n instanceof Ui))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return J_(r),new Ui(n.firestore,null,r)}}function _E(n,e,...t){if(n=On(n),arguments.length===1&&(e=dw.newId()),mE("doc","path",e),n instanceof Hh){const r=it.fromString(e,...t);return X_(r),new _n(n,null,new ve(r))}{if(!(n instanceof _n||n instanceof Ui))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return X_(r),new _n(n.firestore,n instanceof Ui?n.converter:null,new ve(r))}}class ev{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kw(this,"async_queue_retry"),this.Vu=()=>{const r=Bf();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Gr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!su(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c})(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=ig.createAndSchedule(this,e,t,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class qh extends Hh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ev,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function qP(n,e){const t=typeof n=="object"?n:nw(),r=typeof n=="string"?n:"(default)",i=Fp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Ox("firestore");o&&$P(i,...o)}return i}function ug(n){if(n._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KP(n),n._firestoreClient}function KP(n){var e,t,r;const i=n._freezeSettings(),o=(function(c,h,p,m){return new SC(c,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gE(m.experimentalLongPollingOptions),m.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new UP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}})(n._componentsProvider))}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Ut.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ra(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vE{constructor(e){this._methodName=e}}class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}class dg{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}const GP=/^__.*__$/;class QP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function wE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class fg{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wE(this.Cu)&&GP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bh(e)}Qu(e,t,r,i=!1){return new fg({Cu:e,methodName:t,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XP(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new YP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JP(n,e,t,r,i,o={}){const l=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);SE("Data must be an object, but it was:",l,r);const c=TE(r,l);let h,p;if(o.merge)h=new Xn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const E=ZP(e,v,t);if(!l.contains(E))throw new me(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);tb(m,E)||m.push(E)}h=new Xn(m),p=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=l.fieldTransforms;return new QP(new bn(c),h,p)}function EE(n,e){if(IE(n=On(n)))return SE("Unsupported field value:",e,n),TE(n,e);if(n instanceof vE)return(function(r,i){if(!wE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=EE(c,i.Lu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:ph(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(i.serializer,o)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:Fw(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dg)return(function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Bu("VectorValues must only contain numeric values.");return Kp(c.serializer,h)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${lg(r)}`)})(n,e)}function TE(n,e){const t={};return fw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,((r,i)=>{const o=EE(i,e.Mu(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function IE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof hg||n instanceof ra||n instanceof _n||n instanceof vE||n instanceof dg)}function SE(n,e,t){if(!IE(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const r=lg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function ZP(n,e,t){if((e=On(e))instanceof cg)return e._internalPath;if(typeof e=="string")return xE(n,e);throw yh("Field path arguments must be of type string or ",n,!1,void 0,t)}const eb=new RegExp("[~\\*/\\[\\]]");function xE(n,e,t){if(e.search(eb)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cg(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new me(J.INVALID_ARGUMENT,c+n+h)}function tb(n,e){return n.some((t=>t.isEqual(e)))}class kE{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nb extends kE{data(){return super.data()}}function CE(n,e){return typeof e=="string"?xE(n,e):e instanceof cg?e._internalPath:e._delegate._internalPath}function rb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ib{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ha(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>ht(l.doubleValue)));return new dg(o)}convertGeoPoint(e){return new hg(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);Ke(Hw(r));const i=new Hl(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function sb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AE extends kE{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Zc extends AE{data(e={}){return super.data(e)}}class ob{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Zc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Zc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Zc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:ab(c.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ab(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function lb(n){n=Fs(n,_n);const e=Fs(n.firestore,qh);return jP(ug(e),n._key).then((t=>hb(e,n,t)))}class PE extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function bE(n){n=Fs(n,$h);const e=Fs(n.firestore,qh),t=ug(e),r=new PE(e);return rb(n._query),WP(t,n._query).then((i=>new ob(e,r,n,i)))}function ub(n,e,t){n=Fs(n,_n);const r=Fs(n.firestore,qh),i=sb(n.converter,e,t);return cb(r,[JP(XP(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qr.none())])}function cb(n,e){return(function(r,i){const o=new Gr;return r.asyncQueue.enqueueAndForget((async()=>RP(await BP(r),i,o))),o.promise})(ug(n),e)}function hb(n,e,t){const r=t.docs.get(e._key),i=new PE(n);return new AE(n,i,e._key,r,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ca=i})(ua),Yo(new Ns("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new qh(new uC(r.getProvider("auth-internal")),new fC(r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(p.options.projectId,m)})(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Fi(v_,"4.7.3",e),Fi(v_,"4.7.3","esm2017")})();function pg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=RE,DE=new nu("auth","Firebase",RE());const _h=new Lp("@firebase/auth");function fb(n,...e){_h.logLevel<=Oe.WARN&&_h.warn(`Auth (${ua}): ${n}`,...e)}function eh(n,...e){_h.logLevel<=Oe.ERROR&&_h.error(`Auth (${ua}): ${n}`,...e)}function Zn(n,...e){throw gg(n,...e)}function mr(n,...e){return gg(n,...e)}function OE(n,e,t){const r=Object.assign(Object.assign({},db()),{[e]:t});return new nu("auth","Firebase",r).create(e,{appName:n.name})}function zi(n){return OE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DE.create(n,...e)}function we(n,e,...t){if(!n)throw gg(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eh(e),new Error(e)}function Zr(n,e){n||Hr(e)}function Tp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pb(){return tv()==="http:"||tv()==="https:"}function tv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pb()||Ux()||"connection"in navigator)?navigator.onLine:!0}function mb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=Lx()||zx()}get(){return gb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class NE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _b=new cu(3e4,6e4);function Hs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ki(n,e,t,r,i={}){return ME(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=ru(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return Fx()||(p.referrerPolicy="no-referrer"),NE.fetch()(LE(n,n.config.apiHost,t,c),p)})}async function ME(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yb),e);try{const i=new wb(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Mc(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Mc(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Mc(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw OE(n,m,p);Zn(n,m)}}catch(i){if(i instanceof ei)throw i;Zn(n,"network-request-failed",{message:String(i)})}}async function Kh(n,e,t,r,i={}){const o=await Ki(n,e,t,r,i);return"mfaPendingCredential"in o&&Zn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function LE(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?mg(n.config,i):`${n.config.apiScheme}://${i}`}function vb(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),_b.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mr(n,e,r);return i.customData._tokenResponse=t,i}function nv(n){return n!==void 0&&n.enterprise!==void 0}class Eb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vb(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Tb(n,e){return Ki(n,"GET","/v2/recaptchaConfig",Hs(n,e))}async function Ib(n,e){return Ki(n,"POST","/v1/accounts:delete",e)}async function VE(n,e){return Ki(n,"POST","/v1/accounts:lookup",e)}function Ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sb(n,e=!1){const t=On(n),r=await t.getIdToken(e),i=yg(r);we(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Ol(Wf(i.auth_time)),issuedAtTime:Ol(Wf(i.iat)),expirationTime:Ol(Wf(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Wf(n){return Number(n)*1e3}function yg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q0(t);return i?JSON.parse(i):(eh("Failed to decode base64 JWT payload"),null)}catch(i){return eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rv(n){const e=yg(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ei&&xb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Gl(n,VE(t,{idToken:r}));we(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FE(o.providerUserInfo):[],c=Ab(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,m=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function Cb(n){const e=On(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ab(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FE(n){return n.map(e=>{var{providerId:t}=e,r=pg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Pb(n,e){const t=await ME(n,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=LE(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",NE.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bb(n,e){return Ki(n,"POST","/v2/accounts:revokeToken",Hs(n,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=rv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await Pb(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new qo;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Hr("not implemented")}}function ki(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Sb(this,e)}reload(){return Cb(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Gl(this,Ib(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,h,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,z=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:K,emailVerified:Q,isAnonymous:G,providerData:te,stsTokenManager:R}=t;we(K&&R,e,"internal-error");const x=qo.fromJSON(this.name,R);we(typeof K=="string",e,"internal-error"),ki(v,e.name),ki(E,e.name),we(typeof Q=="boolean",e,"internal-error"),we(typeof G=="boolean",e,"internal-error"),ki(I,e.name),ki(P,e.name),ki(C,e.name),ki(k,e.name),ki(z,e.name),ki($,e.name);const A=new $r({uid:K,auth:e,email:E,emailVerified:Q,displayName:v,isAnonymous:G,photoURL:P,phoneNumber:I,tenantId:C,stsTokenManager:x,createdAt:z,lastLoginAt:$});return te&&Array.isArray(te)&&(A.providerData=te.map(O=>Object.assign({},O))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,r=!1){const i=new qo;i.updateFromServerResponse(t);const o=new $r({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];we(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?FE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new qo;c.updateFromIdToken(r);const h=new $r({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,p),h}}const iv=new Map;function qr(n){Zr(n instanceof Function,"Expected a class definition");let e=iv.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,iv.set(n,e),e)}class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UE.type="NONE";const sv=UE;function th(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=th(this.userKey,i.apiKey,o),this.fullPersistenceKey=th("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ko(qr(sv),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||qr(sv);const l=th(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const v=$r._fromJSON(e,m);p!==o&&(c=v),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ko(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ko(o,e,r))}}function ov(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(qE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zE(n=Qt()){return/firefox\//i.test(n)}function BE(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(n=Qt()){return/crios\//i.test(n)}function WE(n=Qt()){return/iemobile/i.test(n)}function HE(n=Qt()){return/android/i.test(n)}function $E(n=Qt()){return/blackberry/i.test(n)}function qE(n=Qt()){return/webos/i.test(n)}function _g(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rb(n=Qt()){var e;return _g(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Db(){return Bx()&&document.documentMode===10}function KE(n=Qt()){return _g(n)||HE(n)||qE(n)||$E(n)||/windows phone/i.test(n)||WE(n)}function GE(n,e=[]){let t;switch(n){case"Browser":t=ov(Qt());break;case"Worker":t=`${ov(Qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ua}/${r}`}class Ob{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Nb(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",Hs(n,e))}const Mb=6;class Lb{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Mb,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Vb{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new Ob(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await VE(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(zi(this));const t=e?On(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nb(this),t=new Lb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pa(n){return On(n)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qx(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fb(n){Gh=n}function QE(n){return Gh.loadJS(n)}function Ub(){return Gh.recaptchaEnterpriseScript}function zb(){return Gh.gapiScript}function Bb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const jb="recaptcha-enterprise",Wb="NO_RECAPTCHA";class Hb{constructor(e){this.type=jb,this.auth=pa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{Tb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new Eb(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;nv(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Wb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&nv(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Ub();h.length!==0&&(h+=c),QE(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function lv(n,e,t,r=!1){const i=new Hb(n);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function uv(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lv(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await lv(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(o)})}function $b(n,e){const t=Fp(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ah(o,e??{}))return i;Zn(i,"already-initialized")}return t.initialize({options:e})}function qb(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kb(n,e,t){const r=pa(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=YE(e),{host:l,port:c}=Gb(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Qb()}function YE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Gb(n){const e=YE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cv(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:cv(l)}}}function cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function Yb(n,e){return Ki(n,"POST","/v1/accounts:signUp",e)}async function Xb(n,e){return Kh(n,"POST","/v1/accounts:signInWithPassword",Hs(n,e))}async function Jb(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}async function Zb(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}class Ql extends vg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ql(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ql(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uv(e,t,"signInWithPassword",Xb);case"emailLink":return Jb(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uv(e,r,"signUpPassword",Yb);case"emailLink":return Zb(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(n,e){return Kh(n,"POST","/v1/accounts:signInWithIdp",Hs(n,e))}const e1="http://localhost";class Us extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=pg(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Us(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Go(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:e1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ru(t)}return e}}function t1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n1(n){const e=vl(wl(n)).link,t=e?vl(wl(e)).deep_link_id:null,r=vl(wl(n)).deep_link_id;return(r?vl(wl(r)).link:null)||r||t||e||n}class wg{constructor(e){var t,r,i,o,l,c;const h=vl(wl(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,v=t1((i=h.mode)!==null&&i!==void 0?i:null);we(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=n1(e);try{return new wg(t)}catch{return null}}}class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,t){return Ql._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wg.parseLink(t);return we(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ai extends hu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";class Pi extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";class bi extends hu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";class Ri extends hu{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ri.credential(t,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await $r._fromIdTokenResponse(e,r,i),l=hv(r);return new ia({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=hv(r);return new ia({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wh extends ei{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new wh(e,t,r,i)}}function JE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(n,o,e,r):o})}async function r1(n,e,t=!1){const r=await Gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ia._forOperation(n,"link",r)}async function i1(n,e,t=!1){const{auth:r}=n;if(Wr(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const o=await Gl(n,JE(r,i,e,n),t);we(o.idToken,r,"internal-error");const l=yg(o.idToken);we(l,r,"internal-error");const{sub:c}=l;return we(n.uid===c,r,"user-mismatch"),ia._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),o}}async function ZE(n,e,t=!1){if(Wr(n.app))return Promise.reject(zi(n));const r="signIn",i=await JE(n,r,e),o=await ia._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function s1(n,e){return ZE(pa(n),e)}async function o1(n){const e=pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function a1(n,e,t){return Wr(n.app)?Promise.reject(zi(n)):s1(On(n),ga.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&o1(n),r})}function l1(n,e,t,r){return On(n).onIdTokenChanged(e,t,r)}function u1(n,e,t){return On(n).beforeAuthStateChanged(e,t)}const Eh="__sak";class eT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const c1=1e3,h1=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Db()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,h1):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},c1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const d1=tT;class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nT.type="SESSION";const rT=nT;function f1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await f1(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Eg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class p1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=Eg("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function yr(){return window}function g1(n){yr().location.href=n}function iT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function m1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y1(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _1(){return iT()?self:null}const sT="firebaseLocalStorageDb",v1=1,Th="firebaseLocalStorage",oT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function w1(){const n=indexedDB.deleteDatabase(sT);return new du(n).toPromise()}function Sp(){const n=indexedDB.open(sT,v1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Th,{keyPath:oT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await w1(),e(await Sp()))})})}async function dv(n,e,t){const r=Yh(n,!0).put({[oT]:e,value:t});return new du(r).toPromise()}async function E1(n,e){const t=Yh(n,!1).get(e),r=await new du(t).toPromise();return r===void 0?null:r.value}function fv(n,e){const t=Yh(n,!0).delete(e);return new du(t).toPromise()}const T1=800,I1=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>I1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(_1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await m1(),!this.activeServiceWorker)return;this.sender=new p1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await dv(e,Eh,"1"),await fv(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>dv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>E1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Yh(i,!1).getAll();return new du(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const S1=aT;new cu(3e4,6e4);function x1(n,e){return e?qr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Tg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function k1(n){return ZE(n.auth,new Tg(n),n.bypassAuthState)}function C1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),i1(t,new Tg(n),n.bypassAuthState)}async function A1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),r1(t,new Tg(n),n.bypassAuthState)}class lT{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k1;case"linkViaPopup":case"linkViaRedirect":return A1;case"reauthViaPopup":case"reauthViaRedirect":return C1;default:Zn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P1=new cu(2e3,1e4);class Ho extends lT{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P1.get())};e()}}Ho.currentPopupAction=null;const b1="pendingRedirect",nh=new Map;class R1 extends lT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await D1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D1(n,e){const t=M1(e),r=N1(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function O1(n,e){nh.set(n._key(),e)}function N1(n){return qr(n._redirectPersistence)}function M1(n){return th(b1,n.config.apiKey,n.name)}async function L1(n,e,t=!1){if(Wr(n.app))return Promise.reject(zi(n));const r=pa(n),i=x1(r,e),l=await new R1(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const V1=600*1e3;class F1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V1&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function U1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(n);default:return!1}}async function z1(n,e={}){return Ki(n,"GET","/v1/projects",e)}const B1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j1=/^https?/;async function W1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await z1(n);for(const t of e)try{if(H1(t))return}catch{}Zn(n,"unauthorized-domain")}function H1(n){const e=Tp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!j1.test(t))return!1;if(B1.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $1=new cu(3e4,6e4);function gv(){const n=yr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function q1(n){return new Promise((e,t)=>{var r,i,o;function l(){gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gv(),t(mr(n,"network-request-failed"))},timeout:$1.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=yr().gapi)===null||o===void 0)&&o.load)l();else{const c=Bb("iframefcb");return yr()[c]=()=>{gapi.load?l():t(mr(n,"network-request-failed"))},QE(`${zb()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw rh=null,e})}let rh=null;function K1(n){return rh=rh||q1(n),rh}const G1=new cu(5e3,15e3),Q1="__/auth/iframe",Y1="emulator/auth/iframe",X1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z1(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mg(e,Y1):`https://${n.config.authDomain}/${Q1}`,r={apiKey:e.apiKey,appName:n.name,v:ua},i=J1.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ru(r).slice(1)}`}async function eR(n){const e=await K1(n),t=yr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:Z1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X1,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=mr(n,"network-request-failed"),c=yr().setTimeout(()=>{o(l)},G1.get());function h(){yr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const tR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nR=500,rR=600,iR="_blank",sR="http://localhost";class mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oR(n,e,t,r=nR,i=rR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},tR),{width:r.toString(),height:i.toString(),top:o,left:l}),p=Qt().toLowerCase();t&&(c=jE(p)?iR:t),zE(p)&&(e=e||sR,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[I,P])=>`${E}${I}=${P},`,"");if(Rb(p)&&c!=="_self")return aR(e||"",c),new mv(null);const v=window.open(e||"",c,m);we(v,n,"popup-blocked");try{v.focus()}catch{}return new mv(v)}function aR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const lR="__/auth/handler",uR="emulator/auth/handler",cR=encodeURIComponent("fac");async function yv(n,e,t,r,i,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ua,eventId:i};if(e instanceof XE){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof hu){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await n._getAppCheckToken(),p=h?`#${cR}=${encodeURIComponent(h)}`:"";return`${hR(n)}?${ru(c).slice(1)}${p}`}function hR({config:n}){return n.emulator?mg(n,uR):`https://${n.authDomain}/${lR}`}const Hf="webStorageSupport";class dR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rT,this._completeRedirectFn=L1,this._overrideRedirectResult=O1}async _openPopup(e,t,r,i){var o;Zr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await yv(e,t,r,Tp(),i);return oR(e,l,Eg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await yv(e,t,r,Tp(),i);return g1(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Zr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await eR(e),r=new F1(e);return t.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hf,{type:Hf},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[Hf];l!==void 0&&t(!!l),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KE()||BE()||_g()}}const fR=dR;var _v="@firebase/auth",vv="1.7.9";class pR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mR(n){Yo(new Ns("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(n)},p=new Vb(r,i,o,h);return qb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ns("auth-internal",e=>{const t=pa(e.getProvider("auth").getImmediate());return(r=>new pR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(_v,vv,gR(n)),Fi(_v,vv,"esm2017")}const yR=300,_R=J0("authIdTokenMaxAge")||yR;let wv=null;const vR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_R)return;const i=t?.token;wv!==i&&(wv=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wR(n=nw()){const e=Fp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$b(n,{popupRedirectResolver:fR,persistence:[S1,d1,rT]}),r=J0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=vR(o.toString());u1(t,l,()=>l(t.currentUser)),l1(t,c=>l(c))}}const i=Y0("auth");return i&&Kb(t,`http://${i}`),t}function ER(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Fb({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=mr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",ER().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mR("Browser");const TR={apiKey:"AIzaSyATqaMK4ZBCd-C4EdfGcMQNAqJXR-8Qfrc",authDomain:"beirutbots.firebaseapp.com",databaseURL:"https://beirutbots-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beirutbots",storageBucket:"beirutbots.firebasestorage.app",messagingSenderId:"344670989751",appId:"1:344670989751:web:5b136557d1a4ca09c1cc32",measurementId:"G-F51NB14L9G"},cT=tw(TR),IR=wR(cT),Xh=qP(cT),SR=async(n,e)=>{try{return(await a1(IR,n,e)).user}catch(t){throw new Error(t.message)}},xR=()=>{const n=ix(),[e,t]=re.useState(""),[r,i]=re.useState(""),[o,l]=re.useState(!1),[c,h]=re.useState(""),p=async m=>{m.preventDefault(),l(!0),h("");try{const v=await SR({email:e,password:r});localStorage.setItem("token",v.token),n("/dashboard")}catch(v){h(v.message||"Login failed")}l(!1)};return ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:ae.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[ae.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-white text-center",children:"Login"}),ae.jsxs("form",{onSubmit:p,className:"space-y-4",children:[ae.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:m=>t(m.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",required:!0}),ae.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:m=>i(m.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",required:!0}),ae.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 rounded-lg bg-indigo-500 hover:bg-indigo-600 text-white font-bold",children:o?"Logging in...":"Login"}),c&&ae.jsx("p",{className:"text-red-500 text-center mt-2",children:c})]})]})})},$f=({title:n,value:e,icon:t,color:r,progress:i})=>ae.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-6 w-full sm:w-60 m-3",children:[ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{className:"flex flex-col",children:[ae.jsx("span",{className:"text-gray-400 dark:text-gray-300 text-sm",children:n}),ae.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e})]}),ae.jsx("div",{className:`p-3 rounded-full ${r} text-white`,children:t})]}),i!==void 0&&ae.jsx("div",{className:"mt-4 h-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full",children:ae.jsx("div",{className:`h-2 rounded-full ${r}`,style:{width:`${i}%`}})})]});var hT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ev=Kr.createContext&&Kr.createContext(hT),Bi=function(){return Bi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bi.apply(this,arguments)},kR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function dT(n){return n&&n.map(function(e,t){return Kr.createElement(e.tag,Bi({key:t},e.attr),dT(e.child))})}function fT(n){return function(e){return Kr.createElement(CR,Bi({attr:Bi({},n.attr)},e),dT(n.child))}}function CR(n){var e=function(t){var r=n.attr,i=n.size,o=n.title,l=kR(n,["attr","size","title"]),c=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Kr.createElement("svg",Bi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Bi(Bi({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Kr.createElement("title",null,o),n.children)};return Ev!==void 0?Kr.createElement(Ev.Consumer,null,function(t){return e(t)}):e(hT)}function pT(n){return fT({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"}}]})(n)}function gT(n){return fT({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"}}]})(n)}const AR=yE(Xh,"bots"),mT=async()=>(await bE(AR)).docs.map(e=>({id:e.id,...e.data()})),PR=async n=>{const e=_E(Xh,"bots",n),t=await lb(e);return t.exists()?{id:t.id,...t.data()}:null},yT=async(n,e)=>{const t=_E(Xh,"bots",n);await ub(t,e,{merge:!0})},bR=()=>{const[n,e]=re.useState([]),[t,r]=re.useState(!0);re.useEffect(()=>{i()},[]);const i=async()=>{r(!0);const l=await mT();e(l||[]),r(!1)},o=async(l,c)=>{const h=n.find(v=>v.id===l),p={...h.features,[c]:!h.features[c]},m=await yT(l,p);e(v=>v.map(E=>E.id===l?{...E,features:m.features}:E))};return t?ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):ae.jsx("div",{className:"overflow-x-auto mt-6",children:ae.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[ae.jsx("thead",{children:ae.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[ae.jsx("th",{className:"px-6 py-3",children:"Bot Name"}),ae.jsx("th",{className:"px-6 py-3",children:"Server Count"}),ae.jsx("th",{className:"px-6 py-3",children:"Users"}),ae.jsx("th",{className:"px-6 py-3",children:"Features"})]})}),ae.jsx("tbody",{children:n.map(l=>ae.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[ae.jsx("td",{className:"px-6 py-4 text-gray-800 dark:text-gray-200",children:l.name}),ae.jsx("td",{className:"px-6 py-4 text-gray-800 dark:text-gray-200",children:l.serversCount||0}),ae.jsx("td",{className:"px-6 py-4 text-gray-800 dark:text-gray-200",children:l.usersCount||0}),ae.jsx("td",{className:"px-6 py-4 flex space-x-3",children:Object.keys(l.features||{}).map(c=>ae.jsxs("button",{onClick:()=>o(l.id,c),className:`flex items-center px-3 py-1 rounded-full text-white ${l.features[c]?"bg-green-500":"bg-red-500"}`,children:[l.features[c]?ae.jsx(gT,{className:"mr-1"}):ae.jsx(pT,{className:"mr-1"}),c]},c))})]},l.id))})]})})};function fu(n){return n+.5|0}const Ni=(n,e,t)=>Math.max(Math.min(n,t),e);function xl(n){return Ni(fu(n*2.55),0,255)}function ji(n){return Ni(fu(n*255),0,255)}function jr(n){return Ni(fu(n/2.55)/100,0,1)}function Tv(n){return Ni(fu(n*100),0,100)}const Pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xp=[..."0123456789ABCDEF"],RR=n=>xp[n&15],DR=n=>xp[(n&240)>>4]+xp[n&15],Lc=n=>(n&240)>>4===(n&15),OR=n=>Lc(n.r)&&Lc(n.g)&&Lc(n.b)&&Lc(n.a);function NR(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Pn[n[1]]*17,g:255&Pn[n[2]]*17,b:255&Pn[n[3]]*17,a:e===5?Pn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Pn[n[1]]<<4|Pn[n[2]],g:Pn[n[3]]<<4|Pn[n[4]],b:Pn[n[5]]<<4|Pn[n[6]],a:e===9?Pn[n[7]]<<4|Pn[n[8]]:255})),t}const MR=(n,e)=>n<255?e(n):"";function LR(n){var e=OR(n)?RR:DR;return n?"#"+e(n.r)+e(n.g)+e(n.b)+MR(n.a,e):void 0}const VR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _T(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function FR(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function UR(n,e,t){const r=_T(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function zR(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Ig(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),c=(o+l)/2;let h,p,m;return o!==l&&(m=o-l,p=c>.5?m/(2-o-l):m/(o+l),h=zR(t,r,i,m,o),h=h*60+.5),[h|0,p||0,c]}function Sg(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(ji)}function xg(n,e,t){return Sg(_T,n,e,t)}function BR(n,e,t){return Sg(UR,n,e,t)}function jR(n,e,t){return Sg(FR,n,e,t)}function vT(n){return(n%360+360)%360}function WR(n){const e=VR.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?xl(+e[5]):ji(+e[5]));const i=vT(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=BR(i,o,l):e[1]==="hsv"?r=jR(i,o,l):r=xg(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function HR(n,e){var t=Ig(n);t[0]=vT(t[0]+e),t=xg(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $R(n){if(!n)return;const e=Ig(n),t=e[0],r=Tv(e[1]),i=Tv(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${jr(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Iv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qR(){const n={},e=Object.keys(Sv),t=Object.keys(Iv);let r,i,o,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],i=0;i<t.length;i++)o=t[i],c=c.replace(o,Iv[o]);o=parseInt(Sv[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let Vc;function KR(n){Vc||(Vc=qR(),Vc.transparent=[0,0,0,0]);const e=Vc[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const GR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QR(n){const e=GR.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?xl(l):Ni(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?xl(r):Ni(r,0,255)),i=255&(e[4]?xl(i):Ni(i,0,255)),o=255&(e[6]?xl(o):Ni(o,0,255)),{r,g:i,b:o,a:t}}}function YR(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${jr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,zo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function XR(n,e,t){const r=zo(jr(n.r)),i=zo(jr(n.g)),o=zo(jr(n.b));return{r:ji(qf(r+t*(zo(jr(e.r))-r))),g:ji(qf(i+t*(zo(jr(e.g))-i))),b:ji(qf(o+t*(zo(jr(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Fc(n,e,t){if(n){let r=Ig(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=xg(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function wT(n,e){return n&&Object.assign(e||{},n)}function xv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ji(n[3]))):(e=wT(n,{r:0,g:0,b:0,a:1}),e.a=ji(e.a)),e}function JR(n){return n.charAt(0)==="r"?QR(n):WR(n)}class Yl{constructor(e){if(e instanceof Yl)return e;const t=typeof e;let r;t==="object"?r=xv(e):t==="string"&&(r=NR(e)||KR(e)||JR(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=wT(this._rgb);return e&&(e.a=jr(e.a)),e}set rgb(e){this._rgb=xv(e)}rgbString(){return this._valid?YR(this._rgb):void 0}hexString(){return this._valid?LR(this._rgb):void 0}hslString(){return this._valid?$R(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,c=2*l-1,h=r.a-i.a,p=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;o=1-p,r.r=255&p*r.r+o*i.r+.5,r.g=255&p*r.g+o*i.g+.5,r.b=255&p*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=XR(this._rgb,e._rgb,t)),this}clone(){return new Yl(this.rgb)}alpha(e){return this._rgb.a=ji(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=fu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fc(this._rgb,2,e),this}darken(e){return Fc(this._rgb,2,-e),this}saturate(e){return Fc(this._rgb,1,e),this}desaturate(e){return Fc(this._rgb,1,-e),this}rotate(e){return HR(this._rgb,e),this}}function Ur(){}const ZR=(()=>{let n=0;return()=>n++})();function Je(n){return n==null}function bt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function hr(n,e){return Nn(n)?n:e}function Ve(n,e){return typeof n>"u"?e:n}const eD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qe(n,e,t,r){let i,o,l;if(bt(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(He(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function Ih(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Sh(n){if(bt(n))return n.map(Sh);if(He(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Sh(n[t[i]]);return e}return n}function ET(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function tD(n,e,t,r){if(!ET(n))return;const i=e[n],o=t[n];He(i)&&He(o)?Xl(i,o,r):e[n]=Sh(o)}function Xl(n,e,t){const r=bt(e)?e:[e],i=r.length;if(!He(n))return n;t=t||{};const o=t.merger||tD;let l;for(let c=0;c<i;++c){if(l=r[c],!He(l))continue;const h=Object.keys(l);for(let p=0,m=h.length;p<m;++p)o(h[p],n,l,t)}return n}function Nl(n,e){return Xl(n,e,{merger:nD})}function nD(n,e,t){if(!ET(n))return;const r=e[n],i=t[n];He(r)&&He(i)?Nl(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Sh(i))}const kv={"":n=>n,x:n=>n.x,y:n=>n.y};function rD(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function iD(n){const e=rD(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function xh(n,e){return(kv[e]||(kv[e]=iD(e)))(n)}function kg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kh=n=>typeof n<"u",qi=n=>typeof n=="function",Cv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function sD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Rt=Math.PI,_r=2*Rt,oD=_r+Rt,Ch=Number.POSITIVE_INFINITY,aD=Rt/180,Jn=Rt/2,Ts=Rt/4,Av=Rt*2/3,TT=Math.log10,sa=Math.sign;function Ml(n,e,t){return Math.abs(n-e)<t}function Pv(n){const e=Math.round(n);n=Ml(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(TT(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function lD(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function uD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Jl(n){return!uD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function cD(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function hD(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ps(n){return n*(Rt/180)}function dD(n){return n*(180/Rt)}function bv(n){if(!Nn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function fD(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*Rt&&(o+=_r),{angle:o,distance:i}}function kp(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function pD(n,e){return(n-e+oD)%_r-Rt}function Ci(n){return(n%_r+_r)%_r}function IT(n,e,t,r){const i=Ci(n),o=Ci(e),l=Ci(t),c=Ci(o-i),h=Ci(l-i),p=Ci(i-o),m=Ci(i-l);return i===o||i===l||r&&o===l||c>h&&p<m}function Rn(n,e,t){return Math.max(e,Math.min(t,n))}function gD(n){return Rn(n,-32768,32767)}function kl(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Cg(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const bs=(n,e,t,r)=>Cg(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),mD=(n,e,t)=>Cg(n,t,r=>n[r][e]>=t);function yD(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const ST=["push","pop","shift","splice","unshift"];function _D(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ST.forEach(t=>{const r="_onData"+kg(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...o)}),l}})})}function Rv(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ST.forEach(o=>{delete n[o]}),delete n._chartjs)}function vD(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const xT=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function kT(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,xT.call(window,()=>{r=!1,n.apply(e,t)}))}}function wD(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Ag=n=>n==="start"?"left":n==="end"?"right":"center",$t=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,ED=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function TD(n,e,t){const r=e.length;let i=0,o=r;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=l.axis,{min:v,max:E,minDefined:I,maxDefined:P}=l.getUserBounds();if(I){if(i=Math.min(bs(h,m,v).lo,t?r:bs(e,m,l.getPixelForValue(v)).lo),p){const C=h.slice(0,i+1).reverse().findIndex(k=>!Je(k[c.axis]));i-=Math.max(0,C)}i=Rn(i,0,r-1)}if(P){let C=Math.max(bs(h,l.axis,E,!0).hi+1,t?0:bs(e,m,l.getPixelForValue(E),!0).hi+1);if(p){const k=h.slice(C-1).findIndex(z=>!Je(z[c.axis]));C+=Math.max(0,k)}o=Rn(C,i,r)-i}else o=r-i}return{start:i,count:o}}function ID(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}const Uc=n=>n===0||n===1,Dv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*_r/t)),Ov=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*_r/t)+1,Ll={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jn)+1,easeOutSine:n=>Math.sin(n*Jn),easeInOutSine:n=>-.5*(Math.cos(Rt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Uc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Uc(n)?n:Dv(n,.075,.3),easeOutElastic:n=>Uc(n)?n:Ov(n,.075,.3),easeInOutElastic(n){return Uc(n)?n:n<.5?.5*Dv(n*2,.1125,.45):.5+.5*Ov(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ll.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ll.easeInBounce(n*2)*.5:Ll.easeOutBounce(n*2-1)*.5+.5};function Pg(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Nv(n){return Pg(n)?n:new Yl(n)}function Kf(n){return Pg(n)?n:new Yl(n).saturate(.5).darken(.1).hexString()}const SD=["x","y","borderWidth","radius","tension"],xD=["color","borderColor","backgroundColor"];function kD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:xD},numbers:{type:"number",properties:SD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mv=new Map;function AD(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Mv.get(t);return r||(r=new Intl.NumberFormat(n,e),Mv.set(t,r)),r}function CT(n,e,t){return AD(e,t).format(n)}const PD={values(n){return bt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,o=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),o=bD(n,t)}const l=TT(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),CT(n,r,h)}};function bD(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var AT={formatters:PD};function RD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:AT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zs=Object.create(null),Cp=Object.create(null);function Vl(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function Gf(n,e,t){return typeof e=="string"?Xl(Vl(n,e),t):Xl(Vl(n,""),e)}class DD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Kf(i.backgroundColor),this.hoverBorderColor=(r,i)=>Kf(i.borderColor),this.hoverColor=(r,i)=>Kf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gf(this,e,t)}get(e){return Vl(this,e)}describe(e,t){return Gf(Cp,e,t)}override(e,t){return Gf(zs,e,t)}route(e,t,r,i){const o=Vl(this,e),l=Vl(this,r),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],p=l[i];return He(h)?Object.assign({},p,h):Ve(h,p)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var dt=new DD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kD,CD,RD]);function OD(n){return!n||Je(n.size)||Je(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Lv(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function Is(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Vv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ap(n,e,t,r){PT(n,e,t,r,null)}function PT(n,e,t,r,i){let o,l,c,h,p,m,v,E;const I=e.pointStyle,P=e.rotation,C=e.radius;let k=(P||0)*aD;if(I&&typeof I=="object"&&(o=I.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(k),n.drawImage(I,-I.width/2,-I.height/2,I.width,I.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),I){default:i?n.ellipse(t,r,i/2,C,0,0,_r):n.arc(t,r,C,0,_r),n.closePath();break;case"triangle":m=i?i/2:C,n.moveTo(t+Math.sin(k)*m,r-Math.cos(k)*C),k+=Av,n.lineTo(t+Math.sin(k)*m,r-Math.cos(k)*C),k+=Av,n.lineTo(t+Math.sin(k)*m,r-Math.cos(k)*C),n.closePath();break;case"rectRounded":p=C*.516,h=C-p,l=Math.cos(k+Ts)*h,v=Math.cos(k+Ts)*(i?i/2-p:h),c=Math.sin(k+Ts)*h,E=Math.sin(k+Ts)*(i?i/2-p:h),n.arc(t-v,r-c,p,k-Rt,k-Jn),n.arc(t+E,r-l,p,k-Jn,k),n.arc(t+v,r+c,p,k,k+Jn),n.arc(t-E,r+l,p,k+Jn,k+Rt),n.closePath();break;case"rect":if(!P){h=Math.SQRT1_2*C,m=i?i/2:h,n.rect(t-m,r-h,2*m,2*h);break}k+=Ts;case"rectRot":v=Math.cos(k)*(i?i/2:C),l=Math.cos(k)*C,c=Math.sin(k)*C,E=Math.sin(k)*(i?i/2:C),n.moveTo(t-v,r-c),n.lineTo(t+E,r-l),n.lineTo(t+v,r+c),n.lineTo(t-E,r+l),n.closePath();break;case"crossRot":k+=Ts;case"cross":v=Math.cos(k)*(i?i/2:C),l=Math.cos(k)*C,c=Math.sin(k)*C,E=Math.sin(k)*(i?i/2:C),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"star":v=Math.cos(k)*(i?i/2:C),l=Math.cos(k)*C,c=Math.sin(k)*C,E=Math.sin(k)*(i?i/2:C),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l),k+=Ts,v=Math.cos(k)*(i?i/2:C),l=Math.cos(k)*C,c=Math.sin(k)*C,E=Math.sin(k)*(i?i/2:C),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"line":l=i?i/2:Math.cos(k)*C,c=Math.sin(k)*C,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(k)*(i?i/2:C),r+Math.sin(k)*C);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Zl(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function bg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Rg(n){n.restore()}function ND(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function MD(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function LD(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Je(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function VD(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,m=i.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function FD(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function eu(n,e,t,r,i,o={}){const l=bt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let h,p;for(n.save(),n.font=i.string,LD(n,o),h=0;h<l.length;++h)p=l[h],o.backdrop&&FD(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Je(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,r,o.maxWidth)),n.fillText(p,t,r,o.maxWidth),VD(n,t,r,p,o),r+=Number(i.lineHeight);n.restore()}function Pp(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Rt,Rt,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,Rt,Jn,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Jn,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Jn,!0),n.lineTo(t+l.topLeft,r)}const UD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function BD(n,e){const t=(""+n).match(UD);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const jD=n=>+n||0;function bT(n,e){const t={},r=He(e),i=r?Object.keys(e):e,o=He(n)?r?l=>Ve(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=jD(o(l));return t}function WD(n){return bT(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(n){return bT(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mn(n){const e=WD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(n,e){n=n||{},e=e||dt.font;let t=Ve(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ve(n.style,e.style);r&&!(""+r).match(zD)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ve(n.family,e.family),lineHeight:BD(Ve(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ve(n.weight,e.weight),string:""};return i.string=OD(i),i}function zc(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function HD(n,e,t){const{min:r,max:i}=n,o=eD(e,(i-r)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function $s(n,e){return Object.assign(Object.create(n),e)}function Dg(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=NT("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:c=>Dg([c,...n],e,o,r)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return DT(c,h,()=>JD(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return Uv(c).includes(h)},ownKeys(c){return Uv(c)},set(c,h,p){const m=c._storage||(c._storage=i());return c[h]=m[h]=p,delete c._keys,!0}})}function oa(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:RT(n,r),setContext:o=>oa(n,o,t,r),override:o=>oa(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return DT(o,l,()=>qD(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function RT(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:qi(t)?t:()=>t,isIndexable:qi(r)?r:()=>r}}const $D=(n,e)=>n?n+kg(e):e,Og=(n,e)=>He(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function DT(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function qD(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let c=r[e];return qi(c)&&l.isScriptable(e)&&(c=KD(e,c,n,t)),bt(c)&&c.length&&(c=GD(e,c,n,l.isIndexable)),Og(e,c)&&(c=oa(c,i,o&&o[e],l)),c}function KD(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(o,l||r);return c.delete(n),Og(n,h)&&(h=Ng(i._scopes,i,n,h)),h}function GD(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:c}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(He(e[0])){const h=e,p=i._scopes.filter(m=>m!==h);e=[];for(const m of h){const v=Ng(p,i,n,m);e.push(oa(v,o,l&&l[n],c))}}return e}function OT(n,e,t){return qi(n)?n(e,t):n}const QD=(n,e)=>n===!0?e:typeof n=="string"?xh(e,n):void 0;function YD(n,e,t,r,i){for(const o of e){const l=QD(t,o);if(l){n.add(l);const c=OT(l._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Ng(n,e,t,r){const i=e._rootScopes,o=OT(e._fallback,t,r),l=[...n,...i],c=new Set;c.add(r);let h=Fv(c,l,t,o||t,r);return h===null||typeof o<"u"&&o!==t&&(h=Fv(c,l,o,h,r),h===null)?!1:Dg(Array.from(c),[""],i,o,()=>XD(e,t,r))}function Fv(n,e,t,r,i){for(;t;)t=YD(n,e,t,r,i);return t}function XD(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return bt(i)&&He(t)?t:i||{}}function JD(n,e,t,r){let i;for(const o of e)if(i=NT($D(o,n),t),typeof i<"u")return Og(n,i)?Ng(t,r,n,i):i}function NT(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Uv(n){let e=n._keys;return e||(e=n._keys=ZD(n._scopes)),e}function ZD(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const eO=Number.EPSILON||1e-14,aa=(n,e)=>e<n.length&&!n[e].skip&&n[e],MT=n=>n==="x"?"y":"x";function tO(n,e,t,r){const i=n.skip?e:n,o=e,l=t.skip?e:t,c=kp(o,i),h=kp(l,o);let p=c/(c+h),m=h/(c+h);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=r*p,E=r*m;return{previous:{x:o.x-v*(l.x-i.x),y:o.y-v*(l.y-i.y)},next:{x:o.x+E*(l.x-i.x),y:o.y+E*(l.y-i.y)}}}function nO(n,e,t){const r=n.length;let i,o,l,c,h,p=aa(n,0);for(let m=0;m<r-1;++m)if(h=p,p=aa(n,m+1),!(!h||!p)){if(Ml(e[m],0,eO)){t[m]=t[m+1]=0;continue}i=t[m]/e[m],o=t[m+1]/e[m],c=Math.pow(i,2)+Math.pow(o,2),!(c<=9)&&(l=3/Math.sqrt(c),t[m]=i*l*e[m],t[m+1]=o*l*e[m])}}function rO(n,e,t="x"){const r=MT(t),i=n.length;let o,l,c,h=aa(n,0);for(let p=0;p<i;++p){if(l=c,c=h,h=aa(n,p+1),!c)continue;const m=c[t],v=c[r];l&&(o=(m-l[t])/3,c[`cp1${t}`]=m-o,c[`cp1${r}`]=v-o*e[p]),h&&(o=(h[t]-m)/3,c[`cp2${t}`]=m+o,c[`cp2${r}`]=v+o*e[p])}}function iO(n,e="x"){const t=MT(e),r=n.length,i=Array(r).fill(0),o=Array(r);let l,c,h,p=aa(n,0);for(l=0;l<r;++l)if(c=h,h=p,p=aa(n,l+1),!!h){if(p){const m=p[e]-h[e];i[l]=m!==0?(p[t]-h[t])/m:0}o[l]=c?p?sa(i[l-1])!==sa(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}nO(n,i,o),rO(n,o,e)}function Bc(n,e,t){return Math.max(Math.min(n,t),e)}function sO(n,e){let t,r,i,o,l,c=Zl(n[0],e);for(t=0,r=n.length;t<r;++t)l=o,o=c,c=t<r-1&&Zl(n[t+1],e),o&&(i=n[t],l&&(i.cp1x=Bc(i.cp1x,e.left,e.right),i.cp1y=Bc(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=Bc(i.cp2x,e.left,e.right),i.cp2y=Bc(i.cp2y,e.top,e.bottom)))}function oO(n,e,t,r,i){let o,l,c,h;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")iO(n,i);else{let p=r?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)c=n[o],h=tO(p,c,n[Math.min(o+1,l-(r?0:1))%l],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,p=c}e.capBezierPoints&&sO(n,t)}function Mg(){return typeof window<"u"&&typeof document<"u"}function Lg(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ah(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Jh=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function aO(n,e){return Jh(n).getPropertyValue(e)}const lO=["top","right","bottom","left"];function Os(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=lO[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uO=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function cO(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,c,h;if(uO(i,o,n.target))c=i,h=o;else{const p=e.getBoundingClientRect();c=r.clientX-p.left,h=r.clientY-p.top,l=!0}return{x:c,y:h,box:l}}function ks(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Jh(t),o=i.boxSizing==="border-box",l=Os(i,"padding"),c=Os(i,"border","width"),{x:h,y:p,box:m}=cO(n,t),v=l.left+(m&&c.left),E=l.top+(m&&c.top);let{width:I,height:P}=e;return o&&(I-=l.width+c.width,P-=l.height+c.height),{x:Math.round((h-v)/I*t.width/r),y:Math.round((p-E)/P*t.height/r)}}function hO(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&Lg(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),c=Jh(o),h=Os(c,"border","width"),p=Os(c,"padding");e=l.width-p.width-h.width,t=l.height-p.height-h.height,r=Ah(c.maxWidth,o,"clientWidth"),i=Ah(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Ch,maxHeight:i||Ch}}const Mi=n=>Math.round(n*10)/10;function dO(n,e,t,r){const i=Jh(n),o=Os(i,"margin"),l=Ah(i.maxWidth,n,"clientWidth")||Ch,c=Ah(i.maxHeight,n,"clientHeight")||Ch,h=hO(n,e,t);let{width:p,height:m}=h;if(i.boxSizing==="content-box"){const E=Os(i,"border","width"),I=Os(i,"padding");p-=I.width+E.width,m-=I.height+E.height}return p=Math.max(0,p-o.width),m=Math.max(0,r?p/r:m-o.height),p=Mi(Math.min(p,l,h.maxWidth)),m=Mi(Math.min(m,c,h.maxHeight)),p&&!m&&(m=Mi(p/2)),(e!==void 0||t!==void 0)&&r&&h.height&&m>h.height&&(m=h.height,p=Mi(Math.floor(m*r))),{width:p,height:m}}function zv(n,e,t){const r=e||1,i=Mi(n.height*r),o=Mi(n.width*r);n.height=Mi(n.height),n.width=Mi(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const fO=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Mg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Bv(n,e){const t=aO(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Cs(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function pO(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function gO(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=Cs(n,i,t),c=Cs(i,o,t),h=Cs(o,e,t),p=Cs(l,c,t),m=Cs(c,h,t);return Cs(p,m,t)}const mO=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},yO=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Qo(n,e,t){return n?mO(e,t):yO()}function LT(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function VT(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function FT(n){return n==="angle"?{between:IT,compare:pD,normalize:Ci}:{between:kl,compare:(e,t)=>e-t,normalize:e=>e}}function jv({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function _O(n,e,t){const{property:r,start:i,end:o}=t,{between:l,normalize:c}=FT(r),h=e.length;let{start:p,end:m,loop:v}=n,E,I;if(v){for(p+=h,m+=h,E=0,I=h;E<I&&l(c(e[p%h][r]),i,o);++E)p--,m--;p%=h,m%=h}return m<p&&(m+=h),{start:p,end:m,loop:v,style:n.style}}function vO(n,e,t){if(!t)return[n];const{property:r,start:i,end:o}=t,l=e.length,{compare:c,between:h,normalize:p}=FT(r),{start:m,end:v,loop:E,style:I}=_O(n,e,t),P=[];let C=!1,k=null,z,$,K;const Q=()=>h(i,K,z)&&c(i,K)!==0,G=()=>c(o,z)===0||h(o,K,z),te=()=>C||Q(),R=()=>!C||G();for(let x=m,A=m;x<=v;++x)$=e[x%l],!$.skip&&(z=p($[r]),z!==K&&(C=h(z,i,o),k===null&&te()&&(k=c(z,i)===0?x:A),k!==null&&R()&&(P.push(jv({start:k,end:x,loop:E,count:l,style:I})),k=null),A=x,K=z));return k!==null&&P.push(jv({start:k,end:v,loop:E,count:l,style:I})),P}function wO(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const o=vO(r[i],n.points,e);o.length&&t.push(...o)}return t}function EO(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function TO(n,e,t,r){const i=n.length,o=[];let l=e,c=n[e],h;for(h=e+1;h<=t;++h){const p=n[h%i];p.skip||p.stop?c.skip||(r=!1,o.push({start:e%i,end:(h-1)%i,loop:r}),e=l=p.stop?h:null):(l=h,c.skip&&(e=h)),c=p}return l!==null&&o.push({start:e%i,end:l%i,loop:r}),o}function IO(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const o=!!n._loop,{start:l,end:c}=EO(t,i,o,r);if(r===!0)return Wv(n,[{start:l,end:c,loop:o}],t,e);const h=c<l?c+i:c,p=!!n._fullLoop&&l===0&&c===i-1;return Wv(n,TO(t,l,h,p),t,e)}function Wv(n,e,t,r){return!r||!r.setContext||!t?e:SO(n,e,t,r)}function SO(n,e,t,r){const i=n._chart.getContext(),o=Hv(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=t.length,p=[];let m=o,v=e[0].start,E=v;function I(P,C,k,z){const $=c?-1:1;if(P!==C){for(P+=h;t[P%h].skip;)P-=$;for(;t[C%h].skip;)C+=$;P%h!==C%h&&(p.push({start:P%h,end:C%h,loop:k,style:z}),m=z,v=C%h)}}for(const P of e){v=c?v:P.start;let C=t[v%h],k;for(E=v+1;E<=P.end;E++){const z=t[E%h];k=Hv(r.setContext($s(i,{type:"segment",p0:C,p1:z,p0DataIndex:(E-1)%h,p1DataIndex:E%h,datasetIndex:l}))),xO(k,m)&&I(v,E-1,P.loop,m),C=z,m=k}v<E-1&&I(v,E-1,P.loop,m)}return p}function Hv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xO(n,e){if(!e)return!1;const t=[],r=function(i,o){return Pg(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function jc(n,e,t){return n.options.clip?n[t]:e[t]}function kO(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:jc(t,e,"left"),right:jc(t,e,"right"),top:jc(r,e,"top"),bottom:jc(r,e,"bottom")}:e}function CO(n,e){const t=e._clip;if(t.disabled)return!1;const r=kO(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class AO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=xT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,c=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),c=!0):(o[l]=o[o.length-1],o.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zr=new AO;const $v="transparent",PO={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Nv(n||$v),i=r.valid&&Nv(e||$v);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class bO{constructor(e,t,r,i){const o=t[r];i=zc([e.to,i,o,e.from]);const l=zc([e.from,o,i]);this._active=!0,this._fn=e.fn||PO[e.type||typeof l],this._easing=Ll[e.easing]||Ll.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=zc([e.to,t,i,e.from]),this._from=zc([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,c=this._to;let h;if(this._active=o!==c&&(l||t<r),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=o;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class UT{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!He(e))return;const t=Object.keys(dt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!He(o))return;const l={};for(const c of t)l[c]=o[c];(bt(o.properties)&&o.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,i=DO(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&RO(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[p];let v=o[p];const E=r.get(p);if(v)if(E&&v.active()){v.update(E,m,c);continue}else v.cancel();if(!E||!E.duration){e[p]=m;continue}o[p]=v=new bO(E,e,p,m),i.push(v)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return zr.add(this._chart,r),!0}}function RO(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function DO(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function qv(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function OO(n,e,t){if(t===!1)return!1;const r=qv(n,t),i=qv(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function NO(n){let e,t,r,i;return He(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function zT(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function Kv(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,c,h,p;if(e===null)return;let m=!1;for(l=0,c=i.length;l<c;++l){if(h=+i[l],h===t){if(m=!0,r.all)continue;break}p=n.values[h],Nn(p)&&(o||e===0||sa(e)===sa(p))&&(e+=p)}return!m&&!r.all?0:e}function MO(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,p,m;for(h=0,p=l.length;h<p;++h)m=l[h],c[h]={[i]:m,[o]:n[m]};return c}function Qf(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function LO(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function VO(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function FO(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Gv(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function Qv(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:c}=r,h=o.axis,p=l.axis,m=LO(o,l,r),v=e.length;let E;for(let I=0;I<v;++I){const P=e[I],{[h]:C,[p]:k}=P,z=P._stacks||(P._stacks={});E=z[p]=FO(i,m,C),E[c]=k,E._top=Gv(E,l,!0,r.type),E._bottom=Gv(E,l,!1,r.type);const $=E._visualValues||(E._visualValues={});$[c]=k}}function Yf(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function UO(n,e){return $s(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zO(n,e,t){return $s(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function fl(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const Xf=n=>n==="reset"||n==="none",Yv=(n,e)=>e?n:Object.assign({},n),BO=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:zT(t,!0),values:null};class BT{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(v,E,I,P)=>v==="x"?E:v==="r"?P:I,o=t.xAxisID=Ve(r.xAxisID,Yf(e,"x")),l=t.yAxisID=Ve(r.yAxisID,Yf(e,"y")),c=t.rAxisID=Ve(r.rAxisID,Yf(e,"r")),h=t.indexAxis,p=t.iAxisID=i(h,o,l,c),m=t.vAxisID=i(h,l,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rv(this._data,this),e._stacked&&fl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(He(t)){const i=this._cachedMeta;this._data=MO(t,i)}else if(r!==t){if(r){Rv(r,this);const i=this._cachedMeta;fl(i),i._parsed=[]}t&&Object.isExtensible(t)&&_D(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=Qf(t.vScale,t),t.stack!==r.stack&&(i=!0,fl(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(Qv(this,t._parsed),t._stacked=Qf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,c=o.axis;let h=e===0&&t===i.length?!0:r._sorted,p=e>0&&r._parsed[e-1],m,v,E;if(this._parsing===!1)r._parsed=i,r._sorted=!0,E=i;else{bt(i[e])?E=this.parseArrayData(r,i,e,t):He(i[e])?E=this.parseObjectData(r,i,e,t):E=this.parsePrimitiveData(r,i,e,t);const I=()=>v[c]===null||p&&v[c]<p[c];for(m=0;m<t;++m)r._parsed[m+e]=v=E[m],h&&(I()&&(h=!1),p=v);r._sorted=h}l&&Qv(this,E)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,c=o.axis,h=l.axis,p=o.getLabels(),m=o===l,v=new Array(i);let E,I,P;for(E=0,I=i;E<I;++E)P=E+r,v[E]={[c]:m||o.parse(p[P],P),[h]:l.parse(t[P],P)};return v}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,c=new Array(i);let h,p,m,v;for(h=0,p=i;h<p;++h)m=h+r,v=t[m],c[h]={x:o.parse(v[0],m),y:l.parse(v[1],m)};return c}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=new Array(i);let m,v,E,I;for(m=0,v=i;m<v;++m)E=m+r,I=t[E],p[m]={x:o.parse(xh(I,c),E),y:l.parse(xh(I,h),E)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],c={keys:zT(i,!0),values:t._stacks[e.axis]._visualValues};return Kv(c,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const c=i&&r._stacks[t.axis];i&&c&&(i.values=c,l=Kv(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,c=this._getOtherScale(e),h=BO(t,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=VO(c);let E,I;function P(){I=i[E];const C=I[c.axis];return!Nn(I[e.axis])||m>C||v<C}for(E=0;E<l&&!(!P()&&(this.updateRangeFromParsed(p,e,I,h),o));++E);if(o){for(E=l-1;E>=0;--E)if(!P()){this.updateRangeFromParsed(p,e,I,h);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],Nn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=NO(Ve(this.options.clip,OO(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||i.length-c,p=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,o,c,h),m=c;m<c+h;++m){const v=i[m];v.hidden||(v.active&&p?l.push(v):v.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=zO(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=UO(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,c=o[l],h=this.enableOptionSharing&&kh(r);if(c)return Yv(c,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],E=p.getOptionScopes(this.getDataset(),m),I=Object.keys(dt.elements[e]),P=()=>this.getContext(r,i,t),C=p.resolveNamedOptions(E,I,P,v);return C.$shared&&(C.$shared=h,o[l]=Object.freeze(Yv(C,h))),C}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,c=o[l];if(c)return c;let h;if(i.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,t),E=m.getOptionScopes(this.getDataset(),v);h=m.createResolver(E,this.getContext(e,r,t))}const p=new UT(i,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){Xf(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Xf(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,h,p]of this._syncList)this[c](h,p);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let c;const h=p=>{for(p.length+=t,c=p.length-1;c>=l;c--)p[c]=p[c-t]};for(h(o),c=e;c<l;++c)o[c]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&fl(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class jO extends BT{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=t,l=this.chart._animationsDisabled;let{start:c,count:h}=TD(t,i,l);this._drawStart=c,this._drawCount=h,ID(t)&&(c=0,h=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:p},e),this.updateElements(i,c,h,e)}updateElements(e,t,r,i){const o=i==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,i),E=l.axis,I=c.axis,{spanGaps:P,segment:C}=this.options,k=Jl(P)?P:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||o||i==="none",$=t+r,K=e.length;let Q=t>0&&this.getParsed(t-1);for(let G=0;G<K;++G){const te=e[G],R=z?te:{};if(G<t||G>=$){R.skip=!0;continue}const x=this.getParsed(G),A=Je(x[I]),O=R[E]=l.getPixelForValue(x[E],G),N=R[I]=o||A?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,x,h):x[I],G);R.skip=isNaN(O)||isNaN(N)||A,R.stop=G>0&&Math.abs(x[E]-Q[E])>k,C&&(R.parsed=x,R.raw=p.data[G]),v&&(R.options=m||this.resolveDataElementOptions(G,te.active?"active":i)),z||this.updateElement(te,G,R,i),Q=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Ss(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vg{static override(e){Object.assign(Vg.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ss()}parse(){return Ss()}format(){return Ss()}add(){return Ss()}diff(){return Ss()}startOf(){return Ss()}endOf(){return Ss()}}var WO={_date:Vg};function HO(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,c=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&o.length){const p=c._reversePixels?mD:bs;if(r){if(i._sharedOptions){const m=o[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const E=p(o,e,t-v),I=p(o,e,t+v);return{lo:E.lo,hi:I.hi}}}}else{const m=p(o,e,t);if(h){const{vScale:v}=i._cachedMeta,{_parsed:E}=n,I=E.slice(0,m.lo+1).reverse().findIndex(C=>!Je(C[v.axis]));m.lo-=Math.max(0,I);const P=E.slice(m.hi).findIndex(C=>!Je(C[v.axis]));m.hi+=Math.max(0,P)}return m}}return{lo:0,hi:o.length-1}}function Zh(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=o.length;c<h;++c){const{index:p,data:m}=o[c],{lo:v,hi:E}=HO(o[c],e,l,i);for(let I=v;I<=E;++I){const P=m[I];P.skip||r(P,p,I)}}}function $O(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Jf(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||Zh(n,t,e,function(c,h,p){!i&&!Zl(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&o.push({element:c,datasetIndex:h,index:p})},!0),o}function qO(n,e,t,r){let i=[];function o(l,c,h){const{startAngle:p,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:v}=fD(l,{x:e.x,y:e.y});IT(v,p,m)&&i.push({element:l,datasetIndex:c,index:h})}return Zh(n,t,e,o),i}function KO(n,e,t,r,i,o){let l=[];const c=$O(t);let h=Number.POSITIVE_INFINITY;function p(m,v,E){const I=m.inRange(e.x,e.y,i);if(r&&!I)return;const P=m.getCenterPoint(i);if(!(!!o||n.isPointInArea(P))&&!I)return;const k=c(e,P);k<h?(l=[{element:m,datasetIndex:v,index:E}],h=k):k===h&&l.push({element:m,datasetIndex:v,index:E})}return Zh(n,t,e,p),l}function Zf(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?qO(n,e,t,i):KO(n,e,t,r,i,o)}function Xv(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Zh(n,t,e,(h,p,m)=>{h[l]&&h[l](e[t],i)&&(o.push({element:h,datasetIndex:p,index:m}),c=c||h.inRange(e.x,e.y,i))}),r&&!c?[]:o}var GO={modes:{index(n,e,t,r){const i=ks(e,n),o=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Jf(n,i,o,r,l):Zf(n,i,o,!1,r,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=c[0].index,v=p.data[m];v&&!v.skip&&h.push({element:v,datasetIndex:p.index,index:m})}),h):[]},dataset(n,e,t,r){const i=ks(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Jf(n,i,o,r,l):Zf(n,i,o,!1,r,l);if(c.length>0){const h=c[0].datasetIndex,p=n.getDatasetMeta(h).data;c=[];for(let m=0;m<p.length;++m)c.push({element:p[m],datasetIndex:h,index:m})}return c},point(n,e,t,r){const i=ks(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Jf(n,i,o,r,l)},nearest(n,e,t,r){const i=ks(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Zf(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=ks(e,n);return Xv(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=ks(e,n);return Xv(n,i,"y",t.intersect,r)}}};const jT=["left","top","right","bottom"];function pl(n,e){return n.filter(t=>t.pos===e)}function Jv(n,e){return n.filter(t=>jT.indexOf(t.pos)===-1&&t.box.axis===e)}function gl(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function QO(n){const e=[];let t,r,i,o,l,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:c});return e}function YO(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!jT.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function XO(n,e){const t=YO(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:h}=c.box,p=t[c.stack],m=p&&c.stackWeight/p.weight;c.horizontal?(c.width=m?m*r:h&&e.availableWidth,c.height=i):(c.width=r,c.height=m?m*i:h&&e.availableHeight)}return t}function JO(n){const e=QO(n),t=gl(e.filter(p=>p.box.fullSize),!0),r=gl(pl(e,"left"),!0),i=gl(pl(e,"right")),o=gl(pl(e,"top"),!0),l=gl(pl(e,"bottom")),c=Jv(e,"x"),h=Jv(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(h).concat(l).concat(c),chartArea:pl(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:o.concat(l).concat(c)}}function Zv(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function WT(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ZO(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!He(i)){t.size&&(n[i]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?o.height:o.width),t.size=v.size/v.count,n[i]+=t.size}o.getPadding&&WT(l,o.getPadding());const c=Math.max(0,e.outerWidth-Zv(l,n,"left","right")),h=Math.max(0,e.outerHeight-Zv(l,n,"top","bottom")),p=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:p,other:m}:{same:m,other:p}}function e2(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function t2(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function Cl(n,e,t,r){const i=[];let o,l,c,h,p,m;for(o=0,l=n.length,p=0;o<l;++o){c=n[o],h=c.box,h.update(c.width||e.w,c.height||e.h,t2(c.horizontal,e));const{same:v,other:E}=ZO(e,t,c,r);p|=v&&i.length,m=m||E,h.fullSize||i.push(c)}return p&&Cl(i,e,t,r)||m}function Wc(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function e0(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const c of n){const h=c.box,p=r[c.stack]||{placed:0,weight:1},m=c.stackWeight/p.weight||1;if(c.horizontal){const v=e.w*m,E=p.size||h.height;kh(p.start)&&(l=p.start),h.fullSize?Wc(h,i.left,l,t.outerWidth-i.right-i.left,E):Wc(h,e.left+p.placed,l,v,E),p.start=l,p.placed+=v,l=h.bottom}else{const v=e.h*m,E=p.size||h.width;kh(p.start)&&(o=p.start),h.fullSize?Wc(h,o,i.top,E,t.outerHeight-i.bottom-i.top):Wc(h,o,e.top+p.placed,E,v),p.start=o,p.placed+=v,o=h.right}}e.x=o,e.y=l}var Dn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Mn(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),c=JO(n.boxes),h=c.vertical,p=c.horizontal;qe(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=h.reduce((C,k)=>k.box.options&&k.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),E=Object.assign({},i);WT(E,Mn(r));const I=Object.assign({maxPadding:E,w:o,h:l,x:i.left,y:i.top},i),P=XO(h.concat(p),v);Cl(c.fullSize,I,v,P),Cl(h,I,v,P),Cl(p,I,v,P)&&Cl(h,I,v,P),e2(I),e0(c.leftAndTop,I,v,P),I.x+=I.w,I.y+=I.h,e0(c.rightAndBottom,I,v,P),n.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},qe(c.chartArea,C=>{const k=C.box;Object.assign(k,n.chartArea),k.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class HT{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class n2 extends HT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ih="$chartjs",r2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},t0=n=>n===null||n==="";function i2(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ih]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",t0(i)){const o=Bv(n,"width");o!==void 0&&(n.width=o)}if(t0(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Bv(n,"height");o!==void 0&&(n.height=o)}return n}const $T=fO?{passive:!0}:!1;function s2(n,e,t){n&&n.addEventListener(e,t,$T)}function o2(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,$T)}function a2(n,e){const t=r2[n.type]||n.type,{x:r,y:i}=ks(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ph(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function l2(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Ph(c.addedNodes,r),l=l&&!Ph(c.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function u2(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Ph(c.removedNodes,r),l=l&&!Ph(c.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const tu=new Map;let n0=0;function qT(){const n=window.devicePixelRatio;n!==n0&&(n0=n,tu.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function c2(n,e){tu.size||window.addEventListener("resize",qT),tu.set(n,e)}function h2(n){tu.delete(n),tu.size||window.removeEventListener("resize",qT)}function d2(n,e,t){const r=n.canvas,i=r&&Lg(r);if(!i)return;const o=kT((c,h)=>{const p=i.clientWidth;t(c,h),p<i.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],p=h.contentRect.width,m=h.contentRect.height;p===0&&m===0||o(p,m)});return l.observe(i),c2(n,o),l}function ep(n,e,t){t&&t.disconnect(),e==="resize"&&h2(n)}function f2(n,e,t){const r=n.canvas,i=kT(o=>{n.ctx!==null&&t(a2(o,n))},n);return s2(r,e,i),i}class p2 extends HT{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(i2(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ih])return!1;const r=t[ih].initial;["height","width"].forEach(o=>{const l=r[o];Je(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[ih],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:l2,detach:u2,resize:d2}[t]||f2;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:ep,detach:ep,resize:ep}[t]||o2)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return dO(e,t,r,i)}isAttached(e){const t=e&&Lg(e);return!!(t&&t.isConnected)}}function g2(n){return!Mg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?n2:p2}class qs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Jl(this.x)&&Jl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}function m2(n,e){const t=n.options.ticks,r=y2(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?v2(e):[],l=o.length,c=o[0],h=o[l-1],p=[];if(l>i)return w2(e,p,o,l/i),p;const m=_2(o,e,i);if(l>0){let v,E;const I=l>1?Math.round((h-c)/(l-1)):null;for(Hc(e,p,m,Je(I)?0:c-I,c),v=0,E=l-1;v<E;v++)Hc(e,p,m,o[v],o[v+1]);return Hc(e,p,m,h,Je(I)?e.length:h+I),p}return Hc(e,p,m),p}function y2(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function _2(n,e,t){const r=E2(n),i=e.length/t;if(!r)return Math.max(i,1);const o=lD(r);for(let l=0,c=o.length-1;l<c;l++){const h=o[l];if(h>i)return h}return Math.max(i,1)}function v2(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function w2(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function Hc(n,e,t,r,i){const o=Ve(r,0),l=Math.min(Ve(i,n.length),n.length);let c=0,h,p,m;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),m=o;m<0;)c++,m=Math.round(o+c*t);for(p=Math.max(o,0);p<l;p++)p===m&&(e.push(n[p]),c++,m=Math.round(o+c*t))}function E2(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const T2=n=>n==="left"?"right":n==="right"?"left":n,r0=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,i0=(n,e)=>Math.min(e||n,n);function s0(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function I2(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(i),p;if(!(t&&(r===1?p=Math.max(h-o,l-h):e===0?p=(n.getPixelForTick(1)-h)/2:p=(h-n.getPixelForTick(i-1))/2,h+=i<e?p:-p,h<o-c||h>l+c)))return h}function S2(n,e){qe(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function ml(n){return n.drawTicks?n.tickLength:0}function o0(n,e){if(!n.display)return 0;const t=Gt(n.font,e),r=Mn(n.padding);return(bt(n.text)?n.text.length:1)*t.lineHeight+r.height}function x2(n,e){return $s(n,{scale:e,type:"scale"})}function k2(n,e,t){return $s(n,{tick:t,index:e,type:"tick"})}function C2(n,e,t){let r=Ag(n);return(t&&e!=="right"||!t&&e==="right")&&(r=T2(r)),r}function A2(n,e,t,r){const{top:i,left:o,bottom:l,right:c,chart:h}=n,{chartArea:p,scales:m}=h;let v=0,E,I,P;const C=l-i,k=c-o;if(n.isHorizontal()){if(I=$t(r,o,c),He(t)){const z=Object.keys(t)[0],$=t[z];P=m[z].getPixelForValue($)+C-e}else t==="center"?P=(p.bottom+p.top)/2+C-e:P=r0(n,t,e);E=c-o}else{if(He(t)){const z=Object.keys(t)[0],$=t[z];I=m[z].getPixelForValue($)-k+e}else t==="center"?I=(p.left+p.right)/2-k+e:I=r0(n,t,e);P=$t(r,l,i),v=t==="left"?-Jn:Jn}return{titleX:I,titleY:P,maxWidth:E,rotation:v}}class ma extends qs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=hr(e,Number.POSITIVE_INFINITY),t=hr(t,Number.NEGATIVE_INFINITY),r=hr(r,Number.POSITIVE_INFINITY),i=hr(i,Number.NEGATIVE_INFINITY),{min:hr(e,r),max:hr(t,i),minDefined:Nn(e),maxDefined:Nn(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let h=0,p=c.length;h<p;++h)l=c[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:hr(t,hr(r,t)),max:hr(r,hr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HD(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?s0(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=m2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=tt(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=i0(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,c,h,p;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),v=m.widest.width,E=m.highest.height,I=Rn(this.chart.width-v,0,this.maxWidth);c=e.offset?this.maxWidth/r:I/(r-1),v+6>c&&(c=I/(r-(e.offset?.5:1)),h=this.maxHeight-ml(e.grid)-t.padding-o0(e.title,this.chart.options.font),p=Math.sqrt(v*v+E*E),l=dD(Math.min(Math.asin(Rn((m.highest.height+6)/c,-1,1)),Math.asin(Rn(h/p,-1,1))-Math.asin(Rn(E/p,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=o0(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=ml(o)+h):(e.height=this.maxHeight,e.width=ml(o)+h),r.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:E}=this._getLabelSizes(),I=r.padding*2,P=Ps(this.labelRotation),C=Math.cos(P),k=Math.sin(P);if(c){const z=r.mirror?0:k*v.width+C*E.height;e.height=Math.min(this.maxHeight,e.height+z+I)}else{const z=r.mirror?0:C*v.width+k*E.height;e.width=Math.min(this.maxWidth,e.width+z+I)}this._calculatePadding(p,m,k,C)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:c}=this.options,h=this.labelRotation!==0,p=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,I=0;h?p?(E=i*e.width,I=r*t.height):(E=r*e.height,I=i*t.width):o==="start"?I=t.width:o==="end"?E=e.width:o!=="inner"&&(E=e.width/2,I=t.width/2),this.paddingLeft=Math.max((E-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((I-v+l)*this.width/(this.width-v),0)}else{let m=t.height/2,v=e.height/2;o==="start"?(m=0,v=e.height):o==="end"&&(m=t.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Je(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=s0(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],c=[],h=Math.floor(t/i0(t,r));let p=0,m=0,v,E,I,P,C,k,z,$,K,Q,G;for(v=0;v<t;v+=h){if(P=e[v].label,C=this._resolveTickFontOptions(v),i.font=k=C.string,z=o[k]=o[k]||{data:{},gc:[]},$=C.lineHeight,K=Q=0,!Je(P)&&!bt(P))K=Lv(i,z.data,z.gc,K,P),Q=$;else if(bt(P))for(E=0,I=P.length;E<I;++E)G=P[E],!Je(G)&&!bt(G)&&(K=Lv(i,z.data,z.gc,K,G),Q+=$);l.push(K),c.push(Q),p=Math.max(K,p),m=Math.max(Q,m)}S2(o,t);const te=l.indexOf(p),R=c.indexOf(m),x=A=>({width:l[A]||0,height:c[A]||0});return{first:x(0),last:x(t-1),widest:x(te),highest:x(R),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return gD(this._alignToPixels?Is(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=k2(this.getContext(),e,r))}return this.$context||(this.$context=x2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ps(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*r>c*i?c/r:h/i:h*i<c*r?h/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:c}=i,h=o.offset,p=this.isHorizontal(),v=this.ticks.length+(h?1:0),E=ml(o),I=[],P=c.setContext(this.getContext()),C=P.display?P.width:0,k=C/2,z=function(Ne){return Is(r,Ne,C)};let $,K,Q,G,te,R,x,A,O,N,L,D;if(l==="top")$=z(this.bottom),R=this.bottom-E,A=$-k,N=z(e.top)+k,D=e.bottom;else if(l==="bottom")$=z(this.top),N=e.top,D=z(e.bottom)-k,R=$+k,A=this.top+E;else if(l==="left")$=z(this.right),te=this.right-E,x=$-k,O=z(e.left)+k,L=e.right;else if(l==="right")$=z(this.left),O=e.left,L=z(e.right)-k,te=$+k,x=this.left+E;else if(t==="x"){if(l==="center")$=z((e.top+e.bottom)/2+.5);else if(He(l)){const Ne=Object.keys(l)[0],Ae=l[Ne];$=z(this.chart.scales[Ne].getPixelForValue(Ae))}N=e.top,D=e.bottom,R=$+k,A=R+E}else if(t==="y"){if(l==="center")$=z((e.left+e.right)/2);else if(He(l)){const Ne=Object.keys(l)[0],Ae=l[Ne];$=z(this.chart.scales[Ne].getPixelForValue(Ae))}te=$-k,x=te-E,O=e.left,L=e.right}const Ue=Ve(i.ticks.maxTicksLimit,v),Pe=Math.max(1,Math.ceil(v/Ue));for(K=0;K<v;K+=Pe){const Ne=this.getContext(K),Ae=o.setContext(Ne),ie=c.setContext(Ne),ge=Ae.lineWidth,oe=Ae.color,F=ie.dash||[],q=ie.dashOffset,he=Ae.tickWidth,Ee=Ae.tickColor,Se=Ae.tickBorderDash||[],Ce=Ae.tickBorderDashOffset;Q=I2(this,K,h),Q!==void 0&&(G=Is(r,Q,ge),p?te=x=O=L=G:R=A=N=D=G,I.push({tx1:te,ty1:R,tx2:x,ty2:A,x1:O,y1:N,x2:L,y2:D,width:ge,color:oe,borderDash:F,borderDashOffset:q,tickWidth:he,tickColor:Ee,tickBorderDash:Se,tickBorderDashOffset:Ce}))}return this._ticksLength=v,this._borderValue=$,I}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:p,padding:m,mirror:v}=o,E=ml(r.grid),I=E+m,P=v?-m:I,C=-Ps(this.labelRotation),k=[];let z,$,K,Q,G,te,R,x,A,O,N,L,D="middle";if(i==="top")te=this.bottom-P,R=this._getXAxisLabelAlignment();else if(i==="bottom")te=this.top+P,R=this._getXAxisLabelAlignment();else if(i==="left"){const Pe=this._getYAxisLabelAlignment(E);R=Pe.textAlign,G=Pe.x}else if(i==="right"){const Pe=this._getYAxisLabelAlignment(E);R=Pe.textAlign,G=Pe.x}else if(t==="x"){if(i==="center")te=(e.top+e.bottom)/2+I;else if(He(i)){const Pe=Object.keys(i)[0],Ne=i[Pe];te=this.chart.scales[Pe].getPixelForValue(Ne)+I}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")G=(e.left+e.right)/2-I;else if(He(i)){const Pe=Object.keys(i)[0],Ne=i[Pe];G=this.chart.scales[Pe].getPixelForValue(Ne)}R=this._getYAxisLabelAlignment(E).textAlign}t==="y"&&(h==="start"?D="top":h==="end"&&(D="bottom"));const Ue=this._getLabelSizes();for(z=0,$=c.length;z<$;++z){K=c[z],Q=K.label;const Pe=o.setContext(this.getContext(z));x=this.getPixelForTick(z)+o.labelOffset,A=this._resolveTickFontOptions(z),O=A.lineHeight,N=bt(Q)?Q.length:1;const Ne=N/2,Ae=Pe.color,ie=Pe.textStrokeColor,ge=Pe.textStrokeWidth;let oe=R;l?(G=x,R==="inner"&&(z===$-1?oe=this.options.reverse?"left":"right":z===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?p==="near"||C!==0?L=-N*O+O/2:p==="center"?L=-Ue.highest.height/2-Ne*O+O:L=-Ue.highest.height+O/2:p==="near"||C!==0?L=O/2:p==="center"?L=Ue.highest.height/2-Ne*O:L=Ue.highest.height-N*O,v&&(L*=-1),C!==0&&!Pe.showLabelBackdrop&&(G+=O/2*Math.sin(C))):(te=x,L=(1-N)*O/2);let F;if(Pe.showLabelBackdrop){const q=Mn(Pe.backdropPadding),he=Ue.heights[z],Ee=Ue.widths[z];let Se=L-q.top,Ce=0-q.left;switch(D){case"middle":Se-=he/2;break;case"bottom":Se-=he;break}switch(R){case"center":Ce-=Ee/2;break;case"right":Ce-=Ee;break;case"inner":z===$-1?Ce-=Ee:z>0&&(Ce-=Ee/2);break}F={left:Ce,top:Se,width:Ee+q.width,height:he+q.height,color:Pe.backdropColor}}k.push({label:Q,font:A,textOffset:L,options:{rotation:C,color:Ae,strokeColor:ie,strokeWidth:ge,textAlign:oe,textBaseline:D,translation:[G,te],backdrop:F}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ps(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),c=e+o,h=l.widest.width;let p,m;return t==="left"?i?(m=this.right+o,r==="near"?p="left":r==="center"?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-c,r==="near"?p="right":r==="center"?(p="center",m-=h/2):(p="left",m=this.left)):t==="right"?i?(m=this.left+o,r==="near"?p="right":r==="center"?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+c,r==="near"?p="left":r==="center"?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const c=(h,p,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const h=i[o];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,m,v,E;this.isHorizontal()?(p=Is(e,this.left,l)-l/2,m=Is(e,this.right,c)+c/2,v=E=h):(v=Is(e,this.top,l)-l/2,E=Is(e,this.bottom,c)+c/2,p=m=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,v),t.lineTo(m,E),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&bg(r,i);const o=this.getLabelItems(e);for(const l of o){const c=l.options,h=l.font,p=l.label,m=l.textOffset;eu(r,p,0,m,h,c)}i&&Rg(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=Gt(r.font),l=Mn(r.padding),c=r.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||He(t)?(h+=l.bottom,bt(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:p,titleY:m,maxWidth:v,rotation:E}=A2(this,h,t,c);eu(e,r.text,0,0,o,{color:r.color,maxWidth:v,rotation:E,textAlign:C2(c,t,i),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ve(e.grid&&e.grid.z,-1),i=Ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ma.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Gt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $c{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;R2(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,P2(e,l,r),this.override&&dt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in dt[i]&&(delete dt[i][r],this.override&&delete zs[r])}}function P2(n,e,t){const r=Xl(Object.create(null),[t?dt.get(t):{},dt.get(e),n.defaults]);dt.set(e,r),n.defaultRoutes&&b2(e,n.defaultRoutes),n.descriptors&&dt.describe(e,n.descriptors)}function b2(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");dt.route(o,i,h,c)})}function R2(n){return"id"in n&&"defaults"in n}class D2{constructor(){this.controllers=new $c(BT,"datasets",!0),this.elements=new $c(qs,"elements"),this.plugins=new $c(Object,"plugins"),this.scales=new $c(ma,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):qe(i,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const i=kg(e);tt(r["before"+i],[],r),t[e](r),tt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var fr=new D2;class O2{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,c=l[r],h=[t,i,o.options];if(tt(c,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Ve(r.options&&r.options.plugins,{}),o=N2(r);return i===!1&&!t?[]:L2(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function N2(n){const e={},t=[],r=Object.keys(fr.plugins.items);for(let o=0;o<r.length;o++)t.push(fr.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function M2(n,e){return!e&&n===!1?null:n===!0?{}:n}function L2(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const c of e){const h=c.id,p=M2(r[h],i);p!==null&&o.push({plugin:c,options:V2(n.config,{plugin:c,local:t[h]},p,l)})}return o}function V2(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bp(n,e){const t=dt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function F2(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function U2(n,e){return n===e?"_index_":"_value_"}function a0(n){if(n==="x"||n==="y"||n==="r")return n}function z2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Rp(n,...e){if(a0(n))return n;for(const t of e){const r=t.axis||z2(t.position)||n.length>1&&a0(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function l0(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function B2(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return l0(n,"x",t[0])||l0(n,"y",t[0])}return{}}function j2(n,e){const t=zs[n.type]||{scales:{}},r=e.scales||{},i=bp(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!He(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Rp(l,c,B2(l,n),dt.scales[c.type]),p=U2(h,i),m=t.scales||{};o[l]=Nl(Object.create(null),[{axis:h},c,m[h],m[p]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||bp(c,e),m=(zs[c]||{}).scales||{};Object.keys(m).forEach(v=>{const E=F2(v,h),I=l[E+"AxisID"]||E;o[I]=o[I]||Object.create(null),Nl(o[I],[{axis:E},r[I],m[v]])})}),Object.keys(o).forEach(l=>{const c=o[l];Nl(c,[dt.scales[c.type],dt.scale])}),o}function KT(n){const e=n.options||(n.options={});e.plugins=Ve(e.plugins,{}),e.scales=j2(n,e)}function GT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function W2(n){return n=n||{},n.data=GT(n.data),KT(n),n}const u0=new Map,QT=new Set;function qc(n,e){let t=u0.get(n);return t||(t=e(),u0.set(n,t),QT.add(t)),t}const yl=(n,e,t)=>{const r=xh(e,t);r!==void 0&&n.add(r)};class H2{constructor(e){this._config=W2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=GT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),KT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return qc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return qc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return qc(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(v=>yl(h,e,v))),m.forEach(v=>yl(h,i,v)),m.forEach(v=>yl(h,zs[o]||{},v)),m.forEach(v=>yl(h,dt,v)),m.forEach(v=>yl(h,Cp,v))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),QT.has(t)&&l.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,zs[t]||{},dt.datasets[t]||{},{type:t},dt,Cp]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=c0(this._resolverCache,e,i);let h=l;if(q2(l,t)){o.$shared=!1,r=qi(r)?r():r;const p=this.createResolver(e,r,c);h=oa(l,r,p)}for(const p of t)o[p]=h[p];return o}createResolver(e,t,r=[""],i){const{resolver:o}=c0(this._resolverCache,e,r);return He(t)?oa(o,t,void 0,i):o}}function c0(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:Dg(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,o)),o}const $2=n=>He(n)&&Object.getOwnPropertyNames(n).some(e=>qi(n[e]));function q2(n,e){const{isScriptable:t,isIndexable:r}=RT(n);for(const i of e){const o=t(i),l=r(i),c=(l||o)&&n[i];if(o&&(qi(c)||$2(c))||l&&bt(c))return!0}return!1}var K2="4.5.1";const G2=["top","bottom","left","right","chartArea"];function h0(n,e){return n==="top"||n==="bottom"||G2.indexOf(n)===-1&&e==="x"}function d0(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function f0(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tt(t&&t.onComplete,[n],e)}function Q2(n){const e=n.chart,t=e.options.animation;tt(t&&t.onProgress,[n],e)}function YT(n){return Mg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const sh={},p0=n=>{const e=YT(n);return Object.values(sh).filter(t=>t.canvas===e).pop()};function Y2(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function X2(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let pu=class{static defaults=dt;static instances=sh;static overrides=zs;static registry=fr;static version=K2;static getChart=p0;static register(...e){fr.add(...e),g0()}static unregister(...e){fr.remove(...e),g0()}constructor(e,t){const r=this.config=new H2(t),i=YT(e),o=p0(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||g2(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,l.aspectRatio),h=c&&c.canvas,p=h&&h.height,m=h&&h.width;if(this.id=ZR(),this.ctx=c,this.canvas=h,this.width=m,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new O2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wD(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],sh[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",f0),zr.listen(this,"progress",Q2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return Je(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vv(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(e,t){zr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,zv(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),tt(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qe(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const c=t[l],h=Rp(l,c),p=h==="r",m=h==="x";return{options:c,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),qe(o,l=>{const c=l.options,h=c.id,p=Rp(h,c),m=Ve(c.type,l.dtype);(c.position===void 0||h0(c.position,p)!==h0(l.dposition))&&(c.position=l.dposition),i[h]=!0;let v=null;if(h in r&&r[h].type===m)v=r[h];else{const E=fr.getScale(m);v=new E({id:h,type:m,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(c,e)}),qe(i,(l,c)=>{l||delete r[c]}),qe(r,l=>{Dn.configure(this,l,l.options),Dn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(d0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=o.indexAxis||bp(c,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=fr.getController(c),{datasetElementType:p,dataElementType:m}=dt.datasets[c];Object.assign(h,{dataElementType:fr.getElement(m),datasetElementType:p&&fr.getElement(p)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),E=!i&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||qe(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(d0("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){qe(this.scales,e=>{Dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Cv(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;Y2(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!Cv(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],qe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,qi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),f0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=CO(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&bg(t,i),e.controller.draw(),i&&Rg(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Zl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=GO.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=$s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);kh(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),zr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete sh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};qe(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,p)=>{t.addEventListener(this,h,p),e[h]=p},i=(h,p)=>{e[h]&&(t.removeEventListener(this,h,p),delete e[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){qe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,c,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!Ih(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(h,p)=>h.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=o(t,e),c=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,c=this._getActiveElements(e,i,r,l),h=sD(e),p=X2(e,this._lastEvent,r,h);r&&(this._lastEvent=null,tt(o.onHover,[e,c,this],this),h&&tt(o.onClick,[e,c,this],this));const m=!Ih(c,i);return(m||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=p,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}};function g0(){return qe(pu.instances,n=>n._plugins.invalidate())}function XT(n,e,t=e){n.lineCap=Ve(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ve(t.borderDash,e.borderDash)),n.lineDashOffset=Ve(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ve(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ve(t.borderWidth,e.borderWidth),n.strokeStyle=Ve(t.borderColor,e.borderColor)}function J2(n,e,t){n.lineTo(t.x,t.y)}function Z2(n){return n.stepped?ND:n.tension||n.cubicInterpolationMode==="monotone"?MD:J2}function JT(n,e,t={}){const r=n.length,{start:i=0,end:o=r-1}=t,{start:l,end:c}=e,h=Math.max(i,l),p=Math.min(o,c),m=i<l&&o<l||i>c&&o>c;return{count:r,start:h,loop:e.loop,ilen:p<h&&!m?r+p-h:p-h}}function eN(n,e,t,r){const{points:i,options:o}=e,{count:l,start:c,loop:h,ilen:p}=JT(i,t,r),m=Z2(o);let{move:v=!0,reverse:E}=r||{},I,P,C;for(I=0;I<=p;++I)P=i[(c+(E?p-I:I))%l],!P.skip&&(v?(n.moveTo(P.x,P.y),v=!1):m(n,C,P,E,o.stepped),C=P);return h&&(P=i[(c+(E?p:0))%l],m(n,C,P,E,o.stepped)),!!h}function tN(n,e,t,r){const i=e.points,{count:o,start:l,ilen:c}=JT(i,t,r),{move:h=!0,reverse:p}=r||{};let m=0,v=0,E,I,P,C,k,z;const $=Q=>(l+(p?c-Q:Q))%o,K=()=>{C!==k&&(n.lineTo(m,k),n.lineTo(m,C),n.lineTo(m,z))};for(h&&(I=i[$(0)],n.moveTo(I.x,I.y)),E=0;E<=c;++E){if(I=i[$(E)],I.skip)continue;const Q=I.x,G=I.y,te=Q|0;te===P?(G<C?C=G:G>k&&(k=G),m=(v*m+Q)/++v):(K(),n.lineTo(Q,G),P=te,v=0,C=k=G),z=G}K()}function Dp(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?tN:eN}function nN(n){return n.stepped?pO:n.tension||n.cubicInterpolationMode==="monotone"?gO:Cs}function rN(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),XT(n,e.options),n.stroke(i)}function iN(n,e,t,r){const{segments:i,options:o}=e,l=Dp(e);for(const c of i)XT(n,o,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const sN=typeof Path2D=="function";function oN(n,e,t,r){sN&&!e.options.segment?rN(n,e,t,r):iN(n,e,t,r)}class ZT extends qs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;oO(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IO(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],o=this.points,l=wO(this,{property:t,start:i,end:i});if(!l.length)return;const c=[],h=nN(r);let p,m;for(p=0,m=l.length;p<m;++p){const{start:v,end:E}=l[p],I=o[v],P=o[E];if(I===P){c.push(I);continue}const C=Math.abs((i-I[t])/(P[t]-I[t])),k=h(I,P,C,r.stepped);k[t]=e[t],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,t,r){return Dp(this)(e,this,t,r)}path(e,t,r){const i=this.segments,o=Dp(this);let l=this._loop;t=t||0,r=r||this.points.length-t;for(const c of i)l&=o(e,this,c,{start:t,end:t+r-1});return!!l}draw(e,t,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),oN(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function m0(n,e,t,r){const i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}class eI extends qs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(t-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return m0(this,e,"x",t)}inYRange(e,t){return m0(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Zl(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ap(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const y0=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},aN=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class _0 extends qs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Gt(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=y0(r,o);let p,m;t.font=i.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(l,o,c,h)+10):(m=this.maxHeight,p=this._fitCols(l,i,c,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=i+c;let v=e;o.textAlign="left",o.textBaseline="middle";let E=-1,I=-m;return this.legendItems.forEach((P,C)=>{const k=r+t/2+o.measureText(P.text).width;(C===0||p[p.length-1]+k+2*c>l)&&(v+=m,p[p.length-(C>0?0:1)]=0,I+=m,E++),h[C]={left:0,top:I,row:E,width:k,height:i},p[p.length-1]+=k+c}),v}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=l-e;let v=c,E=0,I=0,P=0,C=0;return this.legendItems.forEach((k,z)=>{const{itemWidth:$,itemHeight:K}=lN(r,t,o,k,i);z>0&&I+K+2*c>m&&(v+=E+c,p.push({width:E,height:I}),P+=E+c,C++,E=I=0),h[z]={left:P,top:I,col:C,width:$,height:K},E=Math.max(E,$),I+=K+c}),v+=E,p.push({width:E,height:I}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=Qo(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=$t(r,this.left+i,this.right-this.lineWidths[c]);for(const p of t)c!==p.row&&(c=p.row,h=$t(r,this.left+i,this.right-this.lineWidths[c])),p.top+=this.top+e+i,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+i}else{let c=0,h=$t(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const p of t)p.col!==c&&(c=p.col,h=$t(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),p.top=h,p.left+=this.left+i,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;bg(e,this),this._draw(),Rg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,c=dt.color,h=Qo(e.rtl,this.left,this.width),p=Gt(l.font),{padding:m}=l,v=p.size,E=v/2;let I;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:P,boxHeight:C,itemHeight:k}=y0(l,v),z=function(te,R,x){if(isNaN(P)||P<=0||isNaN(C)||C<0)return;i.save();const A=Ve(x.lineWidth,1);if(i.fillStyle=Ve(x.fillStyle,c),i.lineCap=Ve(x.lineCap,"butt"),i.lineDashOffset=Ve(x.lineDashOffset,0),i.lineJoin=Ve(x.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Ve(x.strokeStyle,c),i.setLineDash(Ve(x.lineDash,[])),l.usePointStyle){const O={radius:C*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:A},N=h.xPlus(te,P/2),L=R+E;PT(i,O,N,L,l.pointStyleWidth&&P)}else{const O=R+Math.max((v-C)/2,0),N=h.leftForLtr(te,P),L=Fl(x.borderRadius);i.beginPath(),Object.values(L).some(D=>D!==0)?Pp(i,{x:N,y:O,w:P,h:C,radius:L}):i.rect(N,O,P,C),i.fill(),A!==0&&i.stroke()}i.restore()},$=function(te,R,x){eu(i,x.text,te,R+k/2,p,{strikethrough:x.hidden,textAlign:h.textAlign(x.textAlign)})},K=this.isHorizontal(),Q=this._computeTitleHeight();K?I={x:$t(o,this.left+m,this.right-r[0]),y:this.top+m+Q,line:0}:I={x:this.left+m,y:$t(o,this.top+Q+m,this.bottom-t[0].height),line:0},LT(this.ctx,e.textDirection);const G=k+m;this.legendItems.forEach((te,R)=>{i.strokeStyle=te.fontColor,i.fillStyle=te.fontColor;const x=i.measureText(te.text).width,A=h.textAlign(te.textAlign||(te.textAlign=l.textAlign)),O=P+E+x;let N=I.x,L=I.y;h.setWidth(this.width),K?R>0&&N+O+m>this.right&&(L=I.y+=G,I.line++,N=I.x=$t(o,this.left+m,this.right-r[I.line])):R>0&&L+G>this.bottom&&(N=I.x=N+t[I.line].width+m,I.line++,L=I.y=$t(o,this.top+Q+m,this.bottom-t[I.line].height));const D=h.x(N);if(z(D,L,te),N=ED(A,N+P+E,K?N+O:this.right,e.rtl),$(h.x(N),L,te),K)I.x+=O+m;else if(typeof te.text!="string"){const Ue=p.lineHeight;I.y+=tI(te,Ue)+m}else I.y+=G}),VT(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Gt(t.font),i=Mn(t.padding);if(!t.display)return;const o=Qo(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=r.size/2,p=i.top+h;let m,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+p,v=$t(e.align,v,this.right-E);else{const P=this.columnSizes.reduce((C,k)=>Math.max(C,k.height),0);m=p+$t(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const I=$t(c,v,v+E);l.textAlign=o.textAlign(Ag(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,eu(l,t.text,I,m,r)}_computeTitleHeight(){const e=this.options.title,t=Gt(e.font),r=Mn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(kl(e,this.left,this.right)&&kl(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],kl(e,i.left,i.left+i.width)&&kl(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!hN(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=aN(i,r);i&&!o&&tt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&tt(t.onHover,[e,r,this],this)}else r&&tt(t.onClick,[e,r,this],this)}}function lN(n,e,t,r,i){const o=uN(r,n,e,t),l=cN(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function uN(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function cN(n,e,t){let r=n;return typeof e.text!="string"&&(r=tI(e,t)),r}function tI(n,e){const t=n.text?n.text.length:0;return e*t}function hN(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var nI={id:"legend",_element:_0,start(n,e,t){const r=n.legend=new _0({ctx:n.ctx,options:t,chart:n});Dn.configure(n,r,t),Dn.addBox(n,r)},stop(n){Dn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Dn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),m=Mn(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:l&&(c||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class rI extends qs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=bt(r.text)?r.text.length:1;this._padding=Mn(r.padding);const o=i*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:o,options:l}=this,c=l.align;let h=0,p,m,v;return this.isHorizontal()?(m=$t(c,r,o),v=t+e,p=o-r):(l.position==="left"?(m=r+e,v=$t(c,i,t),h=Rt*-.5):(m=o-e,v=$t(c,t,i),h=Rt*.5),p=i-t),{titleX:m,titleY:v,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Gt(t.font),o=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:p}=this._drawArgs(o);eu(e,t.text,0,0,r,{color:t.color,maxWidth:h,rotation:p,textAlign:Ag(t.align),textBaseline:"middle",translation:[l,c]})}}function dN(n,e){const t=new rI({ctx:n.ctx,options:e,chart:n});Dn.configure(n,t,e),Dn.addBox(n,t),n.titleBlock=t}var iI={id:"title",_element:rI,start(n,e,t){dN(n,t)},stop(n){const e=n.titleBlock;Dn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Dn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Al={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();r.add(h.x),i+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((c,h)=>c+h)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),m=kp(e,p);m<i&&(i=m,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function dr(n,e){return e&&(bt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Br(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function fN(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:c}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function v0(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:c}=e,h=Gt(e.bodyFont),p=Gt(e.titleFont),m=Gt(e.footerFont),v=o.length,E=i.length,I=r.length,P=Mn(e.padding);let C=P.height,k=0,z=r.reduce((Q,G)=>Q+G.before.length+G.lines.length+G.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,v&&(C+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),z){const Q=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;C+=I*Q+(z-I)*h.lineHeight+(z-1)*e.bodySpacing}E&&(C+=e.footerMarginTop+E*m.lineHeight+(E-1)*e.footerSpacing);let $=0;const K=function(Q){k=Math.max(k,t.measureText(Q).width+$)};return t.save(),t.font=p.string,qe(n.title,K),t.font=h.string,qe(n.beforeBody.concat(n.afterBody),K),$=e.displayColors?l+2+e.boxPadding:0,qe(r,Q=>{qe(Q.before,K),qe(Q.lines,K),qe(Q.after,K)}),$=0,t.font=m.string,qe(n.footer,K),t.restore(),k+=P.width,{width:k,height:C}}function pN(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function gN(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function mN(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:c,right:h}}=n;let p="center";return r==="center"?p=i<=(c+h)/2?"left":"right":i<=o/2?p="left":i>=l-o/2&&(p="right"),gN(p,n,e,t)&&(p="center"),p}function w0(n,e,t){const r=t.yAlign||e.yAlign||pN(n,t);return{xAlign:t.xAlign||e.xAlign||mN(n,e,t,r),yAlign:r}}function yN(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function _N(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function E0(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,p=i+o,{topLeft:m,topRight:v,bottomLeft:E,bottomRight:I}=Fl(l);let P=yN(e,c);const C=_N(e,h,p);return h==="center"?c==="left"?P+=p:c==="right"&&(P-=p):c==="left"?P-=Math.max(m,E)+i:c==="right"&&(P+=Math.max(v,I)+i),{x:Rn(P,0,r.width-e.width),y:Rn(C,0,r.height-e.height)}}function Kc(n,e,t){const r=Mn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function T0(n){return dr([],Br(n))}function vN(n,e,t){return $s(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function I0(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const sI={beforeTitle:Ur,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Je(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function un(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?sI[e].call(t,r):i}class S0 extends qs{static positioners=Al;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new UT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=vN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=un(r,"beforeTitle",this,e),o=un(r,"title",this,e),l=un(r,"afterTitle",this,e);let c=[];return c=dr(c,Br(i)),c=dr(c,Br(o)),c=dr(c,Br(l)),c}getBeforeBody(e,t){return T0(un(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return qe(e,o=>{const l={before:[],lines:[],after:[]},c=I0(r,o);dr(l.before,Br(un(c,"beforeLabel",this,o))),dr(l.lines,un(c,"label",this,o)),dr(l.after,Br(un(c,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return T0(un(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=un(r,"beforeFooter",this,e),o=un(r,"footer",this,e),l=un(r,"afterFooter",this,e);let c=[];return c=dr(c,Br(i)),c=dr(c,Br(o)),c=dr(c,Br(l)),c}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let c=[],h,p;for(h=0,p=t.length;h<p;++h)c.push(fN(this.chart,t[h]));return e.filter&&(c=c.filter((m,v,E)=>e.filter(m,v,E,r))),e.itemSort&&(c=c.sort((m,v)=>e.itemSort(m,v,r))),qe(c,m=>{const v=I0(e.callbacks,m);i.push(un(v,"labelColor",this,m)),o.push(un(v,"labelPointStyle",this,m)),l.push(un(v,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const c=Al[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=v0(this,r),p=Object.assign({},c,h),m=w0(this.chart,r,p),v=E0(r,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:v}=Fl(c),{x:E,y:I}=e,{width:P,height:C}=t;let k,z,$,K,Q,G;return o==="center"?(Q=I+C/2,i==="left"?(k=E,z=k-l,K=Q+l,G=Q-l):(k=E+P,z=k+l,K=Q-l,G=Q+l),$=k):(i==="left"?z=E+Math.max(h,m)+l:i==="right"?z=E+P-Math.max(p,v)-l:z=this.caretX,o==="top"?(K=I,Q=K-l,k=z-l,$=z+l):(K=I+C,Q=K+l,k=z+l,$=z-l),G=K),{x1:k,x2:z,x3:$,y1:K,y2:Q,y3:G}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,c,h;if(o){const p=Qo(r.rtl,this.x,this.width);for(e.x=Kc(this,r.titleAlign,r),t.textAlign=p.textAlign(r.titleAlign),t.textBaseline="middle",l=Gt(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(i[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:h,boxWidth:p}=o,m=Gt(o.bodyFont),v=Kc(this,"left",o),E=i.x(v),I=h<m.lineHeight?(m.lineHeight-h)/2:0,P=t.y+I;if(o.usePointStyle){const C={radius:Math.min(p,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=i.leftForLtr(E,p)+p/2,z=P+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ap(e,C,k,z),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ap(e,C,k,z)}else{e.lineWidth=He(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=i.leftForLtr(E,p),k=i.leftForLtr(i.xPlus(E,1),p-2),z=Fl(l.borderRadius);Object.values(z).some($=>$!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Pp(e,{x:C,y:P,w:p,h,radius:z}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Pp(e,{x:k,y:P+1,w:p-2,h:h-2,radius:z}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(C,P,p,h),e.strokeRect(C,P,p,h),e.fillStyle=l.backgroundColor,e.fillRect(k,P+1,p-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:p,boxPadding:m}=r,v=Gt(r.bodyFont);let E=v.lineHeight,I=0;const P=Qo(r.rtl,this.x,this.width),C=function(x){t.fillText(x,P.x(e.x+I),e.y+E/2),e.y+=E+o},k=P.textAlign(l);let z,$,K,Q,G,te,R;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Kc(this,k,r),t.fillStyle=r.bodyColor,qe(this.beforeBody,C),I=c&&k!=="right"?l==="center"?p/2+m:p+2+m:0,Q=0,te=i.length;Q<te;++Q){for(z=i[Q],$=this.labelTextColors[Q],t.fillStyle=$,qe(z.before,C),K=z.lines,c&&K.length&&(this._drawColorBox(t,e,Q,P,r),E=Math.max(v.lineHeight,h)),G=0,R=K.length;G<R;++G)C(K[G]),E=v.lineHeight;qe(z.after,C)}I=0,E=v.lineHeight,qe(this.afterBody,C),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,c;if(o){const h=Qo(r.rtl,this.x,this.width);for(e.x=Kc(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=Gt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<o;++c)t.fillText(i[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:c,y:h}=e,{width:p,height:m}=r,{topLeft:v,topRight:E,bottomLeft:I,bottomRight:P}=Fl(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+v,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(c+p-E,h),t.quadraticCurveTo(c+p,h,c+p,h+E),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(c+p,h+m-P),t.quadraticCurveTo(c+p,h+m,c+p-P,h+m),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(c+I,h+m),t.quadraticCurveTo(c,h+m,c,h+m-I),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(c,h+v),t.quadraticCurveTo(c,h,c+v,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=Al[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=v0(this,e),h=Object.assign({},l,this._size),p=w0(t,e,h),m=E0(e,h,p,t);(i._to!==m.x||o._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Mn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),LT(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),VT(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:c,index:h})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[h],index:h}}),o=!Ih(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),c=this._positionChanged(l,e),h=t||!Ih(l,o)||c;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=Al[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}var oI={id:"tooltip",_element:S0,positioners:Al,afterInit(n,e,t){t&&(n.tooltip=new S0({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wN=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function EN(n,e,t,r){const i=n.indexOf(e);if(i===-1)return wN(n,e,t,r);const o=n.lastIndexOf(e);return i!==o?t:i}const TN=(n,e)=>n===null?null:Rn(Math.round(n),0,e);function x0(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class aI extends ma{static id="category";static defaults={ticks:{callback:x0}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:o}of t)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Je(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:EN(r,e,Ve(t,e),this._addedLabels),TN(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return x0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function IN(n,e){const t=[],{bounds:i,step:o,min:l,max:c,precision:h,count:p,maxTicks:m,maxDigits:v,includeBounds:E}=n,I=o||1,P=m-1,{min:C,max:k}=e,z=!Je(l),$=!Je(c),K=!Je(p),Q=(k-C)/(v+1);let G=Pv((k-C)/P/I)*I,te,R,x,A;if(G<1e-14&&!z&&!$)return[{value:C},{value:k}];A=Math.ceil(k/G)-Math.floor(C/G),A>P&&(G=Pv(A*G/P/I)*I),Je(h)||(te=Math.pow(10,h),G=Math.ceil(G*te)/te),i==="ticks"?(R=Math.floor(C/G)*G,x=Math.ceil(k/G)*G):(R=C,x=k),z&&$&&o&&cD((c-l)/o,G/1e3)?(A=Math.round(Math.min((c-l)/G,m)),G=(c-l)/A,R=l,x=c):K?(R=z?l:R,x=$?c:x,A=p-1,G=(x-R)/A):(A=(x-R)/G,Ml(A,Math.round(A),G/1e3)?A=Math.round(A):A=Math.ceil(A));const O=Math.max(bv(G),bv(R));te=Math.pow(10,Je(h)?O:h),R=Math.round(R*te)/te,x=Math.round(x*te)/te;let N=0;for(z&&(E&&R!==l?(t.push({value:l}),R<l&&N++,Ml(Math.round((R+N*G)*te)/te,l,k0(l,Q,n))&&N++):R<l&&N++);N<A;++N){const L=Math.round((R+N*G)*te)/te;if($&&L>c)break;t.push({value:L})}return $&&E&&x!==c?t.length&&Ml(t[t.length-1].value,c,k0(c,Q,n))?t[t.length-1].value=c:t.push({value:c}):(!$||x===c)&&t.push({value:x}),t}function k0(n,e,{horizontal:t,minRotation:r}){const i=Ps(r),o=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class SN extends ma{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const l=h=>i=t?i:h,c=h=>o=r?o:h;if(e){const h=sa(i),p=sa(o);h<0&&p<0?c(0):h>0&&p>0&&l(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);c(o+h),e||l(i-h)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=IN(i,o);return e.bounds==="ticks"&&hD(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return CT(e,this.chart.options.locale,this.options.ticks.format)}}class lI extends SN{static id="linear";static defaults={ticks:{callback:AT.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nn(e)?e:0,this.max=Nn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Ps(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cn=Object.keys(ed);function C0(n,e){return n-e}function A0(n,e){if(Je(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Nn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Jl(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function P0(n,e,t,r){const i=cn.length;for(let o=cn.indexOf(n);o<i-1;++o){const l=ed[cn[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return cn[o]}return cn[i-1]}function xN(n,e,t,r,i){for(let o=cn.length-1;o>=cn.indexOf(t);o--){const l=cn[o];if(ed[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return cn[t?cn.indexOf(t):0]}function kN(n){for(let e=cn.indexOf(n)+1,t=cn.length;e<t;++e)if(ed[cn[e]].common)return cn[e]}function b0(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=Cg(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function CN(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let c,h;for(c=o;c<=l;c=+i.add(c,1,r))h=t[c],h>=0&&(e[h].major=!0);return e}function R0(n,e,t){const r=[],i={},o=e.length;let l,c;for(l=0;l<o;++l)c=e[l],i[c]=l,r.push({value:c,major:!1});return o===0||!t?r:CN(n,r,i,t)}class D0 extends ma{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new WO._date(e.adapters.date);i.init(t),Nl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:A0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!c&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Nn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=Nn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,c=yD(i,o,l);return this._unit=t.unit||(r.autoSkip?P0(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):xN(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kN(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),R0(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Rn(t,0,l),r=Rn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||P0(o.minUnit,t,r,this._getLabelCapacity(t)),c=Ve(i.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,p=Jl(h)||h===!0,m={};let v=t,E,I;if(p&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,p?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const P=i.ticks.source==="data"&&this.getDataTimestamps();for(E=v,I=0;E<r;E=+e.add(E,c,l),I++)b0(m,E,P);return(E===r||i.bounds==="ticks"||I===1)&&b0(m,E,P),Object.keys(m).sort(C0).map(C=>+C)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return tt(l,[e,t,r],this);const c=o.time.displayFormats,h=this._unit,p=this._majorUnit,m=h&&c[h],v=p&&c[p],E=r[t],I=p&&v&&E&&E.major;return this._adapter.format(e,i||(I?v:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Ps(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*l,h:r*l+c*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,R0(this,[e],this._majorUnit),i),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(A0(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vD(e.sort(C0))}}function Gc(n,e,t){let r=0,i=n.length-1,o,l,c,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=bs(n,"pos",e)),{pos:o,time:c}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=bs(n,"time",e)),{time:o,pos:c}=n[r],{time:l,pos:h}=n[i]);const p=l-o;return p?c+(h-c)*(e-o)/p:c}class HN extends D0{static id="timeseries";static defaults=D0.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Gc(t,this.min),this._tableRange=Gc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,c,h,p,m;for(l=0,c=e.length;l<c;++l)p=e[l],p>=t&&p<=r&&i.push(p);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=i.length;l<c;++l)m=i[l+1],h=i[l-1],p=i[l],Math.round((m+h)/2)!==p&&o.push({time:p,pos:l/(c-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Gc(this._table,r*this._tableRange+this._minPos,!0)}}const uI="label";function O0(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function AN(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function cI(n,e){n.labels=e}function hI(n,e,t=uI){const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function PN(n,e=uI){const t={labels:[],datasets:[]};return cI(t,n.labels),hI(t,n.datasets,e),t}function bN(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:c,options:h,plugins:p=[],fallbackContent:m,updateMode:v,...E}=n,I=re.useRef(null),P=re.useRef(null),C=()=>{I.current&&(P.current=new pu(I.current,{type:l,data:PN(c,o),options:h&&{...h},plugins:p}),O0(e,P.current))},k=()=>{O0(e,null),P.current&&(P.current.destroy(),P.current=null)};return re.useEffect(()=>{!i&&P.current&&h&&AN(P.current,h)},[i,h]),re.useEffect(()=>{!i&&P.current&&cI(P.current.config.data,c.labels)},[i,c.labels]),re.useEffect(()=>{!i&&P.current&&c.datasets&&hI(P.current.config.data,c.datasets,o)},[i,c.datasets]),re.useEffect(()=>{P.current&&(i?(k(),setTimeout(C)):P.current.update(v))},[i,h,c.labels,c.datasets,v]),re.useEffect(()=>{P.current&&(k(),setTimeout(C))},[l]),re.useEffect(()=>(C(),()=>k()),[]),ae.jsx("canvas",{ref:I,role:"img",height:t,width:r,...E,children:m})}const RN=re.forwardRef(bN);function DN(n,e){return pu.register(e),re.forwardRef((t,r)=>ae.jsx(RN,{...t,ref:r,type:n}))}const dI=DN("line",jO),ON=yE(Xh,"stats"),fI=async()=>{const n=await bE(ON),e=[];return n.forEach(t=>e.push({id:t.id,...t.data()})),e};pu.register(aI,lI,eI,ZT,iI,oI,nI);const NN=({botId:n})=>{const[e,t]=re.useState([]),[r,i]=re.useState(!0);re.useEffect(()=>{o()},[n]);const o=async()=>{i(!0);const h=await fI();t(h.history||[]),i(!1)},l={labels:e.map(h=>h.date),datasets:[{label:"Active Users",data:e.map(h=>h.usersCount),borderColor:"#4F46E5",backgroundColor:"rgba(79, 70, 229, 0.2)",tension:.4,fill:!0},{label:"Server Count",data:e.map(h=>h.serversCount),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4,fill:!0}]},c={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}};return r?ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):ae.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-6 mt-6",children:ae.jsx(dI,{data:l,options:c})})},MN=()=>{const[n,e]=re.useState([]),[t,r]=re.useState(!0);re.useEffect(()=>{i()},[]);const i=async()=>{r(!0);const o=await mT();e(o||[]),r(!1)};return t?ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex flex-wrap",children:[ae.jsx($f,{title:"Total Bots",value:n.length,color:"bg-indigo-500"}),ae.jsx($f,{title:"Total Servers",value:n.reduce((o,l)=>o+(l.serversCount||0),0),color:"bg-green-500"}),ae.jsx($f,{title:"Total Users",value:n.reduce((o,l)=>o+(l.usersCount||0),0),color:"bg-blue-500"})]}),ae.jsx(bR,{}),ae.jsx(NN,{botId:n[0]?.id})]})},LN=()=>{const{botId:n}=ox(),[e,t]=re.useState(null),[r,i]=re.useState(!0);re.useEffect(()=>{o()},[n]);const o=async()=>{i(!0);const c=await PR(n);t(c),i(!1)},l=async c=>{const h={...e.features,[c]:!e.features[c]},p=await yT(n,h);t({...e,features:p.features})};return r?ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):e?ae.jsx("div",{className:"p-6",children:ae.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:e.name}),ae.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["Servers: ",e.serversCount||0]}),ae.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["Users: ",e.usersCount||0]}),ae.jsx("div",{className:"flex flex-wrap space-x-3",children:Object.keys(e.features||{}).map(c=>ae.jsxs("button",{onClick:()=>l(c),className:`flex items-center px-4 py-2 rounded-full text-white ${e.features[c]?"bg-green-500":"bg-red-500"} mb-2`,children:[e.features[c]?ae.jsx(gT,{className:"mr-2"}):ae.jsx(pT,{className:"mr-2"}),c]},c))})]})}):ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Bot not found"})};pu.register(aI,lI,eI,ZT,iI,oI,nI);const VN=({botId:n})=>{const[e,t]=re.useState([]),[r,i]=re.useState(!0);re.useEffect(()=>{o()},[n]);const o=async()=>{i(!0);const h=await fI();t(h.history||[]),i(!1)},l={labels:e.map(h=>h.date),datasets:[{label:"Active Users",data:e.map(h=>h.usersCount),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.2)",tension:.3,fill:!0},{label:"Server Count",data:e.map(h=>h.serversCount),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.3,fill:!0}]},c={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}};return r?ae.jsx("div",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):ae.jsx("div",{className:"p-6",children:ae.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Bot Analytics"}),ae.jsx(dI,{data:l,options:c})]})})};function FN(){return ae.jsx(xx,{children:ae.jsxs(Tx,{children:[ae.jsx(_l,{path:"/",element:ae.jsx(xR,{})}),ae.jsx(_l,{path:"/dashboard",element:ae.jsx(MN,{})}),ae.jsx(_l,{path:"/bot/:id",element:ae.jsx(LN,{})}),ae.jsx(_l,{path:"/analytics",element:ae.jsx(VN,{})})]})})}const UN=CS.createRoot(document.getElementById("root"));UN.render(ae.jsx(Kr.StrictMode,{children:ae.jsx(FN,{})}));
